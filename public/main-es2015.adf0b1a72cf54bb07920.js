(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function l(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,l)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(a,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function l(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,l)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(a,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),s=n("os0x"),l=n("zVF4"),a=n("x7I3"),u=i.SDK_VERSION,c=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===o.LogLevel.DEBUG?h.DEBUG:c.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=o.LogLevel.ERROR;break;case h.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=o.LogLevel.DEBUG){var i=n.map(m);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=e.map(m);c.error.apply(c,["Firestore ("+u+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n){if(e.length!==n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function D(t,e,n){if(e.length<n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function O(t,e,n,r){if(e.length<n||e.length>r)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function N(t,e,n,r){U(t,e,W(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&N(t,e,n,r)}function M(t,e,n,r){U(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,l=i;s<l.length;s++){var a=l[s];if(a===r)return;o.push(B(a))}var u=B(r);throw new C(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!e.some((function(t){return t===r})))throw new C(w.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "))}function U(t,e,n,r){if(!("object"===e?q(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function q(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function j(t,e,n){if(void 0===n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function z(t,e,n){k(e,(function(e,r){if(n.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function H(t,e,n,r){var i=B(r);return new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function X(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $(){if(!b.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){$(),this._binaryString=t}return t.fromBase64String=function(e){P("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),$();try{var n=b.getPlatform().atob(e);return new t(n)}catch(r){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(P("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join("");return new t(n)},t.prototype.toBase64=function(){return P("Blob.toBase64",arguments,0),$(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){P("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),tt=E(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),nt="(default)",rt=function(){function t(t,e){this.projectId=t,this.database=e||nt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===nt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),it=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.EMPTY_PATH=new e([]),e}(ot),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var l=t[i];if("\\"===l){if(i+1===t.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===l?(s=!s,i++):"."!==l||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ut=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),ct=function(){return function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}}(),ht=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t}({}),dt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),pt=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=dt.createAndSchedule(this,t,e,n,(function(t){return r.removeDelayedOperation(t)}));return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue((function(){return Promise.resolve()}))},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){y(t===ht.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ht.All&&i.timerId===t)break}return e.drain()}))},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),ft="\x01",gt="\x01",mt="\x10",vt="\x11";function yt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_t(e)),e=bt(t.get(n),e);return _t(e)}function bt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=ft+mt;break;case ft:n+=ft+vt;break;default:n+=o}}return n}function _t(t){return t+ft+gt}function wt(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===ft&&t.charAt(1)===gt,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf(ft,o);switch((s<0||s>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case gt:var l=t.substring(o,s),a=void 0;0===i.length?a=l:(a=i+=l,i=""),r.push(a);break;case mt:i+=t.substring(o,s),i+="\0";break;case vt:i+=t.substring(o,s+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=s+2}return new st(r)}var Ct=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Et=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ct(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ct(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||Tt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new It(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new It(this.root,t,this.comparator,!0)},t}(),It=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Tt.EMPTY=new kt;var xt=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new At(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new At(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),At=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pt=new St(ut.comparator);function Dt(){return Pt}function Ot(){return Dt()}var Nt=new St(ut.comparator);function Rt(){return Nt}var Mt=new St(ut.comparator);function Lt(){return Mt}var Ft=new xt(ut.comparator);function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ft,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Ut=new xt(Q);function qt(){return Ut}var Bt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,y(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(l=r[n]).key.isEqual(t)&&(e=l.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var l;(l=s[o]).key.isEqual(t)&&(e=l.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Vt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations)&&Y(this.baseMutations,t.baseMutations)},t}(),jt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Lt(),s=e.mutations,l=0;l<s.length;l++)o=o.insert(s[l].key,r[l].version);return new t(e,n,r,i,o)},t}(),zt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Ht=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).iterate({index:Re.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=Gt(n),Xt(t).put(e)}))},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=Gt(e),Xt(t).put(n)}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Yt(t),s=Qt(t);return s.add({}).next((function(l){y("number"==typeof l,"Auto-generated key is not a number");var a=new Bt(l,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,a);i.documentKeysByBatchId[l]=a.keys();for(var c=[],h=0,d=r;h<d.length;h++){var p=d[h],f=Me.key(i.userId,p.key.path,l);c.push(s.put(u)),c.push(o.put(f,Me.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return zt.waitFor(c).next((function(){return a}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qt(t).get(e).next((function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?zt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qt(t).iterate({index:Re.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()})).next((function(){return o}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).loadAll(Re.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Me.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Yt(t).iterate({range:i},(function(r,i,s){var l=r[0],a=r[2],u=wt(r[1]);if(l===n.userId&&e.path.isEqual(u))return Qt(t).get(a).next((function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+a);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+a),o.push(n.serializer.fromDbMutationBatch(t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Q),i=[];return e.forEach((function(e){var o=Me.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),l=Yt(t).iterate({range:s},(function(t,i,o){var s=t[0],l=t[2],a=wt(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(l):o.done()}));i.push(l)})),zt.waitFor(i).next((function(){return n.lookupMutationBatches(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=Me.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),l=new xt(Q);return Yt(t).iterate({range:s},(function(t,e,o){var s=t[0],a=t[2],u=wt(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(l=l.add(a)):o.done()})).next((function(){return n.lookupMutationBatches(t,l)}))},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Qt(t).get(e).next((function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))})))})),zt.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kt(t.simpleDbTransaction,this.userId,e).next((function(r){return n.removeCachedMutationKeys(e.batchId),zt.forEach(r,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return zt.resolve();var r=IDBKeyRange.lowerBound(Me.prefixForUser(e.userId)),i=[];return Yt(t).iterate({range:r},(function(t,n,r){if(t[0]===e.userId){var o=wt(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.canonicalString()})))}))}))},t.prototype.containsKey=function(t,e){return Wt(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Xt(t).get(this.userId).next((function(t){return t||new Ne(e.userId,-1,"")}))},t}();function Wt(t,e,n){var r=Me.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Yt(t).iterate({range:o,keysOnly:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Kt(t,e,n){var r=t.store(Re.store),i=t.store(Me.store),o=[],s=IDBKeyRange.only(n.batchId),l=0,a=r.iterate({range:s},(function(t,e,n){return l++,n.delete()}));o.push(a.next((function(){y(1===l,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=Me.key(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return zt.waitFor(o).next((function(){return u}))}function Gt(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Qt(t){return hn.getStore(t,Re.store)}function Yt(t){return hn.getStore(t,Me.store)}function Xt(t){return hn.getStore(t,Ne.store)}var Zt=1,$t=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Jt=function(){function t(t,e){this.generatorId=t,y((t&Zt)===t,"Generator ID "+t+" contains more than "+Zt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Zt,t},t.prototype.after=function(t){return this.seek(t+(1<<Zt)),this.next()},t.prototype.seek=function(t){y((t&Zt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t($t.QueryCache,2)},t.forSyncEngine=function(){return new t($t.SyncEngine)},t}(),te="SimpleDb",ee=function(){function t(e){this.db=e,12.2===t.getIOSVersion(l.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),f(te,"Opening database:",e),new zt((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){f(te,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new re(s.transaction);r.createOrUpgrade(n,i,t.oldVersion,Ae).next((function(){f(te,"Database upgrade to version "+Ae+" complete")}))}})).toPromise()},t.delete=function(t){return f(te,"Removing database:",t),oe(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=l.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=re.open(this.db,t,e),i=n(r).catch((function(t){return r.abort(t),zt.reject(t)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},t.prototype.close=function(){this.db.close()},t}(),ne=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return oe(this.dbCursor.delete())},t}(),re=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ct,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=t.target.error;le(n),e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f(te,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new ie(e)},t}(),ie=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f(te,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(f(te,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),oe(n)},t.prototype.add=function(t){return f(te,"ADD",this.store.name,t,t),oe(this.store.add(t))},t.prototype.get=function(t){var e=this;return oe(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f(te,"GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f(te,"DELETE",this.store.name,t),oe(this.store.delete(t))},t.prototype.count=function(){return f(te,"COUNT",this.store.name),oe(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.deleteAll=function(t,e){f(te,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(t,e,n){return n.delete()}))},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new zt((function(n,r){e.onerror=function(t){var e=t.target.error;le(e),r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.iterateCursor=function(t,e){var n=[];return new zt((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ne(i),s=e(i.primaryKey,i.value,o);if(s instanceof zt){var l=s.catch((function(t){return o.done(),zt.reject(t)}));n.push(l)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return zt.waitFor(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function oe(t){return new zt((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=t.target.error;le(e),n(e)}}))}var se=!1;function le(t){if(!se){var e=ee.getIOSVersion(l.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";t.message.indexOf(n)>=0&&(se=!0,setTimeout((function(){throw new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}),0))}}}var ae=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return Et.fromTimestamp(new Ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return he(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)}))},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next((function(){return n.retrieveMetadata(t).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)}))}))},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return ue(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return y(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ue(t).iterate((function(s,l){var a=r.serializer.fromDbTarget(l);a.sequenceNumber<=e&&void 0===n[a.targetId]&&(i++,o.push(r.removeQueryData(t,a)))})).next((function(){return zt.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate((function(t,r){var i=n.serializer.fromDbTarget(r);e(i)}))},t.prototype.retrieveMetadata=function(t){return ce(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,hn.getStore(n,je.store)).put(je.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ue(t).iterate({range:i,index:qe.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.fromDbTarget(r);e.isEqual(s.query)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=de(t);return e.forEach((function(e){var s=yt(e.path);i.push(o.put(new Be(n,s))),i.push(r.referenceDelegate.addReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=de(t);return zt.forEach(e,(function(e){var o=yt(e.path);return zt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=de(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=de(t),i=Vt();return r.iterate({range:n,keysOnly:!0},(function(t,e,n){var r=wt(t[1]),o=new ut(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=yt(e.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return de(t).iterate({index:Be.documentTargetsIndex,keysOnly:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},t}();function ue(t){return hn.getStore(t,qe.store)}function ce(t){return ee.getStore(t,je.store).get(je.key).next((function(t){return y(null!==t,"Missing metadata row."),t}))}function he(t){return ce(t).next((function(t){return t.highestListenSequenceNumber}))}function de(t){return hn.getStore(t,Be.store)}var pe=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)},t}(),fe=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.data=r,s.proto=o,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return s.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(pe),ge=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(pe),me=function(t){function e(e,n){return t.call(this,e,n)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(pe),ve=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return x(this.inner)},t}(),ye=function(){function t(){this.changes=Dt(),this.documentSizes=new ve((function(t){return t.toString()}))}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?zt.resolve(r):this.getFromCache(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),be="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",_e=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=ee.getStore(t,We.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=Ee(t),o=Vt(),s=0,l=e;s<l.length;s++){var a=l[s],u=a.key,c=a.doc;r.push(i.put(Ie(u),c)),o=o.add(u),r.push(this.indexManager.addToCollectionParentIndex(t,u.path.popLast()))}this.keepDocumentChangeLog&&r.push(Se(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return zt.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=Ee(t),r=Ie(e);return n.get(r).next((function(t){return t?n.delete(r).next((function(){return Te(t)})):zt.resolve(0)}))},t.prototype.getEntry=function(t,e){var n=this;return Ee(t).get(Ie(e)).next((function(t){return t?n.serializer.fromDbRemoteDocument(t):null}))},t.prototype.getSizedEntry=function(t,e){var n=this;return Ee(t).get(Ie(e)).next((function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Te(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.forEachDbEntry(t,e,(function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)})).next((function(){return r}))},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ot(),i=new St(ut.comparator);return this.forEachDbEntry(t,e,(function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Te(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return zt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ee(t).iterate({range:r},(function(t,e,r){for(var s=ut.fromSegments(t);o&&ut.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Rt(),i=e.path.length+1,o=e.path.toArray(),s=IDBKeyRange.lowerBound(o);return Ee(t).iterate({range:s},(function(t,o,s){if(t.length===i){var l=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(l.key.path)?l instanceof fe&&e.matches(l)&&(r=r.insert(l.key,l)):s.done()}})).next((function(){return r}))},t.prototype.getNewDocumentChanges=function(t){var e=this;y(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Vt(),r=Dt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,s=Se(t);return s.iterate({range:i},(function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(s).next((function(){return zt.reject(new C(w.DATA_LOSS,be))}));n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(e.getEntry(t,n).next((function(t){var e=t||new ge(n,Et.forDeletedDoc());r=r.insert(n,e)})))})),zt.waitFor(i)})).next((function(){return r}))},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Se(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},(function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()}))},t.prototype.newChangeBuffer=function(){return new Ce(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return we(t).get(Ue.key).next((function(t){return y(!!t,"Missing document cache metadata"),t}))},t.prototype.setMetadata=function(t,e){return we(t).put(Ue.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.setMetadata(t,r)}))},t}();function we(t){return hn.getStore(t,Ue.store)}var Ce=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),s=e.documentSizes.get(t);y(void 0!==s,"Attempting to change document "+t.toString()+" without having read it first");var l=Te(o);r+=l-s,i.push({key:t,doc:o})})),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ye);function Ee(t){return hn.getStore(t,Ve.store)}function Se(t){return hn.getStore(t,We.store)}function Ie(t){return t.path.toArray()}function Te(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var ke=function(){function t(){this.collectionParentIndex=new xe}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),zt.resolve()},t.prototype.getCollectionParents=function(t,e){return zt.resolve(this.collectionParentIndex.getEntries(e))},t}(),xe=function(){function t(){this.index={}}return t.prototype.add=function(t){y(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new xt(st.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new xt(st.comparator)).toArray()},t}(),Ae=8,Pe=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=Ae,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Oe.store)}(t),function(t){t.createObjectStore(Ne.store,{keyPath:Ne.keyPath}),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Me.store)}(t),He(t),function(t){t.createObjectStore(Ve.store)}(t));var o=zt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Be.store),t.deleteObjectStore(qe.store),t.deleteObjectStore(je.store)}(t),He(t)),o=o.next((function(){return function(t){var e=t.store(je.store),n=new je(0,0,Et.MIN.toTimestamp(),0);return e.put(je.key,n)}(e)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Re.store).loadAll().next((function(n){t.deleteObjectStore(Re.store),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var r=e.store(Re.store),i=n.map((function(t){return r.put(t)}));return zt.waitFor(i)}))}(t,e)}))),o=o.next((function(){!function(t){t.createObjectStore(Ke.store,{keyPath:Ke.keyPath})}(t),function(t){t.createObjectStore(We.store,{keyPath:"id",autoIncrement:!0})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(e)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Ue.store)}(t),i.addDocumentGlobal(e)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(e)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,e)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ve.store).iterate((function(t,n){e+=Te(n)})).next((function(){var n=new Ue(e);return t.store(Ue.store).put(Ue.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ne.store),r=t.store(Re.store);return n.loadAll().next((function(n){return zt.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Re.userMutationsIndex,i).next((function(r){return zt.forEach(r,(function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Kt(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Be.store),n=t.store(Ve.store);return he(t).next((function(t){var r=[];return n.iterate((function(n,i){var o=new st(n),s=function(t){return[0,yt(t)]}(o);r.push(e.get(s).next((function(n){return n?zt.resolve():function(n){return e.put(new Be(0,yt(n),t))}(o)})))})).next((function(){return zt.waitFor(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ze.store,{keyPath:ze.keyPath});var n=e.store(ze.store),r=new xe,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:yt(i)})}};return e.store(Ve.store).iterate({keysOnly:!0},(function(t,e){var n=new st(t);return i(n.popLast())})).next((function(){return e.store(Me.store).iterate({keysOnly:!0},(function(t,e){var n=wt(t[1]);return i(n.popLast())}))}))},t}(),De=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Oe=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Ne=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Re=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Me=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yt(e)]},t.key=function(t,e,n){return[t,yt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Le=function(){return function(t,e){this.path=t,this.readTime=e}}(),Fe=function(){return function(t,e){this.path=t,this.version=e}}(),Ve=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Ue=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),qe=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Be=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),je=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ze=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function He(t){t.createObjectStore(Be.store,{keyPath:Be.keyPath}).createIndex(Be.documentTargetsIndex,Be.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qe.store,{keyPath:qe.keyPath}).createIndex(qe.queryTargetsIndexName,qe.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(je.store)}var We=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Ke=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),Ge=[Ne.store,Re.store,Me.store,Ve.store,qe.store,Oe.store,je.store,Be.store].concat([Ke.store,We.store]).concat([Ue.store]).concat([ze.store]),Qe=function(){function t(){this.collectionParentsCache=new xe}return t.prototype.addToCollectionParentIndex=function(t,e){if(y(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){y(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ye(t).put({collectionId:n,parent:yt(r)})}return zt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return Ye(t).loadAll(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wt(o.parent))}return n}))},t}();function Ye(t){return hn.getStore(t,ze.store)}var Xe=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Ze=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Et.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),$e=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ut.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ge(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ut.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new me(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof fe){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new Ve(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ge){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new Ve(null,new Le(n,r),null,i)}return t instanceof me?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new Ve(new Fe(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new De(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Ct(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),i=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new Re(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),r=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),i=Ct.fromMillis(t.localWriteTimeMs);return new Bt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(yt(t.path))})),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Vt(),n=0,r=t;n<r.length;n++)e=e.add(new ut(wt(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Ze(e,t.targetId,Xe.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){y(Xe.Listen===t.purpose,"Only queries with purpose "+Xe.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new qe(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Je(t,e){var n=t[1],r=e[1],i=Q(t[0],e[0]);return 0===i?Q(n,r):i}var tn=function(){function t(t){this.maxElements=t,this.buffer=new xt(Je),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Je(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),en={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),rn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){y(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==nn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;y(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ht.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(dn)}))},t}(),on=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zt.resolve(it.INVALID);var r=new tn(e);return this.delegate.forEachTarget(t,(function(t){return r.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return r.addElement(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===nn.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(en)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),en):n.runGarbageCollection(t,e)}))},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,s,l,a,u,c=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,l=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-o)+"ms\n\tDetermined least recently used "+r+" in "+(l-s)+"ms\n\tRemoved "+i+" targets in "+(a-l)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-o)+"ms"),zt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),sn="IndexedDbPersistence",ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",an="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",un="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",cn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(function(){return function(){}}()),hn=function(){function t(e,n,r,i,o,s,l){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(w.UNIMPLEMENTED,un);if(this.referenceDelegate=new gn(this,s),this.dbName=e+t.MAIN_DATABASE,this.serializer=new $e(o),this.document=r.document,this.allowTabSynchronization=void 0!==l,this.queryCache=new ae(this.referenceDelegate,this.serializer),this.indexManager=new Qe,this.remoteDocumentCache=new _e(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof cn)return ee.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,l){return s.__awaiter(this,void 0,void 0,(function(){var a;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,(a=new t(e,n,r,i,o,l)).start()];case 1:return s.sent(),[2,a]}}))}))},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,l,a){return s.__awaiter(this,void 0,void 0,(function(){var u;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,(u=new t(e,n,r,i,o,l,a)).start()];case 1:return s.sent(),[2,u]}}))}))},t.prototype.start=function(){var t=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),ee.openOrCreate(this.dbName,Ae,new Pe(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()})).then((function(){return t.simpleDb.runTransaction("readonly",[je.store],(function(e){return he(e).next((function(e){t.listenSequence=new it(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)}))}))})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Ge,(function(e){return t.remoteDocumentCache.start(e)}))},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Ge,(function(e){return fn(e).put(new Ke(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(t.isPrimary)})),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0}))}))},t.prototype.verifyPrimaryLease=function(t){var e=this;return pn(t).get(Oe.key).next((function(t){return zt.resolve(e.isLocalClient(t))}))},t.prototype.removeClientMetadata=function(t){return fn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var o=t.getStore(i,Ke.store);return o.loadAll().next((function(t){e=r.filterActiveClients(t,18e5),n=t.filter((function(t){return-1===e.indexOf(t)}))})).next((function(){return zt.forEach(n,(function(t){return o.delete(t.clientId)}))})).next((function(){if((e=e.filter((function(t){return t.clientId!==r.clientId}))).length>0){var t=e.map((function(t){return t.lastProcessedDocumentChangeId||0})),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}}))}))]);case 1:i.sent(),n.forEach((function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))})),i.label=2;case 2:return[2]}}))}))},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ht.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return pn(t).get(Oe.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,an);return!1}}return!(!e.networkEnabled||!e.inForeground)||fn(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&f(sn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Oe.store,Ke.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Ke.store],(function(e){return fn(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return t.isAvailable()?[4,ee.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),Ht.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return y(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return f(sn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Ge,(function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new C(w.FAILED_PRECONDITION,ln);return n(new cn(i,r.listenSequence.next()))})).next((function(t){return r.acquireOrExtendPrimaryLease(i).next((function(){return t}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new cn(i,r.listenSequence.next()))}))}))},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return pn(t).get(Oe.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,an)}))},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Oe(this.clientId,this.allowTabSynchronization,Date.now());return pn(t).put(Oe.key,e)},t.isAvailable=function(){return ee.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=pn(t);return n.get(Oe.key).next((function(t){return e.isLocalClient(t)?(f(sn,"Releasing primary lease."),n.delete(Oe.key)):zt.resolve()}))},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(sn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return g(sn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function dn(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===ln}(t))throw t;return f(sn,"Unexpectedly lost primary lease"),[2]}))}))}function pn(t){return t.store(Oe.store)}function fn(t){return t.store(Ke.store)}var gn=function(){function t(t,e){this.db=t,this.garbageCollector=new on(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return mn(t,e)},t.prototype.removeReference=function(t,e){return mn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return mn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?zt.resolve(!0):function(t,e){var n=!1;return Xt(t).iterateSerial((function(r){return Wt(t,r,e).next((function(t){return t&&(n=!0),zt.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,(function(s,l){if(l<=e){var a=n.isPinned(t,s).next((function(e){if(!e)return r++,n.removeOrphanedDocument(t,s).next((function(t){i+=t}))}));o.push(a)}})).next((function(){return zt.waitFor(o)})).next((function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)})).next((function(){return r}))},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return zt.waitFor([de(t).delete((n=e,[0,yt(n.path)])),i.removeEntry(t,e).next((function(t){r+=t}))]).next((function(){return r}))},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=de(t),i=it.INVALID;return r.iterate({index:Be.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==it.INVALID&&e(new ut(wt(n)),i),i=s,n=o):i=it.INVALID})).next((function(){i!==it.INVALID&&e(new ut(wt(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mn(t,e){return de(t).put(function(t,e){return new Be(0,yt(t.path),e)}(e,t.currentSequenceNumber))}var vn=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),yn=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),bn=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(yn.Estimate,n);case"previous":return new t(yn.Previous,n);case"none":case void 0:return new t(yn.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),_n=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),wn=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=vn.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(_n),Cn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(_n),En=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(_n);function Sn(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var In=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Sn(this.internalValue,t.internalValue)},e}(En),Tn=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Sn(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(En),kn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(_n),xn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof An?-1:this.defaultCompareTo(t)},e}(_n),An=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=vn.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===yn.Estimate?new xn(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===yn.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof xn?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(_n),Pn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_n),Dn=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=vn.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ut.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(_n),On=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_n),Nn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=Q(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e&&n.internalValue.get(t)||void 0})),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St(Q)),e}(_n),Rn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=vn.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},e}(_n),Mn=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new xt(at.comparator);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},t.prototype.applyTo=function(t){var e=Nn.EMPTY;return this.fields.forEach((function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Ln=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Fn=function(){return function(t,e){this.version=t,this.transformResults=e}}(),Vn=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Un=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof fe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof fe:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),qn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof fe?t.version:Et.MIN},t}(),Bn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Vn.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation."),new fe(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=qn.getPostMutationVersion(t);return new fe(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(qn),jn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Vn.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new me(this.key,e.version);var n=this.patchDocument(t);return new fe(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=qn.getPostMutationVersion(t),i=this.patchDocument(t);return new fe(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof fe?t.data:Nn.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}})),t},e}(qn),zn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Vn.Transform,r.precondition=Un.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new me(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new fe(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new fe(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new xt(at.comparator);return this.fieldTransforms.forEach((function(e){return t=t.add(e.field)})),new Mn(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Y(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof fe,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof fe&&(s=t.field(i.field)||null),n.push(o.applyToRemoteDocument(s,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],s=o.transform,l=null;e instanceof fe&&(l=e.field(o.field)||null),n.push(s.applyToLocalView(l,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(qn),Hn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Vn.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new ge(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ge(this.key,Et.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(qn),Wn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.getDocumentInternal(t,e,r)}))},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Dt();return i.forEach((function(t,e){e||(e=new ge(t,Et.forDeletedDoc())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ut(e)).next((function(t){var e=Rt();return t instanceof fe&&(e=e.insert(t.key,t)),e}))},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;y(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Rt();return this.indexManager.getCollectionParents(t,r).next((function(o){return zt.forEach(o,(function(o){var s=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,s).next((function(t){t.forEach((function(t,e){i=i.insert(t,e)}))}))})).next((function(){return i}))}))},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next((function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],s=0,l=o.mutations;s<l.length;s++){var a=l[s],u=a.key;if(e.path.isImmediateParentOf(u.path)){var c=n.get(u),h=a.applyToLocalView(c,c,o.localWriteTime);n=h instanceof fe?n.insert(u,h):n.remove(u)}}})).next((function(){return n.forEach((function(t,r){e.matches(r)||(n=n.remove(t))})),n}))},t}(),Kn=function(){function t(){this.refsByKey=new xt(Gn.compareByKey),this.refsByTarget=new xt(Gn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.removeRef(new Gn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.removeReferencesForId=function(t){var e=this,n=ut.EMPTY,r=new Gn(n,t),i=new Gn(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(t){e.removeRef(t),o.push(t.key)})),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ut.EMPTY,n=new Gn(e,t),r=new Gn(e,t+1),i=Vt();return this.refsByTarget.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Gn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||ut.comparator(t.key,e.key)},t}(),Qn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Kn,this.queryDataByTarget={},y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Wn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Wn(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)})).next((function(t){for(var i=[],o=[],s=Vt(),l=0,a=r;l<a.length;l++){i.push((p=a[l]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)s=s.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;o.push((p=d[h]).batchId);for(var f=0,g=p.mutations;f<g.length;f++)s=s.add(g[f].key)}return e.localDocuments.getDocuments(n,s).next((function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}}))}))}))},t.prototype.localWrite=function(t){var e=this,n=Ct.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Vt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return e.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],s=0,l=t;s<l.length;s++){var a=l[s],u=r.get(a.key);if(!a.isIdempotent){var c=a.fieldMask;if(c){var h=u instanceof fe?c.applyTo(u.data):Nn.EMPTY;o.push(new jn(a.key,h,c,Un.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next((function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}}))}))}))},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):zt.resolve(null)}))}))},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)}))},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[],s=Vt();T(e.targetChanges,(function(r,l){var a=n.queryDataByTarget[r];if(a){l.addedDocuments.forEach((function(t){s=s.add(t)})),l.modifiedDocuments.forEach((function(t){s=s.add(t)})),o.push(n.queryCache.removeMatchingKeys(i,l.removedDocuments,r).next((function(){return n.queryCache.addMatchingKeys(i,l.addedDocuments,r)})));var u=l.resumeToken;if(u.length>0){var c=a;a=a.copy({resumeToken:u,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=a,t.shouldPersistQueryData(c,a,l)&&o.push(n.queryCache.updateQueryData(i,a))}}}));var l=Dt(),a=Vt();e.documentUpdates.forEach((function(t,e){a=a.add(t)})),o.push(r.getEntries(i,a).next((function(t){e.documentUpdates.forEach((function(a,u){var c=t.get(a);null==c||u.version.isEqual(Et.MIN)||s.has(u.key)&&!c.hasPendingWrites||u.version.compareTo(c.version)>=0?(r.addEntry(u),l=l.insert(a,u)):f("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(a)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,a))}))})));var u=e.snapshotVersion;if(!u.isEqual(Et.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next((function(t){return y(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)}));o.push(c)}return zt.waitFor(o).next((function(){return r.apply(i)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(i,l)}))}))},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return zt.forEach(t,(function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),zt.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.localDocuments.getDocument(n,t)}))},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return e.queryCache.getQueryData(n,t).next((function(i){return i?(r=i,zt.resolve()):e.queryCache.allocateTargetId(n).next((function(i){return r=new Ze(t,i,Xe.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)}))})).next((function(){return y(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r}))}))},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",(function(r){return n.queryCache.getQueryData(r,t).next((function(i){y(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,s=n.queryDataByTarget[o],l=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?zt.resolve():zt.forEach(l,(function(t){return n.persistence.referenceDelegate.removeReference(r,t)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,s)}))}))}))},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)}))},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)}))},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=zt.resolve();return o.forEach((function(r){s=s.next((function(){return n.getEntry(t,r)})).next((function(t){var o=t,s=e.docVersions.get(r);y(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):y(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.mutationQueue.removeMutationBatch(t,i)}))},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.queryDataByTarget)}))},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return e.queryCache.getQueryDataForTarget(n,t).next((function(t){return t?t.query:null}))}))},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.remoteDocuments.getNewDocumentChanges(e)}))},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Yn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new xt(Gn.compareByKey)}return t.prototype.checkEmpty=function(t){return zt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");y(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,zt.resolve()},t.prototype.getLastStreamToken=function(t){return zt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,zt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){y(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Bt(i,e,n,r);this.mutationQueue.push(o);for(var s=0,l=r;s<l.length;s++){var a=l[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Gn(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast())}return zt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return y(null!=n,"Failed to find local mutation batch."),zt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return zt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return zt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gn(e,0),i=new Gn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),zt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Q);return e.forEach((function(t){var e=new Gn(t,0),i=new Gn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],(function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)}))})),zt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ut.isDocumentKey(i)||(i=i.child(""));var o=new Gn(new ut(i),0),s=new xt(Q);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.targetOrBatchId)),!0)}),o),zt.resolve(this.findMutationBatches(s))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;y(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return zt.forEach(e.mutations,(function(i){var o=new Gn(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)})).next((function(){n.batchesByDocumentKey=r}))},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Gn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return zt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),zt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n},t}(),Xn=function(){function t(t){this.persistence=t,this.queries=new ve((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=Et.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Kn,this.targetCount=0,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.getTargetCount=function(t){return zt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach((function(t,n){return e(n)})),zt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,zt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),zt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,zt.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),zt.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,zt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach((function(s,l){l.sequenceNumber<=e&&!n[l.targetId]&&(r.queries.delete(s),o.push(r.removeMatchingKeysForTargetId(t,l.targetId)),i++)})),zt.waitFor(o).next((function(){return i}))},t.prototype.getQueryCount=function(t){return zt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return zt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.addReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.removeReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),zt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return zt.resolve(n)},t.prototype.containsKey=function(t,e){return zt.resolve(this.references.containsKey(e))},t}(),Zn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(ut.comparator),this.newDocumentChanges=Vt(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i],l=s.maybeDocument.key;this.docs=this.docs.insert(l,s),this.newDocumentChanges=this.newDocumentChanges.add(l),r.push(this.indexManager.addToCollectionParentIndex(t,l.path.popLast()))}return this.size+=n,zt.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,zt.resolve(n.size)):zt.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zt.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return zt.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),zt.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ot(),i=new St(ut.comparator);return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)})),zt.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Rt(),r=new ut(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),s=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;s instanceof fe&&e.matches(s)&&(n=n.insert(s.key,s))}return zt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return zt.forEach(this.docs,(function(t){return e(t)}))},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Dt();return this.newDocumentChanges.forEach((function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ge(t,Et.forDeletedDoc());n=n.insert(t,i)})),this.newDocumentChanges=Vt(),zt.resolve(n)},t.prototype.newChangeBuffer=function(){return new $n(this.sizer,this)},t.prototype.getSize=function(t){return zt.resolve(this.size)},t}(),$n=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(t,n){var o=e.documentSizes.get(t);y(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var s=e.sizer(n);r+=s-o,i.push({maybeDocument:n,size:s})})),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ye),Jn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new it(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Xn(this),this.indexManager=new ke,this.remoteDocumentCache=new Zn(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}return t.createLruPersistence=function(e,n,r){return new t(e,(function(t){return new nr(t,new $e(n),r)}))},t.createEagerPersistence=function(e){return new t(e,(function(t){return new er(t)}))},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Yn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new tr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(t){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return t}))})).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return zt.or((n=this.mutationQueues,r=[],k(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.containsKey(t,e)}})));var n,r},t}(),tr=function(){return function(t){this.currentSequenceNumber=t}}(),er=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return r.removeQueryData(t,e)}))},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return zt.forEach(this.orphanedDocuments,(function(r){return e.isReferenced(t,r).next((function(e){return e?zt.resolve():n.removeEntry(t,r).next((function(){}))}))}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return zt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),nr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new ve((function(t){return yt(t.path)})),this.garbageCollector=new on(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return zt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return zt.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(t,r,i).next((function(t){return t?zt.resolve():e(i)}))}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,(function(o){return n.isPinned(t,o,e).next((function(e){return e?zt.resolve():(r++,i.removeEntry(t,o).next())}))})).next((function(){return r}))},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return zt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return zt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),rr=Number,ir=rr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),or=rr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,sr=rr.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function lr(t){return null==t}function ar(t){return sr(t)&&t<=or&&t>=ir}var ur=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),cr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),hr=1e3,dr=6e4,pr=1.5,fr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=cr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ur(t,e,hr,pr,dr)}return t.prototype.isStarted=function(){return this.state===cr.Starting||this.state===cr.Open||this.state===cr.Backoff},t.prototype.isOpen=function(){return this.state===cr.Open},t.prototype.start=function(){this.state!==cr.Error?(y(this.state===cr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(cr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=cr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.isOpen()?[2,this.close(cr.Initial)]:[2]}))}))},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===cr.Error||lr(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==cr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===cr.Initial,"Must be in initial state to auth"),this.state=cr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},t.prototype.startStream=function(t){var e=this;y(this.state===cr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return y(e.state===cr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=cr.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.performBackoff=function(){var t=this;y(this.state===cr.Error,"Should only perform backoff when in Error state"),this.state=cr.Backoff,this.backoff.backoffAndRun((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return y(this.state===cr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=cr.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(cr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),gr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ht.ListenStreamConnectionBackoff,ht.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(fr),mr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ht.WriteStreamConnectionBackoff,ht.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},e}(fr),vr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new mr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new gr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Dt();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(t,e,r)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(t,e,r)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t}(),yr=function(){function t(t){this.datastore=t,this.readVersions=Lt(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof fe)e=t.version;else{if(!(t instanceof ge))throw v("Document in a transaction was a "+t.constructor.name);e=Et.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then((function(t){return t.forEach((function(t){t instanceof ge||t instanceof fe?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)})),t}))},t.prototype.write=function(t){if(this.committed)throw new C(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Un.updateTime(e):Un.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Et.forDeletedDoc()))throw new C(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?Un.updateTime(e):Un.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Hn(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Et.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach((function(t){e=e.remove(t.key)})),e.isEmpty()?this.datastore.commit(this.mutations).then((function(){t.committed=!0})):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),br=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),_r=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),wr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=br.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(br.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ht.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,y(t.state===br.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(br.Offline),Promise.resolve()})))},t.prototype.handleWatchStreamFailure=function(t){this.state===br.Online?(this.setAndBroadcast(br.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(br.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===br.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Cr=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Er(t){switch(t){case w.OK:return v("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Sr(t){if(void 0===t)return g("GRPC error has no .code"),w.UNKNOWN;switch(t){case Cr.OK:return w.OK;case Cr.CANCELLED:return w.CANCELLED;case Cr.UNKNOWN:return w.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return w.INTERNAL;case Cr.UNAVAILABLE:return w.UNAVAILABLE;case Cr.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Cr.NOT_FOUND:return w.NOT_FOUND;case Cr.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Cr.ABORTED:return w.ABORTED;case Cr.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Cr.DATA_LOSS:return w.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Ir(t){if(void 0===t)return Cr.OK;switch(t){case w.OK:return Cr.OK;case w.CANCELLED:return Cr.CANCELLED;case w.UNKNOWN:return Cr.UNKNOWN;case w.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case w.INTERNAL:return Cr.INTERNAL;case w.UNAVAILABLE:return Cr.UNAVAILABLE;case w.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case w.NOT_FOUND:return Cr.NOT_FOUND;case w.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case w.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case w.ABORTED:return Cr.ABORTED;case w.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case w.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case w.DATA_LOSS:return Cr.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Tr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ut.comparator(e.key,n.key)}:function(t,e){return ut.comparator(t.key,e.key)},this.keyedMap=Rt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),kr=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),xr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Ar=function(){function t(){this.changeMap=new St(ut.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==kr.Added&&n.type===kr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===kr.Metadata&&n.type!==kr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===kr.Modified&&n.type===kr.Modified?this.changeMap=this.changeMap.insert(e,{type:kr.Modified,doc:t.doc}):t.type===kr.Modified&&n.type===kr.Added?this.changeMap=this.changeMap.insert(e,{type:kr.Added,doc:t.doc}):t.type===kr.Removed&&n.type===kr.Added?this.changeMap=this.changeMap.remove(e):t.type===kr.Removed&&n.type===kr.Modified?this.changeMap=this.changeMap.insert(e,{type:kr.Removed,doc:n.doc}):t.type===kr.Added&&n.type===kr.Removed?this.changeMap=this.changeMap.insert(e,{type:kr.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Pr=function(){function t(t,e,n,r,i,o,s,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:kr.Added,doc:t})})),new t(e,n,Tr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Et.MIN,i,qt(),Dt(),Vt())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Vt(),Vt(),Vt())},t}(),Nr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Rr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Mr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Lr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Fr=function(){function t(){this.pendingResponses=0,this.documentChanges=qr(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Vt(),e=Vt(),n=Vt();return this.documentChanges.forEach((function(r,i){switch(i){case kr.Added:t=t.add(r);break;case kr.Modified:e=e.add(r);break;case kr.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}})),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=qr()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Vr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Ur(),this.pendingTargetResets=new xt(Q)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof fe?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ge&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ensureTargetState(n);switch(t.state){case Mr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Mr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Mr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Mr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Mr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}}))},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ut(i.path);this.removeDocumentFromTarget(e,o,new ge(o,Et.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,(function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var s=new ut(o.query.path);null!==e.pendingDocumentUpdates.get(s)||e.targetContainsDocument(r,s)||e.removeDocumentFromTarget(r,s,new ge(s,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Vt();this.pendingDocumentTargetMapping.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Xe.LimboResolution||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Dr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Ur(),this.pendingTargetResets=new xt(Q),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?kr.Modified:kr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,kr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Fr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new xt(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Fr,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ur(){return new St(ut.comparator)}function qr(){return new St(ut.comparator)}var Br="RemoteStore",jr=function(){function t(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return s.__awaiter(o,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Br,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new wr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(br.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(br.Offline),[2]}}))}))},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f(Br,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return f(Br,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(br.Unknown),[2]}}))}))},t.prototype.listen=function(t){y(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),x(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(br.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Vr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!x(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){return T(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(br.Unknown),[2]}))}))},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(br.Online),t instanceof Lr&&t.state===Mr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Nr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Rr?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof Lr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Et.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(Et.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new Ze(n.query,t,Xe.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})).catch(dn)},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=jt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return Er(t.code)?(f(Br,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(dn)]):[2]}))}))},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){return Er(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},t.prototype.createTransaction=function(){return new yr(this.datastore)},t.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(br.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Br,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(br.Unknown),e.label=4;case 4:return[2]}}))}))},t}(),zr=function(){function t(t,e){if(P("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),Hr=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Jr]:[new $r(t),Jr];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Xr.ASCENDING)===Xr.ASCENDING?Jr:ti)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Gr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";lr(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),lr(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!lr(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Gr&&n.isInequality())return n.field}return null},t.prototype.findRelationOpFilter=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Gr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return ut.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ut.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Wr=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(wn.INSTANCE)){if(e!==Kr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Qr(t)}if(n.isEqual(Tn.NAN)){if(e!==Kr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Yr(t)}return new Gr(t,e,n)},t}(),Kr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Gr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof Dn,"Comparing on key, but filter value not a RefValue"),y(this.op!==Kr.ARRAY_CONTAINS&&this.op!==Kr.ARRAY_CONTAINS_ANY&&this.op!==Kr.IN,"'"+this.op.toString()+"' queries don't make sense on document keys.");var e=ut.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Kr.ARRAY_CONTAINS?t instanceof Rn&&void 0!==t.internalValue.find((function(t){return t.isEqual(e.value)})):this.op===Kr.IN?this.value instanceof Rn?void 0!==this.value.internalValue.find((function(e){return e.isEqual(t)})):v("IN filter has invalid value: "+this.value.toString()):this.op===Kr.ARRAY_CONTAINS_ANY?t instanceof Rn&&t.internalValue.some((function(t){return e.value instanceof Rn&&void 0!==e.value.internalValue.find((function(e){return e.isEqual(t)}))})):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Kr.LESS_THAN:return t<0;case Kr.LESS_THAN_OR_EQUAL:return t<=0;case Kr.EQUAL:return 0===t;case Kr.GREATER_THAN:return t>0;case Kr.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return[Kr.LESS_THAN,Kr.LESS_THAN_OR_EQUAL,Kr.GREATER_THAN,Kr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Wr),Qr=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Wr),Yr=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Wr),Xr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Zr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof Dn,"Bound has a non-key value where the key path is being used."),n=ut.comparator(o.key,e.key);else{var s=e.field(i.field);y(void 0!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===Xr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),$r=function(){function t(t,e){this.field=t,void 0===e&&(e=Xr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?fe.compareByKey(t,e):fe.compareByField(this.field,t,e);switch(this.dir){case Xr.ASCENDING:return n;case Xr.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Jr=new $r(at.keyField(),Xr.ASCENDING),ti=new $r(at.keyField(),Xr.DESCENDING),ei=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new An(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ni=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ri=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ii=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof In&&this.operand instanceof In?new In(t.internalValue+this.operand.internalValue):t instanceof En?new Tn(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return y(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function oi(t){return t instanceof Rn?t.internalValue.slice():[]}var si,li,ai=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ui=((si={})[Xr.ASCENDING.name]="ASCENDING",si[Xr.DESCENDING.name]="DESCENDING",si),ci=((li={})[Kr.LESS_THAN.name]="LESS_THAN",li[Kr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",li[Kr.GREATER_THAN.name]="GREATER_THAN",li[Kr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",li[Kr.EQUAL.name]="EQUAL",li[Kr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",li[Kr.IN.name]="IN",li[Kr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",li),hi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t,e){y(!lr(t),e+" is missing")}function pi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var fi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Sr(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return lr(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return lr(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=pi(t.seconds||"0");return new Ct(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=hi.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new Ct(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),Et.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ut(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof wn)return{nullValue:"NULL_VALUE"};if(t instanceof Cn)return{booleanValue:t.value()};if(t instanceof In)return{integerValue:""+t.value()};if(t instanceof Tn){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof kn?{stringValue:t.value()}:t instanceof Nn?{mapValue:this.toMapValue(t)}:t instanceof Rn?{arrayValue:this.toArrayValue(t)}:t instanceof xn?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof On?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Pn?{bytesValue:this.toBytes(t.value())}:t instanceof Dn?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return wn.INSTANCE;if("booleanValue"in t)return Cn.of(t.booleanValue);if("integerValue"in t)return new In(pi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Tn.NAN;if("Infinity"===t.doubleValue)return Tn.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Tn.NEGATIVE_INFINITY}return new Tn(t.doubleValue)}if("stringValue"in t)return new kn(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return di(t.arrayValue,"arrayValue"),new Rn((t.arrayValue.values||[]).map((function(t){return e.fromValue(t)})));if("timestampValue"in t)return di(t.timestampValue,"timestampValue"),new xn(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return di(t.geoPointValue,"geoPointValue"),new On(new zr(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){di(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Pn(n)}if("referenceValue"in t){di(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new rt(r.get(1),r.get(3)),o=new ut(this.extractLocalPathFromResourceName(r));return new Dn(i,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new fe(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.toValue(r)})),n},t.prototype.fromFields=function(t){var e=this,n=Nn.EMPTY;return k(t,(function(t,r){n=n.set(new at([t]),e.fromValue(r))})),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),di(t.found.name,"doc.found.name"),di(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new fe(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ge(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Mr.Added:return"ADD";case Mr.Current:return"CURRENT";case Mr.NoChange:return"NO_CHANGE";case Mr.Removed:return"REMOVE";case Mr.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Rr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Nr){var e;if(t.newDoc instanceof fe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ge)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Lr){var n=void 0;return t.cause&&(n={code:Ir(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){di(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),o=t.targetChange.cause,s=o&&this.fromRpcStatus(o);e=new Lr(n,r,i,s||null)}else if("documentChange"in t){di(t.documentChange,"documentChange"),di(t.documentChange.document,"documentChange.name"),di(t.documentChange.document.name,"documentChange.document.name"),di(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,a=this.fromName(l.document.name),u=this.fromVersion(l.document.updateTime),c=this.fromFields(l.document.fields||{}),h=new fe(a,u,c,{},l.document);e=new Nr(l.targetIds||[],l.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){di(t.documentDelete,"documentDelete"),di(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;a=this.fromName(d.document),u=d.readTime?this.fromVersion(d.readTime):Et.forDeletedDoc(),h=new ge(a,u),e=new Nr([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){di(t.documentRemove,"documentRemove"),di(t.documentRemove.document,"documentRemove");var p=t.documentRemove;a=this.fromName(p.document),e=new Nr([],p.removedTargetIds||[],a,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));di(t.filter,"filter"),di(t.filter.targetId,"filter.targetId");var f=t.filter,g=new ai(f.count||0);e=new Rr(f.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Mr.NoChange:"ADD"===t?Mr.Added:"REMOVE"===t?Mr.Removed:"CURRENT"===t?Mr.Current:"RESET"===t?Mr.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Et.MIN:e.readTime?this.fromVersion(e.readTime):Et.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Bn)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Hn)e={delete:this.toName(t.key)};else if(t instanceof jn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof zn))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Un.NONE;if(t.update){di(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new jn(r,i,o,n)}return new Bn(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Hn(r,n);if(t.transform){r=this.fromName(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new zn(r,s)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Un.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Un.exists(t.exists):Un.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.fromValue(t)}))),new Fn(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ei)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ni)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ei.instance;else if("appendMissingElements"in t)n=new ni((t.appendMissingElements.values||[]).map((function(t){return e.fromValue(t)})));else if("removeAllFromArray"in t)n=new ri((t.removeAllFromArray.values||[]).map((function(t){return e.fromValue(t)})));else if("increment"in t){var r=this.fromValue(t.increment);y(r instanceof En,"NUMERIC_ADD transform requires a NumberValue"),n=new ii(r)}else v("Unknown transform proto: "+JSON.stringify(t));var i=at.fromServerFormat(t.fieldPath);return new Ln(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Hr.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(y(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var l=[];n.orderBy&&(l=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Hr(e,i,l,s,a,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Xe.Listen:return null;case Xe.ExistenceFilterMismatch:return"existence-filter-mismatch";case Xe.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Gr?e.toRelationFilter(t):e.toUnaryFilter(t)}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},t.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.fromValue(t)}));return new Zr(r,n)},t.prototype.toDirection=function(t){return ui[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Xr.ASCENDING;case"DESCENDING":return Xr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return ci[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Kr.EQUAL;case"GREATER_THAN":return Kr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Kr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Kr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Kr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Kr.ARRAY_CONTAINS;case"IN":return Kr.IN;case"ARRAY_CONTAINS_ANY":return Kr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return at.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new $r(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Gr?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Gr(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Yr?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Qr?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Yr(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Qr(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return at.fromServerFormat(t)}));return Mn.fromArray(e)},t}(),gi=function(){return function(){this.listeners=[]}}(),mi=function(){function t(t){this.syncEngine=t,this.queries=new ve((function(t){return t.canonicalId()})),this.onlineState=br.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new gi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return s.__generator(this,(function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,s=i.listeners;o<s.length;o++)s[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach((function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)}))},t}(),vi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=br.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==kr.Metadata&&e.push(i)}t=new Pr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==br.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===br.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Pr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),yi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Vt(),i=Vt(),o=0,s=n.docChanges;o<s.length;o++){var l=s[o];switch(l.type){case kr.Added:r=r.add(l.doc.key);break;case kr.Removed:i=i.add(l.doc.key)}}return new t(e,r,i)},t}(),bi=function(){return function(t){this.key=t}}(),_i=function(){return function(t){this.key=t}}(),wi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Vt(),this.mutatedKeys=Vt(),this.documentSet=new Tr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ar,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,s=i,l=!1,a=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal((function(t,e){var u=i.get(t),c=e instanceof fe?e:null;c&&(y(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!u&&n.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:kr.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(u,c)||(r.track({type:kr.Modified,doc:c}),p=!0,a&&n.query.docComparator(c,a)>0&&(l=!0)):!u&&c?(r.track({type:kr.Added,doc:c}),p=!0):u&&!c&&(r.track({type:kr.Removed,doc:u}),p=!0,a&&(l=!0)),p&&(c?(s=s.add(c),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hasLimit())for(;s.size>this.query.limit;){var u=s.last();s=s.delete(u.key),o=o.delete(u.key),r.track({type:kr.Removed,doc:u})}return y(!l||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:l,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case kr.Added:return 1;case kr.Modified:case kr.Metadata:return 2;case kr.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var s=e?this.updateLimboDocuments():[],l=0===this.limboDocuments.size&&this.current?xr.Synced:xr.Local,a=l!==this.syncState;return this.syncState=l,0!==o.length||a?{snapshot:new Pr(this.query,t.documentSet,i,o,t.mutatedKeys,l===xr.Local,a,!1),limboChanges:s}:{limboChanges:s}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===br.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ar,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Vt(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new _i(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new bi(t))})),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Vt();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Pr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===xr.Local)},t}(),Ci=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ei=function(){return function(t){this.key=t}}(),Si=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new ve((function(t){return t.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new St(ut.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Kn,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Jt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=br.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=s.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.remoteStore.listen(i),s.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then((function(i){return n.localStore.remoteDocumentKeys(t.targetId).then((function(o){var s=new wi(r,o),l=s.computeDocChanges(i),a=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==br.Offline),u=s.applyChanges(l,!0===n.isPrimary,a);y(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!u.snapshot,"applyChanges for new view should always return a snapshot");var c=new Ci(r,t.targetId,s);return n.queryViewsByQuery.set(r,c),n.queryViewsByTarget[t.targetId]=c,u.snapshot}))}))},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then((function(n){return e.localStore.remoteDocumentKeys(t.targetId).then((function(r){return s.__awaiter(e,void 0,void 0,(function(){var e;return s.__generator(this,(function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]}))}))}))}))},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then((function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)})).catch(dn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then((function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)})).then((function(){return n.remoteStore.fillWritePipeline()}))},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!lr(e)&&e.catch&&e.then?e.catch((function(t){return Promise.reject(n.wrapUpdateFunctionError(t))})):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then((function(i){return r.commit().then((function(){return i})).catch((function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)}))}))},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then((function(n){return k(t.targetChanges,(function(t,n){var r=e.limboResolutionsByTarget[Number(t)];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),e.emitNewSnapsAndNotifyLocalStore(n,t)})).catch(dn)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===_r.RemoteStore||!this.isPrimary&&e===_r.SharedClientState){var n=[];this.queryViewsByQuery.forEach((function(e,r){var i=r.view.applyOnlineStateChange(t);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,l,a,u=this;return s.__generator(this,(function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new St(ut.comparator)).insert(r,new ge(r,Et.forDeletedDoc())),o=Vt().add(r),l=new Dr(Et.MIN,{},new xt(Q),i,o),[2,this.applyRemoteEvent(l)]):[3,1];case 1:return y(!!(a=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(a.query,!1).then((function(){return u.removeAndCleanupQuery(a)})).catch(dn)];case 2:s.sent(),this.syncEngineListener.onWatchError(a.query,e),s.label=3;case 3:return[2]}}))}))},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then((function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)})).catch(dn)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then((function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)})).catch(dn)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach((function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)}))}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof bi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof _i?(f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Hr.atPath(e.path);this.limboResolutionsByTarget[n]=new Ei(e),this.remoteStore.listen(new Ze(r,n,Xe.LimboResolution,it.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return s.__generator(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(s,l){i.push(Promise.resolve().then((function(){var e=l.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(l.query).then((function(t){return l.view.computeDocChanges(t,e)})):e})).then((function(t){var i=l.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[l.targetId]);if(o.updateTrackedLimbos(l.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(l.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var s=yi.fromSnapshot(l.targetId,i.snapshot);r.push(s)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return s.sent(),[2]}}))}))},t.prototype.assertSubscribed=function(t){y(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,l,a=this;return s.__generator(this,(function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],l=Promise.resolve(),T(this.queryViewsByTarget,(function(t,e){a.sharedClientState.isLocalQueryTarget(t)?o.push(t):l=l.then((function(){return a.unlisten(e.query)})),a.remoteStore.unlisten(e.targetId)})),[4,l]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(ut.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,o,l;return s.__generator(this,(function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=s.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return y(!!(l=s.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(l)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(e),[2]}}))}))}))},l=0,a=t;l<a.length;l++)o(a[l]);return n.then((function(){return e.syncEngineListener.onWatchChange(i),r}))},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i=this;return s.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then((function(n){return s.__awaiter(i,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return r=Dr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}}))}))}),(function(t){return s.__awaiter(i,void 0,void 0,(function(){var e;return s.__generator(this,(function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===be}(t)?(e=[],T(this.queryViewsByTarget,(function(t){return e.push(t)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}}))}))}))];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}}))}))},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,l,a,u,c,h,d=this;return s.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(y(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return y(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:l=function(t){var e;return s.__generator(this,(function(n){switch(n.label){case 0:return(e=a.queryViewsByTarget[t])?[4,a.localStore.releaseQuery(e.query,!1).then((function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)})).catch(dn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},a=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,l(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Vt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Vt()},t}(),Ii=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ti="SharedClientState",ki="firestore_clients",xi="firestore_mutations",Ai="firestore_targets",Pi="firestore_online_state",Di="firestore_sequence_number",Oi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,y(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new C(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g(Ti,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ni=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new t(e,r.state,o):(g(Ti,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qt(),s=0;i&&s<r.activeTargetIds.length;++s)i=ar(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g(Ti,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in br&&"string"==typeof n.clientId?new t(n.clientId,br[n.onlineState]):(g(Ti,"Failed to parse online state: "+e),null)},t}(),Li=function(){function t(){this.activeTargetIds=qt()}return t.prototype.addQueryTarget=function(t){y(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Di+"_"+r,this.activeClients[this.localClientId]=new Li,this.clientStateKeyRe=new RegExp("^"+ki+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+xi+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ai+"_"+s+"_(\\d+)$"),this.onlineStateKey=Pi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o,l,a,u,c,h=this;return s.__generator(this,(function(s){switch(s.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Ri.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(l=this.storage.getItem(this.onlineStateKey))&&(a=this.fromWebStorageOnlineState(l))&&this.handleOnlineStateEvent(a),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=qt();return k(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ni.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(Ti,"READ",t,e),e},t.prototype.setItem=function(t,e){f(Ti,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(Ti,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(Ti,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,o,l;return s.__generator(this,(function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(l=function(t){var e=it.INVALID;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){g(Ti,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==it.INVALID&&this.sequenceNumberHandler(l));return[2]}))}))}))}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Oi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:br[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ni(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return y(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),ki+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ai+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=xi+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),Ri.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Oi.fromWebStorageEntry(new Ii(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ni.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Mi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(f(Ti,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],l=[];return i.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return i.has(t)||l.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,l)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Vi=function(){function t(){this.localState=new Li,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Li,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ui=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return nn.withCacheSize(this.cacheSizeBytes)},t}(),qi=function(){return function(){}}(),Bi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId(),this._clientShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new ct,r=new ct,i=!1;return this.credentials.setChangeListener((function(o){i?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(i=!0,e.initializePersistence(t,r,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Ui?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new C(w.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=hn.buildStoragePrefix(this.databaseInfo),i=new fi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return s.__awaiter(n,void 0,void 0,(function(){var n,o;return s.__generator(this,(function(s){switch(s.label){case 0:if(e.synchronizeTabs&&!Fi.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Fi(this.asyncQueue,this.platform,r,this.clientId,t),[4,hn.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=s.sent(),[3,4];case 2:return this.sharedClientState=new Vi,[4,hn.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=s.sent(),s.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}}))}))}))},t.prototype.startMemoryPersistence=function(){return this.persistence=Jn.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return s.__awaiter(n,void 0,void 0,(function(){var n,i,o,l,a=this;return s.__generator(this,(function(u){switch(u.label){case 0:return this.localStore=new Qn(this.persistence,t),e&&(this.lruScheduler=new rn(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new vr(this.asyncQueue,r,this.credentials,i),l=function(t){return a.syncEngine.applyOnlineStateChange(t,_r.SharedClientState)},this.remoteStore=new jr(this.localStore,o,this.asyncQueue,(function(t){return a.syncEngine.applyOnlineStateChange(t,_r.RemoteStore)}),n),this.syncEngine=new Si(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return s.__awaiter(a,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return s.__awaiter(a,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.shutdown()];case 1:return t.sent(),[2]}}))}))}))];case 4:return u.sent(),[2]}}))}))}))},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:t.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,t.label=4;case 4:return[2]}}))}))}))},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new vi(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof fe)return t;if(t instanceof ge)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.localStore.executeQuery(t)})).then((function(e){var n=Vt(),r=new wi(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot}))},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new ct;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(t.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2]}))}))})).then((function(){return e.syncEngine.runTransaction(t)}))},t}(),ji=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),zi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(N("FieldPath","string",n,t[n]),0===t[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(at.keyField().canonicalString()),t}(),Hi=new RegExp("[~\\*/\\[\\]]"),Wi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Ki=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Ii.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Gi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Wi(n.accessToken,t.currentUser)):null}))},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ii(t)},t}(),Qi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ii.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Qi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Ii.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xi(t){if(!t)return new Ki;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Yi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var $i=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),Ji.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),to.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayUnion",arguments,1),new eo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayRemove",arguments,1),new no(t)},t.increment=function(t){return N("FieldValue.increment","number",1,t),P("FieldValue.increment",arguments,1),new ro(t)},t.prototype.isEqual=function(t){return this===t},t}(),Ji=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}($i),to=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}($i),eo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}($i),no=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}($i),ro=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return s.__extends(e,t),e}($i),io=E($i,"Use FieldValue.<field>() instead."),oo=/^__.*__$/,so=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new jn(t,this.data,this.fieldMask,e):new Bn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new zn(t,this.fieldTransforms)),n},t}(),lo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new jn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new zn(t,this.fieldTransforms)),n},t}(),ao=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function uo(t){switch(t){case ao.Set:case ao.MergeSet:case ao.Update:return!0;case ao.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var co=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(uo(this.dataSource)&&oo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ho=function(){return function(t,e){this.databaseId=t,this.key=e}}(),po=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new co(ao.Set,t,at.EMPTY_PATH);go("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new so(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new co(ao.MergeSet,t,at.EMPTY_PATH);go("Data must be an object, but it was:",r,e);var i,o,s=this.parseData(e,r);if(n){for(var l=new xt(at.comparator),a=0,u=n;a<u.length;a++){var c=u[a],h=void 0;if(c instanceof zi)h=c._internalPath;else{if("string"!=typeof c)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=vo(t,c)}if(!r.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");l=l.add(h)}i=Mn.fromSet(l),o=r.fieldTransforms.filter((function(t){return i.covers(t.field)}))}else i=Mn.fromArray(r.fieldMask),o=r.fieldTransforms;return new so(s,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new co(ao.Update,t,at.EMPTY_PATH);go("Data must be an object, but it was:",r,e);var i=new xt(at.comparator),o=Nn.EMPTY;k(e,(function(e,s){var l=vo(t,e),a=r.childContextForFieldPath(l);if((s=n.runPreConverter(s,a))instanceof Ji)i=i.add(l);else{var u=n.parseData(s,a);null!=u&&(i=i.add(l),o=o.set(l,u))}}));var s=Mn.fromSet(i);return new lo(o,s,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new co(ao.Update,t,at.EMPTY_PATH),o=[mo(t,e)],s=[n];if(r.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<r.length;l+=2)o.push(mo(t,r[l])),s.push(r[l+1]);var a=new xt(at.comparator),u=Nn.EMPTY;for(l=0;l<o.length;++l){var c=o[l],h=i.childContextForFieldPath(c),d=this.runPreConverter(s[l],h);if(d instanceof Ji)a=a.add(c);else{var p=this.parseData(d,h);null!=p&&(a=a.add(c),u=u.set(c,p))}}var f=Mn.fromSet(a);return new lo(u,f,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new co(ao.Argument,t,at.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=yo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(fo(t=this.runPreConverter(t,e)))return go("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof $i)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new St(Q);return x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,(function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))})),new Nn(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.parseData(o[i],e.childContextForArray(r));null==s&&(s=wn.INSTANCE),n.push(s),r++}return new Rn(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!uo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Ji){if(e.dataSource!==ao.MergeSet)throw e.dataSource===ao.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof to)e.fieldTransforms.push(new Ln(e.path,ei.instance));else if(t instanceof eo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ni(n);e.fieldTransforms.push(new Ln(e.path,r))}else if(t instanceof no){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ri(n);e.fieldTransforms.push(new Ln(e.path,i))}else if(t instanceof ro){var o=this.parseQueryValue("FieldValue.increment",t._operand),s=new ii(o);e.fieldTransforms.push(new Ln(e.path,s))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return wn.INSTANCE;if("number"==typeof t)return ar(t)?new In(t):new Tn(t);if("boolean"==typeof t)return Cn.of(t);if("string"==typeof t)return new kn(t);if(t instanceof Date)return new xn(Ct.fromDate(t));if(t instanceof Ct)return new xn(new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof zr)return new On(t);if(t instanceof J)return new Pn(t);if(t instanceof ho)return new Dn(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,r){var i=new co(ao.Argument,t,at.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))}))},t}();function fo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof zr||t instanceof J||t instanceof ho||t instanceof $i)}function go(t,e,n){if(!fo(n)||!q(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function mo(t,e){if(e instanceof zi)return e._internalPath;if("string"==typeof e)return vo(t,e);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vo(t,e){try{return function(t){if(t.search(Hi)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zi.bind.apply(zi,[void 0].concat(t.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=yo(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function yo(t){return t instanceof Error?t.message:t.toString()}var bo="firestore.googleapis.com",_o=!0,wo=!0,Co=!1,Eo=nn.COLLECTION_DISABLED,So=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bo,this.ssl=_o}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,_o);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,wo),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=nn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Eo&&t.cacheSizeBytes<nn.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+nn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Co:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Io=function(){return function(){}}(),To=function(){function t(e){var n=this;this._queue=new pt,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),[2]}}))}))}};var r=new Io;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Gi(i)}else{var o=e;if(!o.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new rt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Ki}r.settings=new So({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(P("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new So(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=Xi(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=I(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Ui(this._config.settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=hn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ct;return this._queue.enqueueAndForget((function(){return s.__awaiter(t,void 0,void 0,(function(){var t;return s.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new C(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,hn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new qi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new et(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),y(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new po((function(t){if(t instanceof Ao){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ho(e._config.databaseId,t._key)}return t})),this._firestoreClient=new Bi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return P("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Mo(st.fromString(t),this)},t.prototype.doc=function(t){return P("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ao.forPath(st.fromString(t),this)},t.prototype.collectionGroup=function(t){if(P("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new No(new Hr(st.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return P("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new ko(e,n))}))},t.prototype.batch=function(){return this.ensureClientConfigured(),new xo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return v("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(P("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),ko=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;P("Transaction.get",arguments,1);var n=Uo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ge)return new Do(e._firestore,n._key,null,!1,!1);if(r instanceof fe)return new Do(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){O("Transaction.set",arguments,2,3);var r=Uo("Transaction.set",t,this._firestore),i=(n=Lo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof zi?(D("Transaction.update",arguments,3),r=Uo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(P("Transaction.update",arguments,2),r=Uo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){P("Transaction.delete",arguments,1);var e=Uo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),xo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){O("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Uo("WriteBatch.set",t,this._firestore),i=(n=Lo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Un.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof e||e instanceof zi?(D("WriteBatch.update",arguments,3),r=Uo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(P("WriteBatch.update",arguments,2),r=Uo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Un.exists(!0))),this},t.prototype.delete=function(t){P("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Uo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Hn(e._key,Un.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ao=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ut(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(P("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new Mo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){O("DocumentReference.set",arguments,1,2);var n=(e=Lo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Un.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof zi?(D("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(P("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Un.exists(!0)))},t.prototype.delete=function(){return P("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Hn(this._key,Un.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Zi(t[i])||(z("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(t[i])?n=t[i]:(N("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Do(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Hr.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return O("DocumentReference.get",arguments,0,1),Vo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Do(e.firestore,e._key,t,!0,t instanceof fe&&t.hasLocalMutations))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Po=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Do=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return O("DocumentSnapshot.data",arguments,0,1),t=Fo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,bn.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(O("DocumentSnapshot.get",arguments,1,2),e=Fo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(mo("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,bn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Po(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertValue=function(t,e){if(t instanceof Nn)return this.convertObject(t,e);if(t instanceof Rn)return this.convertArray(t,e);if(t instanceof Dn){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ao(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.convertValue(t,e)}))},t}(),Oo=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Do),No=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){if(P("Query.where",arguments,3),j("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];V("Query.where",i,2,n)}var o,s=mo("Query.where",e),l=Kr.fromString(n);if(s.isKeyField()){if(l===Kr.ARRAY_CONTAINS||l===Kr.ARRAY_CONTAINS_ANY||l===Kr.IN)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l.toString()+"' queries on FieldPath.documentId().");if("string"==typeof r){if(""===r)throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var a=this._query.path.child(st.fromString(r));if(!ut.isDocumentKey(a))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");o=new Dn(this.firestore._databaseId,new ut(a))}else{if(!(r instanceof Ao))throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(r)+".");var u=r;o=new Dn(this.firestore._databaseId,u._key)}}else{if(l===Kr.IN||l===Kr.ARRAY_CONTAINS_ANY){if(!Array.isArray(r)||0===r.length)throw new C(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(r.length>10)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.")}o=this.firestore._dataConverter.parseQueryValue("Query.where",r)}var c=Wr.create(s,l,o);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(O("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Xr.ASCENDING;else{if("desc"!==n)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Xr.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=mo("Query.orderBy",e),o=new $r(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(P("Query.limit",arguments,1),N("Query.limit","number",1,e),e<=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(j(t,1,e),e instanceof Do){if(n.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new Dn(this.firestore._databaseId,e.key));else{var l=e.field(s.field);if(l instanceof An)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===l){var a=s.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}r.push(l)}}return new Zr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var l=this._query.path.child(st.fromString(s));if(!ut.isDocumentKey(l))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var a=new ut(l);i.push(new Dn(this.firestore._databaseId,a))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);i.push(u)}}return new Zr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Zi(t[i])||(z("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(t[i])?n=t[i]:(N("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){e.next&&e.next(new Ro(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(s)}},t.prototype.get=function(t){var e=this;return O("Query.get",arguments,0,1),Vo("Query.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Ro(e.firestore,e._query,t))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Gr){var e=[Kr.ARRAY_CONTAINS,Kr.ARRAY_CONTAINS_ANY],n=[Kr.IN,Kr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(t.field,s)}else if(i||r){var l=null;if(i&&(l=this._query.findRelationOpFilter(n)),null===l&&r&&(l=this._query.findRelationOpFilter(e)),null!=l)throw new C(w.INVALID_ARGUMENT,l===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ro=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Po(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;O("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(r){t.call(e,n.convertToDocumentImpl(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new No(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(e){var o=new Oo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return y(e.type===kr.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==kr.Metadata})).map((function(e){var r=new Oo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,s=-1;return e.type!==kr.Added&&(y((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==kr.Removed&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:qo(e.type),doc:r,oldIndex:i,newIndex:s}}))}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Oo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Ro.prototype.docChanges,t,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var Mo=function(t){function e(e,n){var r=t.call(this,Hr.atPath(e),n)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ao(new ut(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),N("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return Ao.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){P("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},e}(No);function Lo(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(r[o]))}(t,0,0,n,(function(t){return"string"==typeof t||t instanceof zi})),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Fo(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Vo(t,e){R(t,"object",1,e),e&&(z(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function Uo(t,e,n){if(e instanceof Ao){if(e.firestore!==n)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function qo(t){switch(t){case kr.Added:return"added";case kr.Modified:case kr.Metadata:return"modified";case kr.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Bo=E(To,"Use firebase.firestore() instead."),jo=E(ko,"Use firebase.firestore().runTransaction() instead."),zo=E(xo,"Use firebase.firestore().batch() instead."),Ho=E(Ao,"Use firebase.firestore().doc() instead."),Wo=E(Do),Ko=E(Oo),Go=E(No),Qo=E(Ro),Yo=E(Mo,"Use firebase.firestore().collection() instead."),Xo={Firestore:Bo,GeoPoint:zr,Timestamp:Ct,Blob:tt,Transaction:jo,WriteBatch:zo,DocumentReference:Ho,DocumentSnapshot:Wo,Query:Go,QueryDocumentSnapshot:Ko,QuerySnapshot:Qo,CollectionReference:Yo,FieldPath:zi,FieldValue:io,setLogLevel:To.setLogLevel,CACHE_SIZE_UNLIMITED:Eo},Zo=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),$o=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Jo=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ts="Connection",es={BatchGetDocuments:"batchGet",Commit:"commit"},ns="gl-js/ fire/"+u,rs=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ns},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise((function(o,s){var l=new a.XhrIo;l.listenOnce(a.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=l.getResponseJson();f(ts,"XHR received:",JSON.stringify(e)),o(e);break;case a.ErrorCode.TIMEOUT:f(ts,'RPC "'+t+'" timed out'),s(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=l.getStatus();f(ts,'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0?s(new C(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+l.getStatusText())):(f(ts,'RPC "'+t+'" failed'),s(new C(w.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{f(ts,'RPC "'+t+'" completed.')}}));var u=JSON.stringify(e);f(ts,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),l.send(i,"POST",u,c,15)}))},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),l.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(ts,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,h=new Jo({sendFn:function(t){c?f(ts,"Not sending because WebChannel is closed:",t):(u||(f(ts,"Opening WebChannel transport."),s.open(),u=!0),f(ts,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(a.WebChannel.EventType.OPEN,(function(){c||f(ts,"WebChannel transport opened.")})),d(a.WebChannel.EventType.CLOSE,(function(){c||(c=!0,f(ts,"WebChannel transport closed"),h.callOnClose())})),d(a.WebChannel.EventType.ERROR,(function(t){c||(c=!0,f(ts,"WebChannel transport errored:",t),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))})),d(a.WebChannel.EventType.MESSAGE,(function(t){if(!c){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(ts,"WebChannel received error:",n);var r=n.status,i=function(t){var e=Cr[t];if(void 0!==e)return Sr(e)}(r),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,o)),s.close()}else f(ts,"WebChannel received:",e),h.callOnMessage(e)}})),setTimeout((function(){h.callOnOpen()}),0),h},t.prototype.makeUrl=function(t){var e=es[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function is(t){!function(t){t.INTERNAL.registerService("firestore",(function(t){return new To(t)}),function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Xo))}(t)}b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new rs(t))},t.prototype.newConnectivityMonitor=function(){return $o.isAvailable()?new $o:new Zo},t.prototype.newSerializer=function(t){return new fi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),is(i),e.registerFirestore=is},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function l(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,l)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(a,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",(function(){return i})),n.d(e,"Logger",(function(){return l})),n.d(e,"setLogLevel",(function(){return a}));var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},l=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=s,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function a(t){r.forEach((function(e){e.logLevel=t}))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("30Go"),o=n("zVF4"),s=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),a=new o.ErrorFactory("app","Firebase",l),u="[DEFAULT]",c=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){c=c.filter((function(e){return e!==t}))}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(t.services_[i]);o<s.length;o++)e.push(t.services_[i][s[o]]);return Promise.all(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach((function(t){e.INTERNAL.addAuthTokenListener(t)})),c=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw a.create("app-deleted",{name:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=u);var l=s.name;if("string"!=typeof l||!l)throw a.create("bad-app-name",{name:String(l)});if(o.contains(e,l))throw a.create("duplicate-app",{name:l});var h=new t(n,s,i);return e[l]=h,c(h,"create"),h},app:s,apps:null,SDK_VERSION:"6.2.3",INTERNAL:{registerService:function(e,u,c,h,d){if(void 0===d&&(d=!1),n[e])throw a.create("duplicate-service",{name:e});function p(t){if(void 0===t&&(t=s()),"function"!=typeof t[e])throw a.create("invalid-app-argument",{name:e});return t[e]()}return n[e]=u,h&&(r[e]=h,l().forEach((function(t){h("create",t)}))),void 0!==c&&o.deepExtend(p,c),i[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,d?t:[])},p},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:h}};function s(t){if(!o.contains(e,t=t||u))throw a.create("no-app",{name:t});return e[t]}function l(){return Object.keys(e).map((function(t){return e[t]}))}function c(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=h(0,o[i]);if(null===s)return;r[s]&&r[s](e,t)}}function h(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:l}),s.App=t,i}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=f.initializeApp;f.initializeApp=function(){return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,arguments)};var m=f;e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return lr})),n.d(e,"EventType",(function(){return ar})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function l(t){return"string"==typeof t}function a(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=s.navigator;if(N){var R=N.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var q,B,j=D(A,"Opera"),z=D(A,"Trident")||D(A,"MSIE"),H=D(A,"Edge"),W=H||z,K=D(A,"Gecko")&&!(D(A.toLowerCase(),"webkit")&&!D(A,"Edge"))&&!(D(A,"Trident")||D(A,"MSIE"))&&!D(A,"Edge"),G=D(A.toLowerCase(),"webkit")&&!D(A,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var Y="",X=(B=A,K?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):G?/WebKit\/(\S+)/.exec(B):j?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(X&&(Y=X?X[1]:""),z){var Z=Q();if(null!=Z&&Z>parseFloat(Y)){q=String(Z);break t}}q=Y}var $,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=P(String(q)).split("."),r=P(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",l=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||O(0==s[2].length,0==l[2].length)||O(s[2],l[2]),s=s[3],l=l[3]}while(0==e)}return 0<=e}))}var et=s.document;$=et&&z?Q()||("CSS1Compat"==et.compatMode?parseInt(q,10):5):void 0;var nt=!z||9<=Number($),rt=z&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:lt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},C(st,ot);var lt={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=St(r),e&&e[at]?e.Ba(n,r,f(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(d(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[at]?t.Aa(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!nt)return null;var l=Ct(t);if(l||(t[gt]=l=new dt(t)),(n=l.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!a(t)&&t&&!t.X){var e=t.src;if(e&&e[at])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ht(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Ct(t){return(t=t[gt])instanceof dt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function It(){E.call(this),this.c=new dt(this),this.J=this,this.B=null}function Tt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var l=s.listener,a=s.da||s.src;s.Z&&pt(t.c,s),i=!1!==l.call(a,r)&&i}}return i&&0!=r.Ja}C(It,E),It.prototype[at]=!0,(r=It.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=St(r),e&&e[at]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(l(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;V(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Tt(s,r,!0,t)&&i}if(i=Tt(s=t.a=n,r,!0,t)&&i,i=Tt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tt(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(It.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=s.JSON.stringify;function xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Pt,Dt=new xt((function(){return new Nt}),(function(t){t.reset()}));function Ot(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Rt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){Pt||function(){var t=s.Promise.resolve(void 0);Pt=function(){t.then(Vt)}}(),Lt||(Pt(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function Vt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){It.call(this),this.b=t||1,this.a=e||s,this.f=b(this.gb,this),this.g=w()}function qt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function jt(t,e,n){E.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}C(Ut,It),(r=Ut.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(qt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ut.N.G.call(this),qt(this),delete this.a},C(jt,E),(r=jt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){jt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Ht,E);var Wt=[];function Kt(t,e,n,r){d(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new It;function Xt(t){ot.call(this,"serverreachability",t)}function Zt(t){Yt.dispatchEvent(new Xt(Yt,t))}function $t(t){ot.call(this,"statevent",t)}function Jt(t){Yt.dispatchEvent(new $t(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}C(Xt,ot),C($t,ot),C(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,le={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ae(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=de,this.P=new Ut(t=W?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ae,ot),C(ue,ot),C(ce,ie),se=new ce;var de=45e3,pe={},fe={};function ge(t,e,n){t.F=1,t.f=qe(Ne(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=qe(Ne(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),_e(t),t.D=Ne(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new jt(b(t.Ka,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Zt(1)}function ye(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==fe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==pe){t.c=4,Jt(15),r=!1;break}Ie(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(Se(t),Ee(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ce(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Da()||t.m||t.g.na(t)}function Se(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,qt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ie(t,e){try{t.g.Ga(t,e),Zt(4)}catch(n){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||l(t))I(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(l(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Pe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Nn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!W&&!this.a.aa())){this.m||4!=e||7==n||Zt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Rn(this.a,"X-HTTP-Initial-Response");if(s&&!x(s)){var l=s;break e}}l=null}if(!l){this.b=!1,this.c=3,Jt(12),Se(this),Ee(this);break t}this.s=!0,Ie(this,l)}this.H?(ye(this,e,o),W&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.cb),this.P.start())):Ie(this,o),4==e&&Se(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),Se(this),Ee(this)}}}catch(a){}},r.cb=function(){if(this.a){var t=Nn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ye(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Se(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Zt(3),Jt(17)),Se(this),this.c=2,Ee(this)):we(this,this.R-t)},(r=ke.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},r.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Ne(t){return new Oe(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=je(e,Ge)),t.c=new Ye(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function qe(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function je(t,e,n){return l(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(je(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(je(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(je(n,"/"==n.charAt(0)?Ke:We,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",je(n,Qe)),t.join("")},Oe.prototype.resolve=function(t){var e=Ne(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var l=i[s++];"."==l?r&&s==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,We=/[#\?:]/g,Ke=/[#\?]/g,Ge=/[#\?@]/g,Qe=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ze(t,e){Xe(t),e=en(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function $e(t,e){return Xe(t),e=en(t,e),Pe(t.a.b,e)}function Je(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),k(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new ke(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Kn(t.a,t,!1)):(Jt(11),Kn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new ke}function ln(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function an(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Xe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Xe(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Xe(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Xe(this);var e=[];if(l(t))$e(this,t)&&(e=T(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},r.set=function(t,e){return Xe(this),this.c=null,$e(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},C((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!z||10<=Number($))&&(this.c=200,this.b.cancel(),Jt(11),Kn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Kn(this.a,this,!0)):(Jt(10),Kn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(ln(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=ln(e),t=Pe(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=ln(e),n=Pe(t.a.a.b,n)),n&&xe(t.a.a,ln(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return I(t.a.C(),(function(t){e=e.concat(t.j)})),e}return k(t.c)}function yn(){}function bn(){this.a=new yn}function _n(t,e,n){var r=n||"";try{Te(t,(function(t,n){var i=t;f(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(I(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var Cn=s.JSON.parse;function En(t){It.call(this),this.headers=new ke,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}C(En,It);var Sn="",In=/^https?$/i,Tn=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Dn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Nn(t)||2!=t.T()))if(t.l&&4==Nn(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.A).match(De)[1]||null;if(!l&&s.self&&s.self.location){var a=s.self.location.protocol;l=a.substr(0,a.length-1)}i=!In.test(l?l.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",An(t))}finally{Dn(t)}}}function Dn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Vn(t),3==t.u){var e=t.P++,n=Ne(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),jn(t,n),(e=new he(t,e,void 0)).F=2,e.f=qe(Ne(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Xn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(a(t.h)&&s.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new an(t.Ra++,e)),3==t.u&&qn(t)}function qn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Ne(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),jn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function jn(t,e){t.c&&Te({},(function(t,n){Ve(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var l=!0,a=0;a<n;a++){var u=i[a].b,c=i[a].a;if(0>(u-=o))o=Math.max(0,i[a].b-100),l=!1;else try{_n(c,s,"req"+u+"_")}catch(h){r&&r(c)}}if(l){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Wn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Qn(t,t.v)),t.v++,0))}function Kn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),qn(t)}function Gn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Re(n,"https"),qe(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Xn(t),Vn(t)}function Xn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Oe?Ne(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){Ve(r,e,t)})),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),jn(t,r),r}function $n(){}function Jn(){if(z&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function tr(t,e){It.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void xn(this,o)}t=n||"";var i=new ke(this.headers);r&&Te(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=kn,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=S(Tn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&a(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xn(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),En.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?Pn(this):this.$a())},r.$a=function(){Pn(this)},r.T=function(){try{return 2<Nn(this)?this.a.status:-1}catch(B){return-1}},r.za=function(){try{return 2<Nn(this)?this.a.statusText:""}catch(B){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Ya=function(){return l(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&l(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Ne(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),jn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ne(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),jn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Wn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Gn(this),!x(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&a(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),_e(r)),this.a=r):Hn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Wn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),qn(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Wn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.fb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=$n.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},C(tr,It),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(t){if(l(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=kt(t),Un(this.a,e)):Un(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},C(er,ae),C(nr,ue),C(rr,$n),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",It.prototype.listen=It.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:En},sr=or.createWebChannelTransport,lr=or.ErrorCode,ar=or.EventType,ur=or.WebChannel,cr=or.XhrIo;e.default=or},yLV6:function(t,e,n){var r;!function(i,o,s,l){"use strict";var a,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function g(t,e,n){return setTimeout(C(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==l)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==l&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===l)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=y((function(t,e){return b(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&a(r,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==h?t.apply(e&&e[0]||l,e):t}function S(t,e){return t===l?e:t}function I(t,e,n){v(A(e),(function(e){t.addEventListener(e,n,!1)}))}function T(t,e,n){v(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function O(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];P(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function N(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return l}var R=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,F=N(i,"PointerEvent")!==l,V=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=25,q=1,B=2,j=4,z=8,H=1,W=2,K=4,G=8,Q=16,Y=W|K,X=G|Q,Z=Y|X,$=["x","y"],J=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&q&&r-i==0,s=e&(j|z)&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e)),i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=rt(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=lt(a,u),e.distance=st(a,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==q&&o.eventType!==j||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c,h,d=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=s?(c=s.pointers,st((h=r)[0],h[1],J)/st(c[0],c[1],J)):1,e.rotation=s?function(t,e){return lt(e[1],e[0],J)+lt(t[1],t[0],J)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=z&&(a>U||s.velocity===l)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,h=it(a,u,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=ot(u,c),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var g=t.element;k(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:d(n/e),y:d(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?H:p(t)>=p(e)?t<0?W:K:e<0?G:Q}function st(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function lt(t,e,n){return n||(n=$),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(M(this.element),this.evWin,this.domHandler)}};var at={mousedown:q,mousemove:B,mouseup:j},ut="mousedown",ct="mousemove mouseup";function ht(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}w(ht,tt,{handler:function(t){var e=at[t.type];e&q&&0===t.button&&(this.pressed=!0),e&B&&1!==t.which&&(e=j),this.pressed&&(e&j&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:q,pointermove:B,pointerup:j,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ft="pointerdown",gt="pointermove pointerup pointercancel";function mt(){this.evEl=ft,this.evWin=gt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ft="MSPointerDown",gt="MSPointerMove MSPointerUp MSPointerCancel"),w(mt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=dt[r],o=pt[t.pointerType]||t.pointerType,s="touch"==o,l=P(e,t.pointerId,"pointerId");i&q&&(0===t.button||s)?l<0&&(e.push(t),l=e.length-1):i&(j|z)&&(n=!0),l<0||(e[l]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(l,1))}});var vt={touchstart:q,touchmove:B,touchend:j,touchcancel:z},yt="touchstart",bt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=yt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}function wt(t,e){var n=D(t.touches),r=D(t.changedTouches);return e&(j|z)&&(n=O(n.concat(r),"identifier",!0)),[n,r]}w(_t,tt,{handler:function(t){var e=vt[t.type];if(e===q&&(this.started=!0),this.started){var n=wt.call(this,t,e);e&(j|z)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ct={touchstart:q,touchmove:B,touchend:j,touchcancel:z},Et="touchstart touchmove touchend touchcancel";function St(){this.evTarget=Et,this.targetIds={},tt.apply(this,arguments)}function It(t,e){var n=D(t.touches),r=this.targetIds;if(e&(q|B)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=D(t.changedTouches),l=[],a=this.target;if(o=n.filter((function(t){return k(t.target,a)})),e===q)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&l.push(s[i]),e&(j|z)&&delete r[s[i].identifier],i++;return l.length?[O(o.concat(l),"identifier",!0),l]:void 0}w(St,tt,{handler:function(t){var e=Ct[t.type],n=It.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Tt=2500,kt=25;function xt(){tt.apply(this,arguments);var t=C(this.handler,this);this.touch=new St(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function At(t,e){t&q?(this.primaryTouch=e.changedPointers[0].identifier,Pt.call(this,e)):t&(j|z)&&Pt.call(this,e)}function Pt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),Tt)}}function Dt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=kt&&s<=kt)return!0}return!1}w(xt,tt,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)At.call(this,e,n);else if(r&&Dt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ot=N(c.style,"touchAction"),Nt=Ot!==l,Rt=function(){if(!Nt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function Mt(t,e){this.manager=t,this.set(e)}Mt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Nt&&this.manager.element.style&&Rt[t]&&(this.manager.element.style[Ot]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":x(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=x(r,"none")&&!Rt.none,o=x(r,"pan-y")&&!Rt["pan-y"],s=x(r,"pan-x")&&!Rt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&n&Y||s&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Ft=2,Vt=4,Ut=8,qt=Ut,Bt=16;function jt(t){this.options=a({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function zt(t){return t&Bt?"cancel":t&Ut?"end":t&Vt?"move":t&Ft?"start":""}function Ht(t){return t==Q?"down":t==G?"up":t==W?"left":t==K?"right":""}function Wt(t,e){var n=e.manager;return n?n.get(t):t}function Kt(){jt.apply(this,arguments)}function Gt(){Kt.apply(this,arguments),this.pX=null,this.pY=null}function Qt(){Kt.apply(this,arguments)}function Yt(){jt.apply(this,arguments),this._timer=null,this._input=null}function Xt(){Kt.apply(this,arguments)}function Zt(){Kt.apply(this,arguments)}function $t(){jt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=S(e.recognizers,Jt.defaults.preset),new te(t,e)}function te(t,e){var n;this.options=a({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?mt:V?St:L?xt:ht))(n,et),this.touchAction=new Mt(this,this.options.touchAction),ee(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,(function(i,o){n=N(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}jt.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Wt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=Wt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Wt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Ut&&r(e.options.event+zt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Ut&&r(e.options.event+zt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(qt|Bt|32)&&(this.state=Lt),this.state=this.process(e),this.state&(Ft|Vt|Ut|Bt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Kt,jt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Ft|Vt),i=this.attrTest(t);return r&&(n&z||!i)?e|Bt:r||i?n&j?e|Ut:e&Ft?e|Vt:Ft:32}}),w(Gt,Kt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&Y&&e.push("pan-y"),t&X&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Y?(i=0===o?H:o<0?W:K,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?H:s<0?G:Q,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Kt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ht(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Qt,Kt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(Yt,jt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(j|z)&&!i)this.reset();else if(t.eventType&q)this.reset(),this._timer=g((function(){this.state=qt,this.tryEmit()}),e.time,this);else if(t.eventType&j)return qt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===qt&&(t&&t.eventType&j?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Xt,Kt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),w(Zt,Kt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|X,pointers:1},getTouchAction:function(){return Gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Y|X)?e=t.overallVelocity:n&Y?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&j},emit:function(t){var e=Ht(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w($t,jt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&q&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=j)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=qt,this.tryEmit()}),e.interval,this),Ft):qt}return 32},failTimeout:function(){return this._timer=g((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==qt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xt,{enable:!1}],[Qt,{enable:!1},["rotate"]],[Zt,{direction:Y}],[Gt,{direction:Y},["swipe"]],[$t],[$t,{event:"doubletap",taps:2},["tap"]],[Yt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&qt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Ft|Vt|Ut)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof jt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=P(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==l&&e!==l){var n=this.handlers;return v(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==l){var n=this.handlers;return v(A(t),(function(t){e?n[t]&&n[t].splice(P(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Jt,{INPUT_START:q,INPUT_MOVE:B,INPUT_END:j,INPUT_CANCEL:z,STATE_POSSIBLE:Lt,STATE_BEGAN:Ft,STATE_CHANGED:Vt,STATE_ENDED:Ut,STATE_RECOGNIZED:qt,STATE_CANCELLED:Bt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:W,DIRECTION_RIGHT:K,DIRECTION_UP:G,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:X,DIRECTION_ALL:Z,Manager:te,Input:tt,TouchAction:Mt,TouchInput:St,MouseInput:ht,PointerEventInput:mt,TouchMouseInput:xt,SingleTouchInput:_t,Recognizer:jt,AttrRecognizer:Kt,Tap:$t,Pan:Gt,Swipe:Zt,Pinch:Qt,Rotate:Xt,Press:Yt,on:I,off:T,each:v,merge:_,extend:b,assign:a,inherit:w,bindFn:C,prefixed:N}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Jt,(r=(function(){return Jt}).call(e,n,e,t))===l||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e),n("yLV6");let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const l={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},a=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof c?d(s.errors):[s]}if(a(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(u(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof c?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==l&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(){}function y(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(l)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class x extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=P(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return(t=>e=>{const n=t[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(O(t))return A(t);if(N(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[D])return(t=>e=>{const n=t[D]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function M(t,e,n,r,i=new x(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):R(e)(i)}class L extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(N(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return q(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[D](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(R(t))}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(j((n,r)=>B(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x(this,void 0,void 0);this.destination.add(r),M(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t){return t}function K(t=Number.POSITIVE_INFINITY){return j(W,t)}function G(t,e){return e?q(t,e):new _(A(t))}function Q(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:K(e)(G(t,n))}function Y(){return function(t){return t.lift(new X(t))}}class X{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class $ extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return Y()(this)}}const J=(()=>{const t=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(){return new I}const nt="__annotations__",rt="__parameters__",it="__prop__metadata__";function ot(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rt)?t[rt]:Object.defineProperty(t,rt,{value:[]})[rt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const st=ot("Inject",t=>({token:t})),lt=ot("Optional"),at=ot("Self"),ut=ot("SkipSelf");var ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){const e=t[ft];return e&&e.token===t?e:null}const ft=ht({ngInjectableDef:ht});function gt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const mt=ht({__forward_ref__:ht});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return gt(this())},t}function yt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(mt)&&e.__forward_ref__===vt?e():t}const bt="undefined"!=typeof globalThis&&globalThis,_t="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,Et=bt||Ct||_t||wt;class St{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const It=new St("INJECTOR",-1),Tt=new Object,kt="ngTempTokenPath",xt="ngTokenPath",At=/\n/gm,Pt="\u0275",Dt="__source",Ot=ht({provide:String,useValue:ht});let Nt,Rt=void 0;function Mt(t){const e=Rt;return Rt=t,e}function Lt(t,e=ct.Default){if(void 0===Rt)throw new Error("inject() must be called from an injection context");return null===Rt?function(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ct.Optional)return null;throw new Error(`Injector: NOT_FOUND [${gt(t)}]`)}(t,0,e):Rt.get(t,e&ct.Optional?null:void 0,e)}function Ft(t,e=ct.Default){return(Nt||Lt)(t,e)}const Vt=Ft;class Ut{get(t,e=Tt){if(e===Tt){const e=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw e.name="NullInjectorError",e}return e}}function qt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Pt?t.substr(2):t;let i=gt(e);if(e instanceof Array)i=e.map(gt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):gt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(At,"\n  ")}`}class Bt{}class jt{}function zt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Kt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))(),Gt="ngDebugContext",Qt="ngOriginalError",Yt="ngErrorLogger";function Xt(t){return t[Gt]}function Zt(t){return t[Qt]}function $t(t,...e){t.error(...e)}class Jt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Yt]||$t}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Xt(t)?Xt(t):this._findContext(Zt(t)):null}_findOriginalError(t){let e=Zt(t);for(;e&&Zt(e);)e=Zt(e);return e}}let te=!0,ee=!1;function ne(){return ee=!0,te}class re{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ie=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,oe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function se(t){return(t=String(t)).match(ie)||t.match(oe)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function le(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ae(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ue=le("area,br,col,hr,img,wbr"),ce=le("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),he=le("rp,rt"),de=ae(he,ce),pe=ae(ue,ae(ce,le("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ae(he,le("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),de),fe=le("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ge=le("srcset"),me=ae(fe,ge,le("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),le("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ve=le("script,style,template");class ye{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ve.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!me.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;fe[o]&&(s=se(s)),ge[o]&&(r=s,s=(r=String(r)).split(",").map(t=>se(t.trim())).join(", ")),this.buf.push(" ",e,'="',we(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pe.hasOwnProperty(e)&&!ue.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(we(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const be=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_e=/([^\#-~ |!])/g;function we(t){return t.replace(/&/g,"&amp;").replace(be,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(_e,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ce;function Ee(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Se=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Ie{}const Te=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ke=/^url\(([^)]+)\)$/,xe=/([A-Z])/g;function Ae(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Pe=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>De(),t})();const De=(...t)=>{},Oe=Function;function Ne(t){return"function"==typeof t}const Re=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Me=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Le=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Fe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ve{constructor(t){this._reflect=t||Et.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Re.test(n)||Fe.test(n)||Me.test(n)&&!Le.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Ue(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(rt)&&t[rt],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):new Array(t.length).fill(void 0)}parameters(t){if(!Ne(t))return[];const e=qe(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Ue(t.decorators):t.hasOwnProperty(nt)?t[nt]:null}annotations(t){if(!Ne(t))return[];const e=qe(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Ue(e[t])}),n}return t.hasOwnProperty(it)?t[it]:null}propMetadata(t){if(!Ne(t))return{};const e=qe(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Ne(t)&&this._ownPropMetadata(t,qe(t))||{}}hasLifecycleHook(t,e){return t instanceof Oe&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${gt(t)}`}resourceUri(t){return`./${gt(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Ue(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function qe(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Be=new St("The presence of this token marks an injector as being the root injector."),je=function(t,e,n){return new Ye(t,e,n)};let ze=(()=>{class t{static create(t,e){return Array.isArray(t)?je(t,e,""):je(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Tt,t.NULL=new Ut,t.ngInjectableDef=dt({token:t,providedIn:"any",factory:()=>Ft(It)}),t.__NG_ELEMENT_ID__=-1,t})();const He=function(t){return t},We=[],Ke=He,Ge=function(){return Array.prototype.slice.call(arguments)},Qe="\u0275";class Ye{constructor(t,e=ze.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(ze,{token:ze,fn:He,deps:We,value:this,useNew:!1}),r.set(It,{token:It,fn:He,deps:We,value:this,useNew:!1}),function t(e,n){if(n)if((n=yt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ze("Unexpected provider",n);{let t=yt(n.provide);const r=function(t){const e=function(t){let e=We;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=yt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof lt||n==lt?r|=1:n instanceof ut||n==ut?r&=-3:n instanceof at||n==at?r&=-5:i=n instanceof st?n.token:yt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:yt(t.useExisting),options:6}];else if(!(n||Ot in t))throw Ze("'deps' required",t);return e}(t);let n=He,r=We,i=!1,o=yt(t.provide);if(Ot in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=yt(t.useClass);else{if("function"!=typeof o)throw Ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Ge)throw Xe(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Ge,value:We});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Ge)throw Xe(t);e.set(t,r)}}}(r,t)}get(t,e,n=ct.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let l;if(!n||s&ct.SkipSelf)s&ct.Self||(l=i.get(e,o,ct.Default));else{if((l=n.value)==Ke)throw Error(Qe+"Circular dependency");if(l===We){n.value=Ke;let e=void 0,o=n.useNew,s=n.fn,a=n.deps,u=We;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:ze.NULL,1&o?null:ze.THROW_IF_NOT_FOUND,ct.Default))}}n.value=l=o?new s(...u):s.apply(e,u)}}return l}(e,n,r,i,o,s)}catch(l){throw l instanceof Error||(l=new Error(l)),(l[kt]=l[kt]||[]).unshift(e),n&&n.value==Ke&&(n.value=We),l}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[kt];throw e[Dt]&&i.unshift(e[Dt]),t.message=qt("\n"+t.message,i,"StaticInjectorError",r),t[xt]=i,t[kt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(gt(n))),`StaticInjector[${t.join(", ")}]`}}function Xe(t){return Ze("Cannot mix multi providers and regular providers",t)}function Ze(t,e){return new Error(qt(t,e,"StaticInjectorError"))}function $e(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>gt(t.token)).join(" -> ")+")":""}function Je(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r[Qt]=e,r}(o,r):Error(o);return s.addKey=tn,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s[Qt]=r,s}function tn(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function en(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(gt).join(" "):"?")}return Error("Cannot resolve all parameters for '"+gt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+gt(t)+"' is decorated with Injectable.")}class nn{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=gt(this.token)}static get(t){return on.get(yt(t))}static get numberOfKeys(){return on.numberOfKeys}}class rn{constructor(){this._allKeys=new Map}get(t){if(t instanceof nn)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new nn(t,nn.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const on=new rn;class sn{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const ln=new sn(new Ve);class an{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new an(t,!1,null)}}const un=[];class cn{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class hn{constructor(t,e){this.factory=t,this.dependencies=e}}function dn(t){let e,n;if(t.useClass){const r=yt(t.useClass);e=ln.factory(r),n=fn(r)}else t.useExisting?(e=t=>t,n=[an.fromKey(nn.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>gn(t,e,n))}return fn(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=un);return new hn(e,n)}function pn(t){return new cn(nn.get(t.provide),[dn(t)],t.multi||!1)}function fn(t){const e=ln.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw en(t,e);return e.map(n=>gn(t,n,e))}function gn(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return mn(e instanceof st?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof Oe?r=t:t instanceof st?r=t.token:t instanceof lt?i=!0:t instanceof at||t instanceof ut?o=t:t instanceof St&&(r=t)}if(null!=(r=yt(r)))return mn(r,i,o);throw en(t,n)}function mn(t,e,n){return new an(nn.get(t),e,n)}const vn=new Object;class yn{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new cn(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof Oe)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(e);t(e,n)}}),n}(t,[]).map(pn),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=yn.resolve(t);return yn.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new bn(t,e)}}let bn=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=vn}get(t,e=Tt){return this._getByKey(nn.get(t),null,e)}resolveAndCreateChild(t){const e=yn.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(yn.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Je(this,t.key,(function(t){return`Cannot instantiate cyclic dependency!${$e(t)}`}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=n(...r)}catch(s){throw Je(this,t.key,(function(t){const e=gt(t[0].token);return`${o.message}: Error during instantiation of ${e}!${$e(t)}.`}),o=s)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:Tt)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof at?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===vn&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return vn}_throwOrNull(t,e){if(e!==Tt)return e;throw function(t,e){return Je(t,e,(function(t){return`No provider for ${gt(t[0].token)}!${$e(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==vn?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof ut?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==vn)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=nn.get(ze),t})();const _n=new St("AnalyzeForEntryComponents");let wn=null;function Cn(){if(!wn){const t=Et.Symbol;if(t&&t.iterator)wn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(wn=n)}}}return wn}function En(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Sn(t,e){const n=Tn(t),r=Tn(e);if(n&&r)return function(t,e,n){const r=t[Cn()](),i=e[Cn()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Sn);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||En(t,e)}}class In{constructor(t){this.wrapped=t}static wrap(t){return new In(t)}static unwrap(t){return In.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof In}}function Tn(t){return!!kn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cn()in t)}function kn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xn(t){return!!t&&"function"==typeof t.then}function An(t){return!!t&&"function"==typeof t.subscribe}class Pn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Dn{}class On{}function Nn(t){const e=Error(`No component factory found for ${gt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Rn]=t,e}const Rn="ngComponent";class Mn{resolveComponentFactory(t){throw Nn(t)}}let Ln=(()=>{class t{}return t.NULL=new Mn,t})();class Fn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Nn(t);return new Vn(e,this._ngModule)}}class Vn extends On{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Un(...t){}let qn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Bn(t),t})();const Bn=Un;class jn{}class zn{}const Hn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Kn(),t})();const Kn=Un;class Gn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Qn=new Gn("8.2.14");class Yn{constructor(){}supports(t){return Tn(t)}create(t){return new Zn(t)}}const Xn=(t,e)=>e;class Zn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<er(n,r,i)?e:n,s=er(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=l-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==l&&t(o,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Tn(t))throw new Error(`Error trying to diff '${gt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&En(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),En(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Cn()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&En(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),En(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(En(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(En(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new $n(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new tr),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $n{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&En(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class tr{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Jn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function er(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class nr{constructor(){}supports(t){return t instanceof Map||kn(t)}create(){return new rr}}class rr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||kn(t)))throw new Error(`Error trying to diff '${gt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ir(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){En(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ir{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let or=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new Yn])}),t})(),sr=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new nr])}),t})();const lr=[new nr],ar=new or([new Yn]),ur=new sr(lr);let cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hr(t,qn),t})();const hr=Un;let dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>pr(t,qn),t})();const pr=Un;function fr(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return gr(n,e),n}(i,t)}function gr(t,e){t[Gt]=e,t[Yt]=e.logError.bind(e)}function mr(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function vr(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function yr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function br(t,e){return t.nodes[e]}function _r(t,e){return t.nodes[e]}function wr(t,e){return t.nodes[e]}function Cr(t,e){return t.nodes[e]}function Er(t,e){return t.nodes[e]}const Sr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ir=()=>{},Tr=new Map;function kr(t){let e=Tr.get(t);return e||(e=gt(t)+"_"+Tr.size,Tr.set(t,e)),e}function xr(t,e,n,r){if(In.isWrapped(r)){r=In.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=In.unwrap(t.oldValues[i]);t.oldValues[i]=new In(o)}return r}const Ar="$$undefined",Pr="$$empty";function Dr(t){return{id:Ar,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Or=0;function Nr(t,e,n,r){return!(!(2&t.state)&&En(t.oldValues[e.bindingIndex+n],r))}function Rr(t,e,n,r){return!!Nr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Mr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Sn(i,r)){const o=e.bindings[n].name;throw fr(Sr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function Lr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Fr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Vr(t,e,n,r){try{return Lr(33554432&t.def.nodes[e].flags?_r(t,e).componentView:t),Sr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ur(t){return t.parent?_r(t.parent,t.parentNodeDef.nodeIndex):null}function qr(t){return t.parent?t.parentNodeDef.parent:null}function Br(t,e){switch(201347067&e.flags){case 1:return _r(t,e.nodeIndex).renderElement;case 2:return br(t,e.nodeIndex).renderText}}function jr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function zr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Hr(t){return 1<<t%32}function Wr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Hr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Kr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Dt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:kr(n)}})}function Gr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Wt.Native?_r(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Qr=new WeakMap;function Yr(t){let e=Qr.get(t);return e||((e=t(()=>Ir)).factory=t,Qr.set(t,e)),e}function Xr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Br(t,t.def.lastRenderRootNode))),Zr(t,e,0,t.def.nodes.length-1,n,r,i)}function Zr(t,e,n,r,i,o,s){for(let l=n;l<=r;l++){const n=t.def.nodes[l];11&n.flags&&Jr(t,n,e,i,o,s),l+=n.childCount}}function $r(t,e,n,r,i,o){let s=t;for(;s&&!jr(s);)s=s.parent;const l=s.parent,a=qr(s),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=l.def.nodes[c];t.ngContentIndex===e&&Jr(l,t,n,r,i,o),c+=t.childCount}if(!l.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)ti(t,s[e],n,r,i,o)}}function Jr(t,e,n,r,i,o){if(8&e.flags)$r(t,e.ngContent.index,n,r,i,o);else{const s=Br(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&ti(t,s,n,r,i,o),32&e.bindingFlags&&ti(_r(t,e.nodeIndex).componentView,s,n,r,i,o)):ti(t,s,n,r,i,o),16777216&e.flags){const s=_r(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Xr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Zr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function ti(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const ei=/^:([^:]+):(.+)$/;function ni(t){if(":"===t[0]){const e=t.match(ei);return[e[1],e[2]]}return["",t]}function ri(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function ii(t,e,n,r,i,o,s,l,a,u,c,h,d,p,f,g,m,v,y,b){switch(t){case 1:return e+oi(n)+r;case 2:return e+oi(n)+r+oi(i)+o;case 3:return e+oi(n)+r+oi(i)+o+oi(s)+l;case 4:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u;case 5:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u+oi(c)+h;case 6:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u+oi(c)+h+oi(d)+p;case 7:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u+oi(c)+h+oi(d)+p+oi(f)+g;case 8:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u+oi(c)+h+oi(d)+p+oi(f)+g+oi(m)+v;case 9:return e+oi(n)+r+oi(i)+o+oi(s)+l+oi(a)+u+oi(c)+h+oi(d)+p+oi(f)+g+oi(m)+v+oi(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function oi(t){return null!=t?t.toString():""}const si=new Object,li=kr(ze),ai=kr(It),ui=kr(Bt);function ci(t,e,n,r){return n=yt(n),{index:-1,deps:Kr(r,gt(e)),flags:t,token:e,value:n}}function hi(t,e,n=ze.THROW_IF_NOT_FOUND){const r=Mt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case li:case ai:case ui:return t}const l=t._def.providersByKey[s];let a;if(l){let e=t._providers[l.index];return void 0===e&&(e=t._providers[l.index]=di(t,l)),e===si?void 0:e}if((a=pt(e.token))&&(i=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=si,t._providers[n]=di(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Mt(r)}var i,o}function di(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(hi(t,n[0]));case 2:return new e(hi(t,n[0]),hi(t,n[1]));case 3:return new e(hi(t,n[0]),hi(t,n[1]),hi(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=hi(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(hi(t,n[0]));case 2:return e(hi(t,n[0]),hi(t,n[1]));case 3:return e(hi(t,n[0]),hi(t,n[1]),hi(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=hi(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=hi(t,e.deps[0]);break;case 256:n=e.value}return n===si||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?si:n}function pi(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Ht(n,e),Sr.dirtyParentQueries(r),gi(r),r}function fi(t,e,n){const r=e?Br(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Xr(n,2,i,o,void 0)}function gi(t){Xr(t,3,null,null,void 0)}const mi=new Object;function vi(t,e,n,r,i,o){return new yi(t,e,n,r,i,o)}class yi extends On{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Yr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Sr.createRootView(t,e||[],n,i,r,mi),l=wr(s,o).instance;return n&&s.renderer.setAttribute(_r(s,0).renderElement,"ng-version",Qn.full),new bi(s,new Ei(s),l)}}class bi extends Dn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new qn(_r(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new ki(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function _i(t,e,n){return new wi(t,e,n)}class wi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new qn(this._data.renderElement)}get injector(){return new ki(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=qr(t),t=t.parent;return t?new ki(t,e):new ki(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=pi(this._data,t);Sr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Ei(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Vn||(i=o.get(Bt));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,zt(i,n,r),function(t,e){const n=Ur(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Sr.dirtyParentQueries(r),fi(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Ht(r,e),null==n&&(n=r.length),zt(r,n,i),Sr.dirtyParentQueries(i),gi(i),fi(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=pi(this._data,t);e&&Sr.destroyView(e)}detach(t){const e=pi(this._data,t);return e?new Ei(e):null}}function Ci(t){return new Ei(t)}class Ei{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Xr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Lr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Sr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Sr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Sr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,gi(this._view),Sr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Si(t,e){return new Ii(t,e)}class Ii extends cr{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Ei(Sr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new qn(_r(this._parentView,this._def.nodeIndex).renderElement)}}function Ti(t,e){return new ki(t,e)}class ki{constructor(t,e){this.view=t,this.elDef=e}get(t,e=ze.THROW_IF_NOT_FOUND){return Sr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:kr(t)},e)}}function xi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=_r(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return br(t,n.nodeIndex).renderText;if(20240&n.flags)return wr(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Ai(t){return new Pi(t.renderer)}class Pi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=ni(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=ni(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Di(t,e,n,r){return new Oi(t,e,n,r)}class Oi{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=di(t,i))}}(this)}get(t,e=ze.THROW_IF_NOT_FOUND,n=ct.Default){let r=0;return n&ct.SkipSelf?r|=1:n&ct.Self&&(r|=4),hi(this,{token:t,tokenKey:kr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ln)}destroy(){if(this._destroyed)throw new Error(`The ng module ${gt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==si){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ni=kr(jn),Ri=kr(Wn),Mi=kr(qn),Li=kr(dr),Fi=kr(cr),Vi=kr(Pe),Ui=kr(ze),qi=kr(It);function Bi(t,e,n,r,i,o,s,l){const a=[];if(s)for(let c in s){const[t,e]=s[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(l)for(let c in l)u.push({type:1,propName:c,target:null,eventName:l[c]});return Hi(t,e|=16384,n,r,i,i,o,a,u)}function ji(t,e,n){return Hi(-1,t|=16,null,0,e,e,n)}function zi(t,e,n,r,i){return Hi(-1,t,e,0,n,r,i)}function Hi(t,e,n,r,i,o,s,l,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=Wr(n);a||(a=[]),l||(l=[]),o=yt(o);const d=Kr(s,gt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:ri(l),outputs:a,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Wi(t,e){return Yi(t,e)}function Ki(t,e){let n=t;for(;n.parent&&!jr(n);)n=n.parent;return Xi(n.parent,qr(n),!0,e.provider.value,e.provider.deps)}function Gi(t,e){const n=Xi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!An(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Qi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Qi(t,e,n){return r=>Vr(t,e,n,r)}function Yi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Xi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r($i(t,e,n,i[0]));case 2:return r($i(t,e,n,i[0]),$i(t,e,n,i[1]));case 3:return r($i(t,e,n,i[0]),$i(t,e,n,i[1]),$i(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=$i(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return $i(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Xi(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r($i(t,e,n,i[0]));case 2:return new r($i(t,e,n,i[0]),$i(t,e,n,i[1]));case 3:return new r($i(t,e,n,i[0]),$i(t,e,n,i[1]),$i(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=$i(t,e,n,i[r]);return new r(...s)}}const Zi={};function $i(t,e,n,r,i=ze.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===Vi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let l=t;for(;l;){if(e)switch(s){case Ni:return Ai(Ji(l,e,n));case Ri:return Ji(l,e,n).renderer;case Mi:return new qn(_r(l,e.nodeIndex).renderElement);case Li:return _r(l,e.nodeIndex).viewContainer;case Fi:if(e.element.template)return _r(l,e.nodeIndex).template;break;case Vi:return Ci(Ji(l,e,n));case Ui:case qi:return Ti(l,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=wr(l,t.nodeIndex);return e||(e={instance:Yi(l,t)},l.nodes[t.nodeIndex]=e),e.instance}}n=jr(l),e=qr(l),l=l.parent,4&r.flags&&(l=null)}const a=o.root.injector.get(r.token,Zi);return a!==Zi||i===Zi?a:o.root.ngModule.injector.get(r.token,i)}function Ji(t,e,n){let r;if(n)r=_r(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!jr(r);)r=r.parent;return r}function to(t,e,n,r,i,o){if(32768&n.flags){const e=_r(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=In.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Pn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function eo(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&ro(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=no(t,s,e,r)),s=s.parent}}function no(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&ro(t,i,e.flags&n,r++),i+=e.childCount}return r}function ro(t,e,n,r){const i=wr(t,e);if(!i)return;const o=i.instance;o&&(Sr.setCurrentNode(t,e),1048576&n&&yr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&yr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const io=new St("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kt}),oo={},so=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();var lo=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function ao(t){const e=t.toLowerCase().replace(/_/g,"-");let n=oo[e];if(n)return n;const r=e.split("-")[0];if(n=oo[r])return n;if("en"===r)return lo;throw new Error(`Missing locale data for the locale "${t}".`)}const uo="en-US";let co=uo;function ho(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(co=t.toLowerCase().replace(/_/g,"-"))}class po extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}}function fo(){return this._results[Cn()]()}class go{constructor(){this.dirty=!0,this._results=[],this.changes=new po,this.length=0;const t=Cn(),e=go.prototype;e[t]||(e[t]=fo)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const mo=new St("Application Initializer");class vo{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();xn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const yo=new St("AppId");function bo(){return`${_o()}${_o()}${_o()}`}function _o(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wo=new St("Platform Initializer"),Co=new St("Platform ID"),Eo=new St("appBootstrapListener");class So{log(t){console.log(t)}warn(t){console.warn(t)}}const Io=new St("LocaleId"),To=!1;function ko(){throw new Error("Runtime compiler is not loaded")}const xo=ko,Ao=ko,Po=ko,Do=ko;class Oo{constructor(){this.compileModuleSync=xo,this.compileModuleAsync=Ao,this.compileModuleAndAllComponentsSync=Po,this.compileModuleAndAllComponentsAsync=Do}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class No{}let Ro,Mo;function Lo(){const t=Et.wtf;return!(!t||!(Ro=t.trace)||(Mo=Ro.events,0))}const Fo=Lo();function Vo(t,e){return null}const Uo=Fo?function(t,e=null){return Mo.createScope(t,e)}:(t,e)=>Vo,qo=Fo?function(t,e){return Ro.leaveScope(t,e),e}:(t,e)=>e,Bo=(()=>Promise.resolve(0))();function jo(t){"undefined"==typeof Zone?Bo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class zo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Go(e),t.invokeTask(r,i,o,s)}finally{Qo(e)}},onInvoke:(t,n,r,i,o,s,l)=>{try{return Go(e),t.invoke(r,i,o,s,l)}finally{Qo(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Ko(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Wo,Ho,Ho);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ho(){}const Wo={};function Ko(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Go(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qo(t){t._nesting--,Ko(t)}class Yo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Xo{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),jo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Zo{constructor(){this._applications=new Map,ts.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ts.findTestabilityInTree(this,t,e)}}class $o{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Jo,ts=new $o,es=function(t,e,n){return t.get(No).createCompiler([e]).compileModuleAsync(n)},ns=function(t){return t instanceof Vn};const rs=new St("AllowMultipleToken");class is{constructor(t,e){this.name=t,this.token=e}}function os(t,e,n=[]){const r=`Platform: ${e}`,i=new St(r);return(e=[])=>{let o=ss();if(!o||o.injector.get(rs,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Jo&&!Jo.destroyed&&!Jo.injector.get(rs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jo=t.get(ls);const e=t.get(wo,null);e&&e.forEach(t=>t())}(ze.create({providers:t,name:r}))}return function(t){const e=ss();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ss(){return Jo&&!Jo.destroyed?Jo:null}class ls{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new Yo:("zone.js"===i?void 0:i)||new zo({enableLongStackTrace:ne()}),r=[{provide:zo,useValue:n}];var i;return n.run(()=>{const e=ze.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Jt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return To&&ho(i.injector.get(Io,uo)||uo),i.onDestroy(()=>cs(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return xn(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(vo);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=as({},e);return es(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(us);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${gt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function as(t,e){return Array.isArray(e)?e.reduce(as,t):Object.assign({},t,e)}let us=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ne(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),jo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Q(s,l.pipe(t=>Y()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,J);return r.source=e,r.subjectFactory=n,r}}(et)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof On?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=ns(n)?null:this._injector.get(Bt),i=n.create(ze.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Xo,null);return o&&i.injector.get(Zo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),ne()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,qo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Eo,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Uo("ApplicationRef#tick()"),t})();function cs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hs{}const ds="#",ps="NgFactory";class fs{}const gs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class ms{constructor(t,e){this._compiler=t,this._config=e||gs}load(t){return!To&&this._compiler instanceof Oo?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(ds);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>vs(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(ds),i=ps;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>vs(t,e,r))}}function vs(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ys{constructor(t,e){this.name=t,this.callback=e}}class bs{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof _s&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class _s extends bs{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof _s&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof _s&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof _s&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof _s)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const ws=new Map,Cs=function(t){return ws.get(t)||null};function Es(t){ws.set(t.nativeNode,t)}const Ss=os(null,"core",[{provide:Co,useValue:"unknown"},{provide:ls,deps:[ze]},{provide:Zo,deps:[]},{provide:So,deps:[]}]);function Is(){return ar}function Ts(){return ur}function ks(t){return t?(To&&ho(t),t):uo}function xs(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class As{constructor(t){}}function Ps(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:l,matchedQueryIds:a}=Wr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Yr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ir},provider:null,text:null,query:null,ngContent:null}}function Ds(t,e,n,r,i,o,s=[],l,a,u,c,h){u||(u=Ir);const{matchedQueries:d,references:p,matchedQueryIds:f}=Wr(n);let g=null,m=null;o&&([g,m]=ni(o)),l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e,n]=l[_],[r,i]=ni(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e]=a[_];y[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=ni(t);return[n,r,e]});return h=function(t){if(t&&t.id===Ar){const e=null!=t.encapsulation&&t.encapsulation!==Wt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Or++}`:Pr}return t&&t.id===Pr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:ri(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Ir},provider:null,text:null,query:null,ngContent:null}}function Os(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Gr(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Wt.ShadowDom);if(r.attrs)for(let l=0;l<r.attrs.length;l++){const[t,e,n]=r.attrs[l];o.setAttribute(s,e,n,t)}return s}function Ns(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const l=n.outputs[s],a=Rs(t,n.nodeIndex,(o=l.eventName,(i=l.target)?`${i}:${o}`:o));let u=l.target,c=t;"component"===l.target&&(u=null,c=e);const h=c.renderer.listen(u||r,l.eventName,a);t.disposables[n.outputIndex+s]=h}var i,o}function Rs(t,e,n){return r=>Vr(t,e,n,r)}function Ms(t,e,n,r){if(!Rr(t,e,n,r))return!1;const i=e.bindings[n],o=_r(t,e.nodeIndex),s=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let l=s?t.root.sanitizer.sanitize(s,o):o;l=null!=l?l.toString():null;const a=t.renderer;null!=o?a.setAttribute(n,i,l,r):a.removeAttribute(n,i,r)}(t,i,s,i.ns,l,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,l,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Se.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,l,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,l,r)}return!0}function Ls(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Hr(e),bindings:r},ngContent:null}}function Fs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&zr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Er(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Er(t,n).setDirty(),n+=e.childCount}}function Vs(t,e){const n=Er(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Us(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=wr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Us(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let l=0;l<o.length;l++){const t=o[l];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Us(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(qs(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=_r(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Us(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Ur(o);s&&s===n&&Us(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Us(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function qs(t,e,n){if(null!=n)switch(n){case 1:return _r(t,e.nodeIndex).renderElement;case 0:return new qn(_r(t,e.nodeIndex).renderElement);case 2:return _r(t,e.nodeIndex).template;case 3:return _r(t,e.nodeIndex).viewContainer;case 4:return wr(t,e.nodeIndex).instance}}function Bs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function js(t,e,n){const r=Gr(t,e,n);r&&$r(t,n.ngContent.index,1,r,null,void 0)}function zs(t,e){return Ks(128,t,new Array(e+1))}function Hs(t,e){return Ks(32,t,new Array(e))}function Ws(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Ks(64,t,i)}function Ks(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ri(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Gs(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qs(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Gr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ys(t,e){return(null!=t?t.toString():"")+e.suffix}function Xs(t,e,n,r){let i=0,o=0,s=0,l=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if($s(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[kr(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[kr(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):l|=t.flags,t.childCount>0)u=t,Zs(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Zs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||Ir,updateRenderer:r||Ir,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Zs(t){return 0!=(1&t.flags)&&null===t.element.name}function $s(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Js(t,e,n,r){const i=nl(t.root,t.renderer,t,e,n);return rl(i,t.component,r),il(i),i}function tl(t,e,n){const r=nl(t,t.renderer,null,null,e);return rl(r,n,n),il(r),r}function el(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,nl(t.root,o,t,e.element.componentProvider,n)}function nl(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function rl(t,e,n){t.component=e,t.context=n}function il(t){let e;jr(t)&&(e=_r(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Sr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Os(t,e,o);let l=void 0;if(33554432&o.flags){const e=Yr(o.element.componentView);l=Sr.createComponentView(t,o,e,n)}Ns(t,l,o,n),s={renderElement:n,componentView:l,viewContainer:null,template:o.element.template?Si(t,o):void 0},16777216&o.flags&&(s.viewContainer=_i(t,o,s));break;case 2:s=Qs(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Wi(t,o)});break;case 16:s={instance:Ki(t,o)};break;case 16384:(s=r[i])||(s={instance:Gi(t,o)}),32768&o.flags&&rl(_r(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new go;break;case 8:js(t,e,o),s=void 0}r[i]=s}pl(t,dl.CreateViewNodes),vl(t,201326592,268435456,0)}function ol(t){al(t),Sr.updateDirectives(t,1),fl(t,dl.CheckNoChanges),Sr.updateRenderer(t,1),pl(t,dl.CheckNoChanges),t.state&=-97}function sl(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,vr(t,0,256),al(t),Sr.updateDirectives(t,0),fl(t,dl.CheckAndUpdate),vl(t,67108864,536870912,0);let e=vr(t,256,512);eo(t,2097152|(e?1048576:0)),Sr.updateRenderer(t,0),pl(t,dl.CheckAndUpdate),vl(t,134217728,536870912,0),eo(t,8388608|((e=vr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,vr(t,768,1024)}function ll(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Ms(t,e,0,n)&&(p=!0),d>1&&Ms(t,e,1,r)&&(p=!0),d>2&&Ms(t,e,2,i)&&(p=!0),d>3&&Ms(t,e,3,o)&&(p=!0),d>4&&Ms(t,e,4,s)&&(p=!0),d>5&&Ms(t,e,5,l)&&(p=!0),d>6&&Ms(t,e,6,a)&&(p=!0),d>7&&Ms(t,e,7,u)&&(p=!0),d>8&&Ms(t,e,8,c)&&(p=!0),d>9&&Ms(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,s,l,a,u,c,h);case 2:return function(t,e,n,r,i,o,s,l,a,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Rr(t,e,0,n)&&(d=!0),f>1&&Rr(t,e,1,r)&&(d=!0),f>2&&Rr(t,e,2,i)&&(d=!0),f>3&&Rr(t,e,3,o)&&(d=!0),f>4&&Rr(t,e,4,s)&&(d=!0),f>5&&Rr(t,e,5,l)&&(d=!0),f>6&&Rr(t,e,6,a)&&(d=!0),f>7&&Rr(t,e,7,u)&&(d=!0),f>8&&Rr(t,e,8,c)&&(d=!0),f>9&&Rr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Ys(n,p[0])),f>1&&(d+=Ys(r,p[1])),f>2&&(d+=Ys(i,p[2])),f>3&&(d+=Ys(o,p[3])),f>4&&(d+=Ys(s,p[4])),f>5&&(d+=Ys(l,p[5])),f>6&&(d+=Ys(a,p[6])),f>7&&(d+=Ys(u,p[7])),f>8&&(d+=Ys(c,p[8])),f>9&&(d+=Ys(h,p[9]));const g=br(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,l,a,u,c,h);case 16384:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=wr(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Nr(t,e,0,n)&&(f=!0,g=to(t,d,e,0,n,g)),m>1&&Nr(t,e,1,r)&&(f=!0,g=to(t,d,e,1,r,g)),m>2&&Nr(t,e,2,i)&&(f=!0,g=to(t,d,e,2,i,g)),m>3&&Nr(t,e,3,o)&&(f=!0,g=to(t,d,e,3,o,g)),m>4&&Nr(t,e,4,s)&&(f=!0,g=to(t,d,e,4,s,g)),m>5&&Nr(t,e,5,l)&&(f=!0,g=to(t,d,e,5,l,g)),m>6&&Nr(t,e,6,a)&&(f=!0,g=to(t,d,e,6,a,g)),m>7&&Nr(t,e,7,u)&&(f=!0,g=to(t,d,e,7,u,g)),m>8&&Nr(t,e,8,c)&&(f=!0,g=to(t,d,e,8,c,g)),m>9&&Nr(t,e,9,h)&&(f=!0,g=to(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&yr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,o,s,l,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Rr(t,e,0,n)&&(p=!0),f>1&&Rr(t,e,1,r)&&(p=!0),f>2&&Rr(t,e,2,i)&&(p=!0),f>3&&Rr(t,e,3,o)&&(p=!0),f>4&&Rr(t,e,4,s)&&(p=!0),f>5&&Rr(t,e,5,l)&&(p=!0),f>6&&Rr(t,e,6,a)&&(p=!0),f>7&&Rr(t,e,7,u)&&(p=!0),f>8&&Rr(t,e,8,c)&&(p=!0),f>9&&Rr(t,e,9,h)&&(p=!0),p){const p=Cr(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=l),f>6&&(g[6]=a),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=l),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,l);break;case 7:g=t.transform(r,i,o,s,l,a);break;case 8:g=t.transform(r,i,o,s,l,a,u);break;case 9:g=t.transform(r,i,o,s,l,a,u,c);break;case 10:g=t.transform(r,i,o,s,l,a,u,c,h)}}p.value=g}return p}(t,e,n,r,i,o,s,l,a,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Ms(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Rr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Ys(n[t],r[t]);i=e.text.prefix+i;const o=br(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=wr(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let l=0;l<n.length;l++)Nr(t,e,l,n[l])&&(o=!0,s=to(t,r,e,l,n[l],s));return s&&i.ngOnChanges(s),65536&e.flags&&yr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Rr(t,e,o,n[o])&&(i=!0);if(i){const i=Cr(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function al(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=_r(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Fr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ul(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;d>0&&Mr(t,e,0,n),d>1&&Mr(t,e,1,r),d>2&&Mr(t,e,2,i),d>3&&Mr(t,e,3,o),d>4&&Mr(t,e,4,s),d>5&&Mr(t,e,5,l),d>6&&Mr(t,e,6,a),d>7&&Mr(t,e,7,u),d>8&&Mr(t,e,8,c),d>9&&Mr(t,e,9,h)}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Mr(t,e,r,n[r])}(t,e,r),!1}function cl(t,e){if(Er(t,e.nodeIndex).dirty)throw fr(Sr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function hl(t){if(!(128&t.state)){if(fl(t,dl.Destroy),pl(t,dl.Destroy),eo(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Ur(t);if(e){const n=e.template._projectedViews;n&&(Ht(n,n.indexOf(t)),Sr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(_r(t,n).renderElement):2&e.flags?t.renderer.destroyNode(br(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Er(t,n).destroy()}}(t),jr(t)&&t.renderer.destroy(),t.state|=128}}const dl=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function pl(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?gl(_r(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function fl(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=_r(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)gl(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function gl(t,e){const n=t.state;switch(e){case dl.CheckNoChanges:0==(128&n)&&(12==(12&n)?ol(t):64&n&&ml(t,dl.CheckNoChangesProjectedViews));break;case dl.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ol(t):64&n&&ml(t,e));break;case dl.CheckAndUpdate:0==(128&n)&&(12==(12&n)?sl(t):64&n&&ml(t,dl.CheckAndUpdateProjectedViews));break;case dl.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?sl(t):64&n&&ml(t,e));break;case dl.Destroy:hl(t);break;case dl.CreateViewNodes:il(t)}}function ml(t,e){fl(t,e),pl(t,e)}function vl(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Sr.setCurrentNode(t,i.nodeIndex),r){case 0:Vs(t,i);break;case 1:cl(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let yl=!1;function bl(t,e,n,r,i,o){const s=i.injector.get(zn);return tl(wl(t,i,s,e,n),r,o)}function _l(t,e,n,r,i,o){const s=i.injector.get(zn),l=wl(t,i,new Jl(s),e,n),a=Dl(r);return Zl(Fl.create,tl,null,[l,a,o])}function wl(t,e,n,r,i){const o=e.injector.get(Ie),s=e.injector.get(Jt),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:s}}function Cl(t,e,n,r){const i=Dl(n);return Zl(Fl.create,Js,null,[t,e,i,r])}function El(t,e,n,r){return n=kl.get(e.element.componentProvider.provider.token)||Dl(n),Zl(Fl.create,el,null,[t,e,n,r])}function Sl(t,e,n,r){return Di(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Il.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Il.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Tl.forEach((r,i)=>{pt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Il.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Kr(i.deps),r.value=i.value)}if(Tl.size>0){let e=new Set(t.modules);Tl.forEach((r,i)=>{if(e.has(pt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Kr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[kr(i)]=e}})}}(t=t.factory(()=>Ir)),t):t}(r))}const Il=new Map,Tl=new Map,kl=new Map;function xl(t){let e;Il.set(t.token,t),"function"==typeof t.token&&(e=pt(t.token))&&"function"==typeof e.providedIn&&Tl.set(t.token,t)}function Al(t,e){const n=Yr(e.viewDefFactory),r=Yr(n.nodes[0].element.componentView);kl.set(t,r)}function Pl(){Il.clear(),Tl.clear(),kl.clear()}function Dl(t){if(0===Il.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Il.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Ir);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Il.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Kr(n.deps),t.value=n.value)}}}}function Ol(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return ll(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?Cr(t,e).value:void 0}function Nl(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return ul(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?Cr(t,e).value:void 0}function Rl(t){return Zl(Fl.detectChanges,sl,null,[t])}function Ml(t){return Zl(Fl.checkNoChanges,ol,null,[t])}function Ll(t){return Zl(Fl.destroy,hl,null,[t])}const Fl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Vl,Ul,ql;function Bl(t,e){Ul=t,ql=e}function jl(t,e,n,r){return Bl(t,e),Zl(Fl.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function zl(t,e){if(128&t.state)throw mr(Fl[Vl]);return Bl(t,Gl(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Wl(t,o,r,i):Kl(t,o,r,i),16384&o.flags&&Bl(t,Gl(t,n)),224&o.flags?Cr(t,o.nodeIndex).value:void 0}),t)}function Hl(t,e){if(128&t.state)throw mr(Fl[Vl]);return Bl(t,Ql(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Wl(t,o,r,i):Kl(t,o,r,i),3&o.flags&&Bl(t,Ql(t,n)),224&o.flags?Cr(t,o.nodeIndex).value:void 0}),t)}function Wl(t,e,n,r){if(ll(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],l=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(xe,(...t)=>"-"+t[1].toLowerCase())}`)]=Ae(l))}const r=e.parent,l=_r(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(l,e,r):t.renderer.removeAttribute(l,e)}else t.renderer.setValue(l,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Kl(t,e,n,r){ul(t,e,n,...r)}function Gl(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ql(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Yl{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=qr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return _r(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Ti(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Xl(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Xl(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!jr(t);)t=t.parent;return t.parent?_r(t.parent,qr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Br(this.view,this.nodeDef):Br(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):Ir),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Xl(t,e,n){for(let r in e.references)n[r]=qs(t,e,e.references[r])}function Zl(t,e,n,r){const i=Vl,o=Ul,s=ql;try{Vl=t;const l=e.apply(n,r);return Ul=o,ql=s,Vl=i,l}catch(u){if(Xt(u)||!Ul)throw u;throw l=u,a=$l(),l instanceof Error||(l=new Error(l.toString())),gr(l,a),l}var l,a}function $l(){return Ul?new Yl(Ul,ql):null}class Jl{constructor(t){this.delegate=t}createRenderer(t,e){return new ta(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ta{constructor(t){this.delegate=t,this.debugContextFactory=$l,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Cs(t);!function(t){ws.delete(t.nativeNode)}(e),e instanceof bs&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new _s(n,null,r);e.name=t,Es(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Es(new bs(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Es(new bs(e,null,n)),e}appendChild(t,e){const n=Cs(t),r=Cs(e);n&&r&&n instanceof _s&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Cs(t),i=Cs(e),o=Cs(n);r&&i&&r instanceof _s&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Cs(t),r=Cs(e);n&&r&&n instanceof _s&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=$l();return r&&Es(new _s(n,null,r)),n}setAttribute(t,e,n,r){const i=Cs(t);i&&i instanceof _s&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Cs(t);r&&r instanceof _s&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Cs(t);n&&n instanceof _s&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Cs(t);n&&n instanceof _s&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Cs(t);i&&i instanceof _s&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Cs(t);r&&r instanceof _s&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Cs(t);r&&r instanceof _s&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Cs(t);r&&r.listeners.push(new ys(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ea(t,e,n){return new na(t,e,n)}class na extends jt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(yl)return;yl=!0;const t=ne()?{setCurrentNode:Bl,createRootView:_l,createEmbeddedView:Cl,createComponentView:El,createNgModuleRef:Sl,overrideProvider:xl,overrideComponentView:Al,clearOverrides:Pl,checkAndUpdateView:Rl,checkNoChangesView:Ml,destroyView:Ll,createDebugContext:(t,e)=>new Yl(t,e),handleEvent:jl,updateDirectives:zl,updateRenderer:Hl}:{setCurrentNode:()=>{},createRootView:bl,createEmbeddedView:Js,createComponentView:el,createNgModuleRef:Di,overrideProvider:Ir,overrideComponentView:Ir,clearOverrides:Ir,checkAndUpdateView:sl,checkNoChangesView:ol,destroyView:hl,createDebugContext:(t,e)=>new Yl(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Ol:Nl,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Ol:Nl,t)};Sr.setCurrentNode=t.setCurrentNode,Sr.createRootView=t.createRootView,Sr.createEmbeddedView=t.createEmbeddedView,Sr.createComponentView=t.createComponentView,Sr.createNgModuleRef=t.createNgModuleRef,Sr.overrideProvider=t.overrideProvider,Sr.overrideComponentView=t.overrideComponentView,Sr.clearOverrides=t.clearOverrides,Sr.checkAndUpdateView=t.checkAndUpdateView,Sr.checkNoChangesView=t.checkNoChangesView,Sr.destroyView=t.destroyView,Sr.resolveDep=$i,Sr.createDebugContext=t.createDebugContext,Sr.handleEvent=t.handleEvent,Sr.updateDirectives=t.updateDirectives,Sr.updateRenderer=t.updateRenderer,Sr.dirtyParentQueries=Fs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Yr(this._ngModuleDefFactory));return Sr.createNgModuleRef(this.moduleType,t||ze.NULL,this._bootstrapComponents,e)}}class ra{}var ia=n("Wcq6"),oa=(n("6Joi"),n("wj3C")),sa=n.n(oa),la="firebasestorage.googleapis.com",aa="storageBucket",ua=12e4,ca=6e4,ha=-9007199254740991,da=function(){function t(t,e){this.code_=fa(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return fa(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),pa={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function fa(t){return"storage/"+t}function ga(){return new da(pa.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ma(){return new da(pa.CANCELED,"User canceled the upload/download.")}function va(){return new da(pa.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ya(){return new da(pa.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ba(t,e,n){return new da(pa.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function _a(){return new da(pa.APP_DELETED,"The Firebase app was deleted.")}function wa(t,e){return new da(pa.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ca(t){throw new da(pa.INTERNAL_ERROR,"Internal error: "+t)}var Ea={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Sa(t){switch(t){case Ea.RAW:case Ea.BASE64:case Ea.BASE64URL:case Ea.DATA_URL:return;default:throw"Expected one of the event types: ["+Ea.RAW+", "+Ea.BASE64+", "+Ea.BASE64URL+", "+Ea.DATA_URL+"]."}}var Ia=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Ta(t,e){switch(t){case Ea.RAW:return new Ia(ka(e));case Ea.BASE64:case Ea.BASE64URL:return new Ia(xa(t,e));case Ea.DATA_URL:return new Ia(function(t){var e=new Aa(t);return e.base64?xa(Ea.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw wa(Ea.DATA_URL,"Malformed data URL.")}return ka(e)}(e.rest)}(e),function(t){return new Aa(t).contentType}(e))}throw ga()}function ka(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function xa(t,e){switch(t){case Ea.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw wa(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ea.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw wa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(u){throw wa(t,"Invalid character found")}for(var l=new Uint8Array(s.length),a=0;a<s.length;a++)l[a]=s.charCodeAt(a);return l}var Aa=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw wa(Ea.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),Pa={STATE_CHANGED:"state_changed"},Da={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Oa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Na(t){switch(t){case Da.RUNNING:case Da.PAUSING:case Da.CANCELING:return Oa.RUNNING;case Da.PAUSED:return Oa.PAUSED;case Da.SUCCESS:return Oa.SUCCESS;case Da.CANCELED:return Oa.CANCELED;case Da.ERROR:default:return Oa.ERROR}}function Ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ma(t,e){for(var n in t)Ra(t,n)&&e(n,t[n])}function La(t){if(null==t)return{};var e={};return Ma(t,(function(t,n){e[t]=n})),e}function Fa(t){return new Promise(t)}function Va(t){return Promise.resolve(t)}function Ua(t){return null!=t}function qa(t){return void 0!==t}function Ba(t){return"function"==typeof t}function ja(t){return"object"==typeof t}function za(t){return ja(t)&&null!==t}function Ha(t){return"string"==typeof t||t instanceof String}function Wa(t){return Ka(t)&&Number.isInteger(t)}function Ka(t){return"number"==typeof t||t instanceof Number}function Ga(t){return Qa()&&t instanceof Blob}function Qa(){return"undefined"!=typeof Blob}var Ya=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Xa=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ya.NO_ERROR,this.sendPromise_=Fa((function(e,n){t.xhr_.addEventListener("abort",(function(n){t.errorCode_=Ya.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(n){t.errorCode_=Ya.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(n){e(t)}))}))}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw Ca("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),Ua(r)&&Ma(r,(function(t,e){i.xhr_.setRequestHeader(t,e.toString())})),Ua(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Ca("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Ca("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Ca("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Ua(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Ua(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Za=function(){function t(){}return t.prototype.createXhrIo=function(){return new Xa},t}();function $a(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return ja(n=e)&&!Array.isArray(n)?e:null}var Ja=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new da(pa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=la.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],s=0;s<o.length;s++){var l=o[s],a=l.regex.exec(e);if(a){var u=a[l.indices.path];u||(u=""),n=new t(a[l.indices.bucket],u),l.postModify(n);break}}if(null==n)throw function(t){return new da(pa.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function tu(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function eu(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function nu(t){return"https://"+la+"/v0"+t}function ru(t){var e=encodeURIComponent,n="?";return Ma(t,(function(t,r){var i=e(t)+"="+e(r.toString());n=n+i+"&"})),n=n.slice(0,-1)}function iu(t,e){return e}var ou=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||iu}}(),su=null;function lu(t,e,n){var r=$a(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Ja(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function au(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function uu(t){if(!t||!ja(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!ja(n))throw"Expected object for 'customMetadata' mapping."}else if(za(n))throw"Mapping for '"+e+"' cannot be an object."}}var cu="maxResults",hu=1e3,du="pageToken",pu="prefixes",fu="items";function gu(t){if(!t||!ja(t))throw"Expected ListOptions object.";for(var e in t)if(e===cu){if(!Wa(t[cu])||t[cu]<=0)throw"Expected maxResults to be a positive number.";if(t[cu]>1e3)throw"Expected maxResults to be less than or equal to "+hu+"."}else{if(e!==du)throw"Unknown option: "+e;if(t[du]&&!Ha(t[du]))throw"Expected pageToken to be string."}}function mu(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(l=i)?(a=s,u=1===s?"argument":"arguments"):(a="between "+s+" and "+l,u="arguments"),new da(pa.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+a+" "+u+", received "+n.length+".");var s,l,a,u;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?ba(o,t,c.message):ba(o,t,c)}}var vu=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!qa(e)||t(e)},this.optional=!!e}}();function yu(t,e){function n(t){if(!Ha(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new vu(r,e)}function bu(){return new vu((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Qa()&&t instanceof Blob))throw"Expected Blob or File."}))}function _u(t){return new vu(uu,t)}function wu(t){return new vu(gu,t)}function Cu(){return new vu((function(t){if(!(Ka(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Eu(t,e){return new vu((function(e){if(!(null===e||Ua(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Su(t){return new vu((function(t){if(null!==t&&!Ba(t))throw"Expected a Function."}),t)}function Iu(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Iu();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Qa())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var ku=function(){function t(t,e){var n=0,r="";Ga(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ga(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Qa()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Tu.apply(null,r))}var i=e.map((function(t){return Ha(t)?Ta(Ea.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),l=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[l++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function xu(t,e){return-1!==t.indexOf(e)}var Au=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Pu(t){if(!t)throw ga()}function Du(t,e){return function(n,r){var i=lu(t,r,e);return Pu(null!==i),i}}function Ou(t){return function(e,n){var r;return(r=401===e.getStatus()?new da(pa.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new da(pa.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new da(pa.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Nu(t){var e=Ou(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new da(pa.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Ru(t,e,n){var r=nu(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Au(r,"GET",Du(t,n),i);return o.errorHandler=Nu(e),o}function Mu(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=nu(e.bucketOnlyServerUrl()),l=t.maxOperationRetryTime(),a=new Au(s,"GET",function(t){return function(e,n){var r=function(t,e){var n=$a(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new da(pa.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aa+"' property when initializing the app?");if(e[pu])for(var i=0,o=e[pu];i<o.length;i++){var s=o[i].replace(/\/$/,""),l=t.makeStorageReference(new Ja(r,s));n.prefixes.push(l)}if(e[fu])for(var a=0,u=e[fu];a<u.length;a++)l=t.makeStorageReference(new Ja(r,u[a].name)),n.items.push(l);return n}(t,n)}(t,n);return Pu(null!==r),r}}(t),l);return a.urlParams=o,a.errorHandler=Ou(e),a}function Lu(t,e,n){var r=nu(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Au(r,"GET",function(t,e){return function(n,r){var i=lu(t,r,e);return Pu(null!==i),function(t,e){var n=$a(e);if(null===n)return null;if(!Ha(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return nu("/b/"+i(t.bucket)+"/o/"+i(n))+ru({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Nu(e),o}function Fu(t,e,n,r){var i=nu(e.fullServerUrl()),o=au(n,r),s=t.maxOperationRetryTime(),l=new Au(i,"PATCH",Du(t,r),s);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=o,l.errorHandler=Nu(e),l}function Vu(t,e){var n=nu(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Au(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=Nu(e),i}function Uu(t,e,n){var r=La(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var qu=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Bu(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Pu(!1)}return Pu(xu(e||["active"],n)),n}var ju=function(){return function(t,e,n){if(Ba(t)||Ua(e)||Ua(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),zu=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Hu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Va(!0).then((function(){t.apply(null,e)}))}}var Wu=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Da.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(pa.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(Da.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(pa.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(Da.ERROR))},this.promise_=Fa((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Da.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case Da.RUNNING:t(n);break;case Da.CANCELING:e.transition_(Da.CANCELED);break;case Da.PAUSING:e.transition_(Da.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Uu(e,r,i),l={name:s.fullPath},a=nu(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=au(s,n),h=t.maxUploadRetryTime(),d=new Au(a,"POST",(function(t,e){var n;Bu(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){Pu(!1)}return Pu(Ha(n)),n}),h);return d.urlParams=l,d.headers=u,d.body=c,d.errorHandler=Ou(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new Au(n,"POST",(function(t,e){var n=Bu(t,["active","final"]),i=null;try{i=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Pu(!1)}var o=parseInt(i,10);return Pu(!isNaN(o)),new qu(o,r.size(),"final"===n)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ou(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new qu(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,l){var a=new qu(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new da(pa.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=a.total-a.current,c=u;i>0&&(c=Math.min(c,i));var h=a.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},p=r.slice(h,h+c);if(null===p)throw va();var f=e.maxUploadRetryTime(),g=new Au(n,"POST",(function(t,n){var i,s=Bu(t,["active","final"]),l=a.current+c,u=r.size();return i="final"===s?Du(e,o)(t,n):null,new qu(l,u,"final"===s,i)}),f);return g.headers=d,g.body=p.uploadData(),g.progressCallback=l||null,g.errorHandler=Ou(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(l){return t.error_=l,void t.transition_(Da.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(Da.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Ru(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(Da.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+l;var a=Uu(e,r,i),u=au(a,n),c=ku.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===c)throw va();var h={name:a.fullPath},d=nu(o),p=t.maxUploadRetryTime(),f=new Au(d,"POST",Du(t,n),p);return f.urlParams=h,f.headers=s,f.body=c.uploadData(),f.errorHandler=Ou(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(Da.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Da.CANCELING:case Da.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Da.RUNNING:var e=this.state_===Da.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Da.PAUSED:this.state_=t,this.notifyObservers_();break;case Da.CANCELED:this.error_=ma(),this.state_=t,this.notifyObservers_();break;case Da.ERROR:case Da.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Da.PAUSING:this.transition_(Da.PAUSED);break;case Da.CANCELING:this.transition_(Da.CANCELED);break;case Da.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Na(this.state_);return new zu(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(e){if(t!==Pa.STATE_CHANGED)throw"Expected one of the event types: ["+Pa.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Su(!0).validator,l=Eu(null,!0).validator;function a(t){try{return void s(t)}catch(e){}try{if(l(t),!(qa(t.next)||qa(t.error)||qa(t.complete)))throw"";return}catch(e){throw o}}var u=[yu(i),Eu(a,!0),Su(!0),Su(!0)];mu("on",u,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&mu("on",t,arguments);var o=new ju(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;a(t)}var p=[Eu(d),Su(!0),Su(!0)],f=!(qa(e)||qa(n)||qa(r));return f?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n;-1!==(n=(e=this.observers_).indexOf(t))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Na(this.state_)){case Oa.SUCCESS:Hu(this.resolve_.bind(null,this.snapshot))();break;case Oa.CANCELED:case Oa.ERROR:Hu(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Na(this.state_)){case Oa.RUNNING:case Oa.PAUSED:t.next&&Hu(t.next.bind(t,this.snapshot))();break;case Oa.SUCCESS:t.complete&&Hu(t.complete.bind(t))();break;case Oa.CANCELED:case Oa.ERROR:t.error&&Hu(t.error.bind(t,this.error_))();break;default:t.error&&Hu(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){mu("resume",[],arguments);var t=this.state_===Da.PAUSED||this.state_===Da.PAUSING;return t&&this.transition_(Da.RUNNING),t},t.prototype.pause=function(){mu("pause",[],arguments);var t=this.state_===Da.RUNNING;return t&&this.transition_(Da.PAUSING),t},t.prototype.cancel=function(){mu("cancel",[],arguments);var t=this.state_===Da.RUNNING||this.state_===Da.PAUSING;return t&&this.transition_(Da.CANCELING),t},t}(),Ku=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Ja?e:Ja.makeFromUrl(e)}return t.prototype.toString=function(){return mu("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(su)return su;var t=[];t.push(new ou("bucket")),t.push(new ou("generation")),t.push(new ou("metageneration")),t.push(new ou("name","fullPath",!0));var e=new ou("name");e.xform=function(t,e){return function(t){return!Ha(t)||t.length<2?t:eu(t=t)}(e)},t.push(e);var n=new ou("size");return n.xform=function(t,e){return Ua(e)?+e:e},t.push(n),t.push(new ou("timeCreated")),t.push(new ou("updated")),t.push(new ou("md5Hash",null,!0)),t.push(new ou("cacheControl",null,!0)),t.push(new ou("contentDisposition",null,!0)),t.push(new ou("contentEncoding",null,!0)),t.push(new ou("contentLanguage",null,!0)),t.push(new ou("contentType",null,!0)),t.push(new ou("metadata","customMetadata",!0)),su=t}()},t.prototype.child=function(t){mu("child",[yu()],arguments);var e=tu(this.location.path,t),n=new Ja(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Ja(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Ja(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return eu(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),mu("put",[bu(),_u(!0)],arguments),this.throwIfRoot_("put"),new Wu(this,this.authWrapper,this.location,this.mappings(),new ku(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ea.RAW),mu("putString",[yu(),yu(Sa,!0),_u(!0)],arguments),this.throwIfRoot_("putString");var r=Ta(e,t),i=La(n);return!Ua(i.contentType)&&Ua(r.contentType)&&(i.contentType=r.contentType),new Wu(this,this.authWrapper,this.location,this.mappings(),new ku(r.data,!0),i)},t.prototype.delete=function(){mu("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then((function(e){var n=Vu(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){mu("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return n=this,i=function(){var n,r,i;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return i=o.sent(),(n=t.prefixes).push.apply(n,i.prefixes),(r=t.items).push.apply(r,i.items),null==i.nextPageToken?[3,3]:[4,this.listAllHelper(t,i.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{l(i.next(t))}catch(n){e(n)}}function s(t){try{l(i.throw(t))}catch(n){e(n)}}function l(e){e.done?t(e.value):new r((function(t){t(e.value)})).then(o,s)}l((i=i.apply(n,[])).next())}));var n,r,i},t.prototype.list=function(t){mu("list",[wu(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Mu(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){mu("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then((function(e){var n=Ru(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){mu("updateMetadata",[_u()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=Fu(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){mu("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then((function(e){var n=Lu(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw ya();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new da(pa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Gu=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Qu=function(){function t(){this.map_={},this.id_=ha}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){Ma(this.map_,(function(t,e){e&&e.cancel(!0)})),this.map_={}},t}(),Yu=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;Ua(s)&&(this.bucket_=t.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=ua,this.maxUploadRetryTime_=ca,this.requestMap_=new Qu}return t.extractBucket_=function(t){var e=t[aa]||null;return null==e?null:Ja.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&Ua(this.app_.INTERNAL)&&Ua(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(t){return null})):Va(null)},t.prototype.bucket=function(){if(this.deleted_)throw _a();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Gu(_a());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Xu=function(){function t(t,e,n,r,i,o,s,l,a,u,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=l,this.progressCallback_=u,this.timeout_=a,this.pool_=c;var h=this;this.promise_=Fa((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var l=t.callback_(s,s.getResponseText());qa(l)?i(l):i()}catch(a){o(a)}else null!==s?((r=ga()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?_a():ma():new da(pa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Zu(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,s=0;function l(){return 2===s}var a=!1;function u(){a||(a=!0,e.apply(null,arguments))}function c(e){i=setTimeout((function(){i=null,t(h,l())}),e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];a||(t?u.apply(null,arguments):l()||o?u.apply(null,arguments):(r<64&&(r*=2),1===s?(s=2,e=0):e=1e3*(r+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,a||(null!==i?(t||(s=2),clearTimeout(i),c(0)):t||(s=1)))}return c(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new Zu(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ya.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=xu(t.successCodes_,o);e(!0,new Zu(s,n))}else{var l=n.getErrorCode()===Ya.ABORT;e(!1,new Zu(!1,null,l))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=xu([408,429],t),r=xu(this.additionalRetryCodes_,t);return e||n||r},t}(),Zu=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function $u(t,e,n){var r=ru(t.urlParams),i=t.url+r,o=La(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==sa.a?sa.a.SDK_VERSION:"AppManager")}(o),new Xu(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Ju=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Yu(t,(function(t,e){return new Ku(t,e)}),$u,this,e),this.app_=t,null!=n)this.bucket_=Ja.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Ja(r,""))}this.internals_=new tc(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(mu("ref",[yu(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ku(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Ja.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return mu("refFromURL",[yu(e,!1)],arguments),new Ku(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){mu("setMaxUploadRetryTime",[Cu()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){mu("setMaxOperationRetryTime",[Cu()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),tc=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Va(void 0)},t}();function ec(...t){let e=t[t.length-1];return k(e)?(t.pop(),q(t,e)):G(t)}function nc(t,e){return j(t,e,1)}function rc(t,e){return function(n){return n.lift(new ic(t,e))}}sa.a.INTERNAL.registerService("storage",(function(t,e,n){return new Ju(t,new Za,n)}),{TaskState:Oa,TaskEvent:Pa,StringFormat:Ea,Storage:Ju,Reference:Ku},void 0,!0),(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.o),reject:t(this.g)}},e.prototype.o=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.m()},e.prototype.m=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)l.b(this.a[t]);this.a=null}};var l=new r;return e.prototype.u=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ja(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?l.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ja(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--l&&t(s)}}var s=[],l=0;do{s.push(void 0),l++,o(r.value).Ja(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this;function l(t){return"string"==typeof t}function a(t){return"boolean"==typeof t}var u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function g(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function I(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");k.call(this,n+t[r])}function A(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}I(k,Error),k.prototype.name="CustomError",I(x,k),x.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var N=new P((function(){return new M}),(function(t){t.reset()}));function R(){var t=vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}O.prototype.add=function(t,e){var n=N.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=l(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=L(t,e)}function B(t,e){var n;return(n=0<=(e=L(t,e)))&&Array.prototype.splice.call(t,e,1),n}function j(t,e){!function(t,e){for(var n=l(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function z(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var W,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},G=/&/g,Q=/</g,Y=/>/g,X=/"/g,Z=/'/g,$=/\x00/g,J=/[\x00&<>"']/;function tt(t,e){return-1!=t.indexOf(e)}function et(t,e){return t<e?-1:t>e?1:0}t:{var nt=s.navigator;if(nt){var rt=nt.userAgent;if(rt){W=rt;break t}}W=""}function it(t){return tt(W,t)}function ot(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function st(t){for(var e in t)return!1;return!0}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var at,ut,ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ct.length;o++)n=ct[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function pt(t){return J.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(G,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Y,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(X,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Z,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace($,"&#0;"))),t}function ft(t){s.setTimeout((function(){throw t}),0)}function gt(t,e){ut||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ut=function(){t.then(yt)}}else ut=function(){var t=yt;!m(s.setImmediate)||s.Window&&s.Window.prototype&&!it("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(at||(at=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!it("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!it("Trident")&&!it("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){s.setTimeout(t,0)}}()),at(t)):s.setImmediate(t)}}(),mt||(ut(),mt=!0),vt.add(t,e)}var mt=!1,vt=new O;function yt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){ft(e)}D(N,t)}mt=!1}function bt(t,e){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ot(n,wt,t)}),(function(t){if(!(t instanceof Ut))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ot(n,Ct,t)}))}catch(r){Ot(this,Ct,r)}}var _t=0,wt=2,Ct=3;function Et(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Et.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var St=new P((function(){return new Et}),(function(t){t.reset()}));function It(t,e,n){var r=St.get();return r.g=t,r.b=e,r.f=n,r}function Tt(t){if(t instanceof bt)return t;var e=new bt(h);return Ot(e,wt,t),e}function kt(t){return new bt((function(e,n){n(t)}))}function xt(t,e,n){Nt(t,e,n,null)||gt(E(e,t))}function At(t){return new bt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xt(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Pt(t,e){t.b||t.a!=wt&&t.a!=Ct||Rt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Dt(t,e,n,r){var i=It(null,null,null);return i.a=new bt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ut?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Pt(t,i),i.a}function Ot(t,e,n){t.a==_t&&(t===n&&(e=Ct,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Nt(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Rt(t),e!=Ct||n instanceof Ut||function(t,e){t.g=!0,gt((function(){t.g&&Vt.call(null,e)}))}(t,n)))}function Nt(t,e,n,r){if(t instanceof bt)return Pt(t,It(e||h,n||null,r)),!0;if(T(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(l){o(l)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Rt(t){t.h||(t.h=!0,gt(t.Xb,t))}function Mt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Lt(t,e,n,r){if(n==Ct&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ft(e,n,r);else try{e.c?e.g.call(e.f):Ft(e,n,r)}catch(i){Vt.call(null,i)}D(St,e)}function Ft(t,e,n){e==wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}bt.prototype.then=function(t,e,n){return Dt(this,m(t)?t:null,m(e)?e:null,n)},bt.prototype.$goog_Thenable=!0,(t=bt.prototype).ia=function(t,e){return(t=It(t,t,e)).c=!0,Pt(this,t),this},t.s=function(t,e){return Dt(this,null,t,e)},t.cancel=function(t){this.a==_t&&gt((function(){!function t(e,n){if(e.a==_t)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,l=r.b;l&&(l.c||(i++,l.a==e&&(o=l),!(o&&1<i)));l=l.next)o||(s=l);o&&(r.a==_t&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),Lt(r,o,Ct,n)))}e.c=null}else Ot(e,Ct,n)}(this,new Ut(t))}),this)},t.Lc=function(t){this.a=_t,Ot(this,wt,t)},t.Mc=function(t){this.a=_t,Ot(this,Ct,t)},t.Xb=function(){for(var t;t=Mt(this);)Lt(this,t,this.a,this.i);this.h=!1};var Vt=ft;function Ut(t){k.call(this,t)}function qt(){0!=Bt&&(jt[this[y]||(this[y]=++b)]=this),this.qa=this.qa,this.ja=this.ja}I(Ut,k),Ut.prototype.name="cancel";var Bt=0,jt={};function zt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Bt)){var e=t[y]||(t[y]=++b);if(0!=Bt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jt[e]}}function Ht(t){return Ht[" "](t),t}qt.prototype.qa=!1,qt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ht[" "]=h;var Wt,Kt,Gt=it("Opera"),Qt=it("Trident")||it("MSIE"),Yt=it("Edge"),Xt=Yt||Qt,Zt=it("Gecko")&&!(tt(W.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),$t=tt(W.toLowerCase(),"webkit")&&!it("Edge");function Jt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=(Kt=W,Zt?/rv:([^\);]+)(\)|;)/.exec(Kt):Yt?/Edge\/([\d\.]+)/.exec(Kt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):$t?/WebKit\/(\S+)/.exec(Kt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ee&&(te=ee?ee[1]:""),Qt){var ne=Jt();if(null!=ne&&ne>parseFloat(te)){Wt=String(ne);break t}}Wt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=K(String(Wt)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",l=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;e=et(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||et(0==s[2].length,0==l[2].length)||et(s[2],l[2]),s=s[3],l=l[3]}while(0==e)}return 0<=e}))}var se=s.document;re=se&&Qt?Jt()||("CSS1Compat"==se.compatMode?parseInt(Wt,10):5):void 0;var le=Object.freeze||function(t){return t},ae=!Qt||9<=Number(re),ue=Qt&&!oe("9"),ce=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function he(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function de(t,e){if(he.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:pe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}he.prototype.preventDefault=function(){this.Kb=!1},I(de,he);var pe=le({2:"touch",3:"pen",4:"mouse"});de.prototype.preventDefault=function(){de.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ue)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},de.prototype.f=function(){return this.a};var fe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function me(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++ge,this.oa=this.Ia=!1}function ve(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function ye(t){this.src=t,this.a={},this.b=0}function be(t,e){var n=e.type;n in t.a&&B(t.a[n],e)&&(ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function _e(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}ye.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=_e(t,e,r,i);return-1<s?(e=t[s],n||(e.Ia=!1)):((e=new me(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var we="closure_lm_"+(1e6*Math.random()|0),Ce={};function Ee(t,e,n,r,i){if(r&&r.once)Ie(t,e,n,r,i);else if(f(e))for(var o=0;o<e.length;o++)Ee(t,e[o],n,r,i);else n=Re(n),t&&t[fe]?Le(t,e,n,v(r)?!!r.capture:!!r,i):Se(t,e,n,!1,r,i)}function Se(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,l=Oe(t);if(l||(t[we]=l=new ye(t)),!(n=l.add(e,n,r,s,o)).proxy)if(r=function(){var t=De,e=ae?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ce||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ie(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)Ie(t,e[o],n,r,i);else n=Re(n),t&&t[fe]?Fe(t,e,n,v(r)?!!r.capture:!!r,i):Se(t,e,n,!0,r,i)}function Te(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Re(n),t&&t[fe]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=_e(o=t.a[e],n,r,i))&&(ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Oe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_e(e,n,r,i)),(n=-1<t?e[t]:null)&&ke(n))}function ke(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[fe])be(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Oe(e))?(be(n,t),0==n.b&&(n.src=null,e[we]=null)):ve(t)}}}function xe(t){return t in Ce?Ce[t]:Ce[t]="on"+t}function Ae(t,e,n,r){var i=!0;if((t=Oe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Pe(o,r),i=i&&!1!==o)}return i}function Pe(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&ke(t),n.call(r,e)}function De(t,e){if(t.oa)return!0;if(!ae){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new de(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Ae(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Ae(r[i],t,!1,e),n=n&&o}return n}return Pe(t,new de(e,this))}function Oe(t){return(t=t[we])instanceof ye?t:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(t){return m(t)?t:(t[Ne]||(t[Ne]=function(e){return t.handleEvent(e)}),t[Ne])}function Me(){qt.call(this),this.m=new ye(this),this.Qb=this,this.Va=null}function Le(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Fe(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Ve(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.oa&&s.capture==n){var l=s.listener,a=s.Na||s.src;s.Ia&&be(t.m,s),i=!1!==l.call(a,r)&&i}}return i&&0!=r.Kb}function Ue(t,e,n){if(m(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function qe(t){var e=null;return new bt((function(n,r){-1==(e=Ue((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw s.clearTimeout(e),t}))}function Be(t){if(t.S&&"function"==typeof t.S)return t.S();if(l(t))return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function je(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(g(t)||l(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function ze(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function He(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];We(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)We(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function We(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(Me,qt),Me.prototype[fe]=!0,Me.prototype.addEventListener=function(t,e,n,r){Ee(this,t,e,n,r)},Me.prototype.removeEventListener=function(t,e,n,r){Te(this,t,e,n,r)},Me.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Qb;var r=t.type||t;if(l(t))t=new he(t,n);else if(t instanceof he)t.target=t.target||n;else{var i=t;ht(t=new he(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Ve(s,r,!0,t)&&i}if(i=Ve(s=t.b=n,r,!0,t)&&i,i=Ve(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ve(s=t.b=e[o],r,!1,t)&&i;return i},Me.prototype.va=function(){if(Me.qb.va.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ve(n[r]);delete e.a[t],e.b--}}this.Va=null},(t=ze.prototype).S=function(){He(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return He(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return We(this.b,t)?this.b[t]:e},t.set=function(t,e){We(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ke=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,t instanceof Ge?(this.h=void 0!==e?e:t.h,Qe(this,t.f),this.i=t.i,this.b=t.b,Ye(this,t.m),this.c=t.c,Xe(this,mn(t.a)),this.g=t.g):t&&(n=String(t).match(Ke))?(this.h=!!e,Qe(this,n[1]||"",!0),this.i=en(n[2]||""),this.b=en(n[3]||"",!0),Ye(this,n[4]),this.c=en(n[5]||"",!0),Xe(this,n[6]||"",!0),this.g=en(n[7]||"")):(this.h=!!e,this.a=new cn(null,this.h))}function Qe(t,e,n){t.f=n?en(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ye(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xe(t,e,n){e instanceof cn?(t.a=e,function(t,e){e&&!t.f&&(hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),gn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=nn(e,an)),t.a=new cn(e,t.h))}function Ze(t,e,n){t.a.set(e,n)}function $e(t,e){return t.a.get(e)}function Je(t){return t instanceof Ge?new Ge(t):new Ge(t,void 0)}function tn(t,e){var n=new Ge(null,void 0);return Qe(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function en(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nn(t,e,n){return l(t)?(t=encodeURI(t).replace(e,rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ge.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nn(e,on,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(nn(e,on,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(nn(n,"/"==n.charAt(0)?ln:sn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",nn(n,un)),t.join("")},Ge.prototype.resolve=function(t){var e=new Ge(this),n=!!t.f;n?Qe(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.m;var r=t.c;if(n)Ye(e,t.m);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(tt(i,"./")||tt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var l=i[s++];"."==l?r&&s==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Xe(e,mn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var on=/[#\/\?@]/g,sn=/[#\?:]/g,ln=/[#\?]/g,an=/[#\?@]/g,un=/#/g;function cn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hn(t){t.a||(t.a=new ze,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function dn(t){var e=je(t);if(void 0===e)throw Error("Keys are undefined");var n=new cn(null,void 0);t=Be(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];f(o)?gn(n,i,o):n.add(i,o)}return n}function pn(t,e){hn(t),e=vn(t,e),We(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,We((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&He(t)))}function fn(t,e){return hn(t),e=vn(t,e),We(t.a.b,e)}function gn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(vn(t,e),H(n)),t.b+=n.length)}function mn(t){var e=new cn;return e.c=t.c,t.a&&(e.a=new ze(t.a),e.b=t.b),e}function vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=cn.prototype).add=function(t,e){hn(this),this.c=null,t=vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){hn(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.U=function(){hn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){hn(this);var e=[];if(l(t))fn(this,t)&&(e=z(e,this.a.get(vn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return hn(this),this.c=null,fn(this,t=vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var yn=!Qt||9<=Number(re);function bn(t,e){this.a=t===Cn&&e||"",this.b=wn}function _n(t){return t instanceof bn&&t.constructor===bn&&t.b===wn?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}bn.prototype.na=!0,bn.prototype.ma=function(){return this.a},bn.prototype.toString=function(){return"Const{"+this.a+"}"};var wn={},Cn={};function En(){this.a="",this.b=xn}function Sn(t){return t instanceof En&&t.constructor===En&&t.b===xn?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function In(t,e){var n=_n(t);if(!kn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new En;return e.a=t,e}(t=n.replace(Tn,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bn?_n(t):encodeURIComponent(String(t))})))}En.prototype.na=!0,En.prototype.ma=function(){return this.a.toString()},En.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tn=/%{(\w+)}/g,kn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xn={};function An(){this.a="",this.b=Nn}function Pn(t){return t instanceof An&&t.constructor===An&&t.b===Nn?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}An.prototype.na=!0,An.prototype.ma=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function On(t){return t instanceof An?t:(t="object"==typeof t&&t.na?t.ma():String(t),Dn.test(t)||(t="about:invalid#zClosurez"),Rn(t))}var Nn={};function Rn(t){var e=new An;return e.a=t,e}function Mn(){this.a="",this.b=Ln}Rn("about:blank"),Mn.prototype.na=!0,Mn.prototype.ma=function(){return this.a.toString()},Mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ln={};function Fn(t){var e=new Mn;return e.a=t,e}function Vn(t){var e=document;return l(t)?e.getElementById(t):t}function Un(t,e){ot(e,(function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:qn.hasOwnProperty(n)?t.setAttribute(qn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}Fn("<!DOCTYPE html>"),Fn(""),Fn("<br>");var qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bn(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function jn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Kn(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Kn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new zn,t,e),e.join("")}function zn(){}var Hn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Wn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Kn(t,e){e.push('"',t.replace(Wn,(function(t){var e=Hn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hn[t]=e),e})),'"')}function Gn(){var t=dr();return Qt&&!!re&&11==re||/Edge\/\d+/.test(t)}function Qn(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Yn(t,e){e=e||s.window;var n="about:blank";t&&(n=Pn(On(t)).toString()),e.location.href=n}function Xn(t){return!!((t=(t||dr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Zn(t){t=t||s.window;try{t.close()}catch(e){}}function $n(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=dr().toLowerCase(),r&&(e.target=r,tt(n,"crios/")&&(e.target="_blank")),ur(dr())==lr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof An?n:On(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=r.document.createElement("A"),e instanceof An||e instanceof An||(e="object"==typeof e&&e.na?e.ma():String(e),Dn.test(e)||(e="about:invalid#zClosurez"),e=Rn(e)),s.href=Pn(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Pn(e).toString(),s&&(Xt&&tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Fn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pt(t)+'">'),s.document.write(function(t){return t instanceof Mn&&t.constructor===Mn&&t.b===Ln?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),s.document.close())):(s=r.open(Pn(e).toString(),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(l){}return s}var Jn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tr=/^[^@]+@[^@]+$/;function er(){var t=null;return new bt((function(e){"complete"==s.document.readyState?e():(t=function(){e()},Ie(window,"load",t))})).s((function(e){throw Te(window,"load",t),e}))}function nr(t){return t=t||dr(),!("file:"!==vr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ir(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function or(){return sa.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":sa.a.INTERNAL.hasOwnProperty("node")?"Node":ir()?"Worker":"Browser"}function sr(){var t=or();return"ReactNative"===t||"Node"===t}var lr="Firefox",ar="Chrome";function ur(t){var e=t.toLowerCase();return tt(e,"opera/")||tt(e,"opr/")||tt(e,"opios/")?"Opera":tt(e,"iemobile")?"IEMobile":tt(e,"msie")||tt(e,"trident/")?"IE":tt(e,"edge/")?"Edge":tt(e,"firefox/")?lr:tt(e,"silk/")?"Silk":tt(e,"blackberry")?"Blackberry":tt(e,"webos")?"Webos":!tt(e,"safari/")||tt(e,"chrome/")||tt(e,"crios/")||tt(e,"android")?!tt(e,"chrome/")&&!tt(e,"crios/")||tt(e,"edge/")?tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ar:"Safari"}var cr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function hr(t,e){e=e||[];var n,r=[],i={};for(n in cr)i[cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=or())?r=ur(i=dr()):"Worker"===r&&(r=ur(i=dr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function dr(){return s.navigator&&s.navigator.userAgent||""}function pr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function fr(){try{var t=s.localStorage,e=Cr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Gn()||!!s.indexedDB}catch(n){return ir()&&!!s.indexedDB}return!1}function gr(){return(mr()||"chrome-extension:"===vr()||nr())&&!sr()&&fr()&&!ir()}function mr(){return"http:"===vr()||"https:"===vr()}function vr(){return s.location&&s.location.protocol||null}function yr(t){return!Xn(t=t||dr())&&ur(t)!=lr}function br(t){return void 0===t?null:jn(t)}function _r(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function wr(t){if(null!==t)return JSON.parse(t)}function Cr(t){return t||Math.floor(1e9*Math.random()).toString()}function Er(t){return"Safari"!=ur(t=t||dr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Sr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ir(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=dr(),e=or(),this.b=Xn(t)||"ReactNative"===e}function Tr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function xr(){return!(!pr("fireauth.oauthhelper",s)&&!pr("fireauth.iframe",s))}Ir.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!mr()&&"chrome-extension:"!==vr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ar,Pr={};function Dr(t){Pr[t]||(Pr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Or={};Object.defineProperty(Or,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Or,"abcd",{configurable:!0,enumerable:!0,value:2}),Ar=2==Or.abcd}catch(Kt){Ar=!1}function Nr(t,e,n){Ar?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Rr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Nr(t,n,e[n])}function Mr(t){var e={};return Rr(e,t),e}function Lr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Nr(e,n,Lr(t[n]));return e}function Fr(t){var e={},n=t[Ur],r=t[qr];if(!(t=t[Br])||t!=Vr&&!n)throw Error("Invalid provider user info!");e[zr]=r||null,e[jr]=n||null,Nr(this,Wr,t),Nr(this,Hr,Lr(e))}var Vr="EMAIL_SIGNIN",Ur="email",qr="newEmail",Br="requestType",jr="email",zr="fromEmail",Hr="data",Wr="operation";function Kr(t,e){this.code=Qr+t,this.message=e||Yr[t]||""}function Gr(t){var e=t&&t.code;return e?new Kr(e.substring(Qr.length),t.message):null}I(Kr,Error),Kr.prototype.w=function(){return{code:this.code,message:this.message}},Kr.prototype.toJSON=function(){return this.w()};var Qr="auth/",Yr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Xr(t){var e=t[ei];if(void 0===e)throw new Kr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Kr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Zr];if(n&&"object"==typeof n){e=n[ii];var r=n[ni];if(n=n[ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Kr("argument-error",ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Kr("argument-error",ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Kr("argument-error",ii+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Kr("missing-android-pkg-name")}}else if(void 0!==n)throw new Kr("argument-error",Zr+" property must be a non null object when specified.");if(this.f=null,(e=t[ti])&&"object"==typeof e){if("string"==typeof(e=e[oi])&&e.length)this.f=e;else if(void 0!==e)throw new Kr("argument-error",oi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Kr("argument-error",ti+" property must be a non null object when specified.");if(void 0!==(e=t[Jr])&&"boolean"!=typeof e)throw new Kr("argument-error",Jr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[$r])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Kr("argument-error",$r+" property must be a non empty string when specified.");this.i=t||null}var Zr="android",$r="dynamicLinkDomain",Jr="handleCodeInApp",ti="iOS",ei="url",ni="installApp",ri="minimumVersion",ii="packageName",oi="bundleId";function si(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var li=null,ai=null;function ui(t){this.c=t.sub,S(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ci(t){return(t=hi(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ui(t):null}function hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ai[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!li){li={},ai={};for(var t=0;65>t;t++)li[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ai[li[t]]=t,62<=t&&(ai["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),l=n(64);if(64===l&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=l&&e(s<<6&192|l))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}ui.prototype.f=function(){return this.b};var di,pi={Yc:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function fi(t){for(var e in pi)if(pi[e].id===t)return{firebaseEndpoint:(t=pi[e]).ab,secureTokenEndpoint:t.ib};return null}di=fi("__EID__")?"__EID__":void 0;var gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),mi=["client_id","response_type","scope","redirect_uri","state"],vi={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",hb:mi},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",hb:mi},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",hb:mi},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",hb:gi}};function yi(t){for(var e in vi)if(vi[e].Pa==t)return vi[e];return null}function bi(t){var e={};e["facebook.com"]=Si,e["google.com"]=Ti,e["github.com"]=Ii,e["twitter.com"]=ki;var n=t&&t[wi];try{if(n)return e[n]?new e[n](t):new Ei(t);if(void 0!==t[_i])return new Ci(t)}catch(r){}return null}var _i="idToken",wi="providerId";function Ci(t){var e=t[wi];if(!e&&t[_i]){var n=ci(t[_i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Nr(this,"providerId",e),Nr(this,"isNewUser",n)}function Ei(t){Ci.call(this,t),Nr(this,"profile",Lr((t=wr(t.rawUserInfo||"{}"))||{}))}function Si(t){if(Ei.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ii(t){if(Ei.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Nr(this,"username",this.profile&&this.profile.login||null)}function Ti(t){if(Ei.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ki(t){if(Ei.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Nr(this,"username",t.screenName||null)}function xi(t){this.a=Je(t)}function Ai(t){var e=Je(t),n=$e(e,"link"),r=$e(Je(n),"link");return e=$e(e,"deep_link_id"),$e(Je(e),"link")||e||r||n||t}function Pi(){}function Di(t,e){return t.then((function(t){if(t[vs]){var n=ci(t[vs]);if(!n||e!=n.c)throw new Kr("user-mismatch");return t}throw new Kr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Qr+"user-not-found"?new Kr("user-mismatch"):t}))}function Oi(t,e){if(!e)throw new Kr("internal-error","failed to construct a credential");this.a=e,Nr(this,"providerId",t),Nr(this,"signInMethod",t)}function Ni(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ri(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Oi(t.providerId,t.pendingToken)}catch(e){}return null}function Mi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Nr(this,"idToken",e.idToken),e.accessToken&&Nr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Nr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Kr("internal-error","failed to construct a credential");Nr(this,"accessToken",e.oauthToken),Nr(this,"secret",e.oauthTokenSecret)}Nr(this,"providerId",t),Nr(this,"signInMethod",n)}function Li(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:dn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Fi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Mi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Vi(t,e){this.Dc=e||[],Rr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(yi(t)||{}).Oa||null,this.$a=null}function Ui(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Kr("argument-error",'SAML provider IDs must be prefixed with "saml."');Vi.call(this,t,[])}function qi(t){Vi.call(this,t,mi),this.a=[]}function Bi(){qi.call(this,"facebook.com")}function ji(t){if(!t)throw new Kr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Bi).credential({accessToken:e})}function zi(){qi.call(this,"github.com")}function Hi(t){if(!t)throw new Kr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new zi).credential({accessToken:e})}function Wi(){qi.call(this,"google.com"),this.ua("profile")}function Ki(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Wi).credential({idToken:n,accessToken:e})}function Gi(){Vi.call(this,"twitter.com",gi)}function Qi(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Kr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mi("twitter.com",n,"twitter.com")}function Yi(t,e,n){this.a=t,this.c=e,Nr(this,"providerId","password"),Nr(this,"signInMethod",n===Zi.EMAIL_LINK_SIGN_IN_METHOD?Zi.EMAIL_LINK_SIGN_IN_METHOD:Zi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Xi(t){return t&&t.email&&t.password?new Yi(t.email,t.password,t.signInMethod):null}function Zi(){Rr(this,{providerId:"password",isOAuthProvider:!1})}function $i(t,e){if(!(e=Ji(e)))throw new Kr("argument-error","Invalid email link!");return new Yi(t,e,Zi.EMAIL_LINK_SIGN_IN_METHOD)}function Ji(t){var e=$e((t=new xi(t=Ai(t))).a,"oobCode")||null;return"signIn"===($e(t.a,"mode")||null)&&e?e:null}function to(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new Kr("internal-error");this.a=t,Nr(this,"providerId","phone"),Nr(this,"signInMethod","phone")}function eo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new to(e)}return null}function no(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function ro(t){try{this.a=t||sa.a.auth()}catch(e){throw new Kr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Rr(this,{providerId:"phone",isOAuthProvider:!1})}function io(t,e){if(!t)throw new Kr("missing-verification-id");if(!e)throw new Kr("missing-verification-code");return new to({Ta:t,Sa:e})}function oo(t){if(t.temporaryProof&&t.phoneNumber)return new to({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Ki(o,n);case"facebook.com":return ji(n);case"github.com":return Hi(n);case"twitter.com":return Qi(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new Oi(e,s):new Mi(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new qi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(l){return null}}function so(t){if(!t.isOAuthProvider)throw new Kr("invalid-oauth-provider")}function lo(t,e,n,r,i,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Kr("invalid-auth-event");if(this.g&&this.a)throw new Kr("invalid-auth-event");if(this.g&&!this.f)throw new Kr("invalid-auth-event")}function ao(t){return(t=t||{}).type?new lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Gr(t.error),t.postBody):null}function uo(){this.b=null,this.a=[]}I(Ei,Ci),I(Si,Ei),I(Ii,Ei),I(Ti,Ei),I(ki,Ei),Oi.prototype.la=function(t){return Ms(t,Ni(this))},Oi.prototype.b=function(t,e){var n=Ni(this);return n.idToken=e,Ls(t,n)},Oi.prototype.f=function(t,e){return Di(Fs(t,Ni(this)),e)},Oi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Mi.prototype.la=function(t){return Ms(t,Li(this))},Mi.prototype.b=function(t,e){var n=Li(this);return n.idToken=e,Ls(t,n)},Mi.prototype.f=function(t,e){return Di(Fs(t,Li(this)),e)},Mi.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Vi.prototype.Da=function(t){return this.zb=lt(t),this},I(Ui,Vi),I(qi,Vi),qi.prototype.ua=function(t){return q(this.a,t)||this.a.push(t),this},qi.prototype.Fb=function(){return H(this.a)},qi.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Kr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mi(this.providerId,n,this.providerId)},I(Bi,qi),Nr(Bi,"PROVIDER_ID","facebook.com"),Nr(Bi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(zi,qi),Nr(zi,"PROVIDER_ID","github.com"),Nr(zi,"GITHUB_SIGN_IN_METHOD","github.com"),I(Wi,qi),Nr(Wi,"PROVIDER_ID","google.com"),Nr(Wi,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Gi,Vi),Nr(Gi,"PROVIDER_ID","twitter.com"),Nr(Gi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Yi.prototype.la=function(t){return this.signInMethod==Zi.EMAIL_LINK_SIGN_IN_METHOD?dl(t,Ws,{email:this.a,oobCode:this.c}):dl(t,al,{email:this.a,password:this.c})},Yi.prototype.b=function(t,e){return this.signInMethod==Zi.EMAIL_LINK_SIGN_IN_METHOD?dl(t,Ks,{idToken:e,email:this.a,oobCode:this.c}):dl(t,nl,{idToken:e,email:this.a,password:this.c})},Yi.prototype.f=function(t,e){return Di(this.la(t),e)},Yi.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Rr(Zi,{PROVIDER_ID:"password"}),Rr(Zi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Rr(Zi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),to.prototype.la=function(t){return t.Ua(no(this))},to.prototype.b=function(t,e){var n=no(this);return n.idToken=e,dl(t,cl,n)},to.prototype.f=function(t,e){var n=no(this);return n.operation="REAUTH",Di(t=dl(t,hl,n),e)},to.prototype.w=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},ro.prototype.Ua=function(t,e){var n=this.a.c;return Tt(e.verify()).then((function(r){if(!l(r))throw new Kr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return dl(t,tl,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Kr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Rr(ro,{PROVIDER_ID:"phone"}),Rr(ro,{PHONE_SIGN_IN_METHOD:"phone"}),lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var co,ho=null;function po(t){var e="unauthorized-domain",n=void 0,r=Je(t);t=r.b,"chrome-extension"==(r=r.f)?n=dt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=dt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Kr.call(this,e,n)}function fo(t,e,n){Kr.call(this,t,n),(t=e||{}).Ab&&Nr(this,"email",t.Ab),t.$&&Nr(this,"phoneNumber",t.$),t.credential&&Nr(this,"credential",t.credential)}function go(t){if(t.code){var e=t.code||"";0==e.indexOf(Qr)&&(e=e.substring(Qr.length));var n={credential:oo(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Kr(e,t.message||void 0);return new fo(e,n,t.message)}return null}function mo(){}function vo(){}function yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function bo(){}function _o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.dc,this),this.a.onerror=C(this.Gb,this),this.a.onprogress=C(this.ec,this),this.a.ontimeout=C(this.ic,this)}function wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Co(t,e,n){this.reset(t,e,n,void 0,void 0)}function Eo(t){this.f=t,this.b=this.c=this.a=null}function So(t,e){this.name=t,this.value=e}uo.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=pr("universalLinks.subscribe",s))&&t(null,this.b))},uo.prototype.unsubscribe=function(t){j(this.a,(function(e){return e==t}))},I(po,Kr),I(fo,Kr),fo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&ht(t,e),t},fo.prototype.toJSON=function(){return this.w()},mo.prototype.c=null,I(vo,mo),vo.prototype.a=function(){var t=yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},vo.prototype.b=function(){var t={};return yo(this)&&(t[0]=!0,t[1]=!0),t},co=new vo,I(bo,mo),bo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new _o;throw Error("Unsupported browser")},bo.prototype.b=function(){return{}},(t=_o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.response=this.responseText=this.a.responseText,wo(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",wo(this,4)},t.ic=function(){this.Gb()},t.ec=function(){this.status=200,wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Co.prototype.a=null,Co.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},So.prototype.toString=function(){return this.name};var Io=new So("SEVERE",1e3),To=new So("WARNING",900),ko=new So("CONFIG",700),xo=new So("FINE",500);Eo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new Co(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ao={},Po=null;function Do(t){var e;if(Po||(Po=new Eo(""),Ao[""]=Po,Po.c=ko),!(e=Ao[t])){e=new Eo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Do(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Ao[t]=e}return e}function Oo(t,e){t&&t.log(xo,e,void 0)}function No(t){this.f=t}function Ro(t){Me.call(this),this.u=t,this.readyState=Mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=Do("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(No,mo),No.prototype.a=function(){return new Ro(this.f)},No.prototype.b=function(t){return function(){return t}}({}),I(Ro,Me);var Mo=0;function Lo(t){t.c.read().then(t.cc.bind(t)).catch(t.Ma.bind(t))}function Fo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Vo(t)}function Vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Uo(t){Me.call(this),this.headers=new ze,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=qo,this.v=this.O=!1}(t=Ro.prototype).open=function(t,e){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.o=t,this.g=e,this.readyState=1,Vo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.o,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.hc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Fo(this,!1)),this.readyState=Mo},t.hc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Vo(this)),this.a&&(this.readyState=3,Vo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.fc.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Lo(this)):t.text().then(this.gc.bind(this),this.Ma.bind(this)))))},t.cc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Fo(this,!0):Vo(this),3==this.readyState&&Lo(this)}},t.gc=function(t){this.a&&(this.response=this.responseText=t,Fo(this,!0))},t.fc=function(t){this.a&&(this.response=t,Fo(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(To,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Fo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(To,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(To,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},I(Uo,Me);var qo="";Uo.prototype.b=Do("goog.net.XhrIo");var Bo=/^https?$/i,jo=["POST","PUT"];function zo(t){return"content-type"==t.toLowerCase()}function Ho(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Wo(t),Go(t)}function Wo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ko(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Yo(t)&&2==Xo(t))Oo(t.b,Zo(t,"Local request error detected and ignored"));else if(t.i&&4==Yo(t))Ue(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Yo(t)){Oo(t.b,Zo(t,"Request complete")),t.c=!1;try{var e,n=Xo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.l).match(Ke)[1]||null;if(!l&&s.self&&s.self.location){var a=s.self.location.protocol;l=a.substr(0,a.length-1)}i=!Bo.test(l?l.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Yo(t)?t.a.statusText:""}catch(c){Oo(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+Xo(t)+"]",Wo(t)}}finally{Go(t)}}}function Go(t,e){if(t.a){Qo(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Io,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Qo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(s.clearTimeout(t.u),t.u=null)}function Yo(t){return t.a?t.a.readyState:0}function Xo(t){try{return 2<Yo(t)?t.a.status:-1}catch(e){return-1}}function Zo(t,e){return e+" ["+t.N+" "+t.l+" "+Xo(t)+"]"}function $o(t){var e=us;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function Jo(t,e,n){t.a=!0,t.c=n,t.f=!e,rs(t)}function ts(t){if(t.a){if(!t.l)throw new is(t);t.l=!1}}function es(t,e,n,r){t.g.push([e,n,r]),t.a&&rs(t)}function ns(t){return U(t.g,(function(t){return m(t[1])}))}function rs(t){if(t.h&&t.a&&ns(t)){var e=t.h,n=ls[e];n&&(s.clearTimeout(n.a),delete ls[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],l=i[1];if(i=i[2],o=t.f?l:o)try{var a=o.call(i||t.u,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(T(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,ns(t)||(n=!0)}}t.c=e,r&&(a=C(t.o,t,!0),r=C(t.o,t,!1),e instanceof $o?(es(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new ss(e),ls[e.a]=e,t.h=e.a)}function is(){k.call(this)}function os(){k.call(this)}function ss(t){this.a=s.setTimeout(C(this.c,this),0),this.b=t}(t=Uo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Oo(this.b,Zo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Oo(this.b,Zo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Go(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Go(this,!0)),Uo.qb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Ko(this):this.wc())},t.wc=function(){Ko(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case qo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Io,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Oo(this.b,"Can not get response: "+e.message),null}},$o.prototype.cancel=function(t){if(this.a)this.c instanceof $o&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new os(this),ts(this),Jo(this,!1,t))}},$o.prototype.o=function(t,e){this.i=!1,Jo(this,t,e)},$o.prototype.then=function(t,e,n){var r,i,o=new bt((function(t,e){r=t,i=e}));return es(this,r,(function(t){t instanceof os?o.cancel():i(t)})),o.then(t,e,n)},$o.prototype.$goog_Thenable=!0,I(is,k),is.prototype.message="Deferred has already fired",is.prototype.name="AlreadyCalledError",I(os,k),os.prototype.message="Deferred was canceled",os.prototype.name="CanceledError",ss.prototype.c=function(){throw delete ls[this.a],this.b};var ls={};function as(t){var e={},n=e.document||document,r=Sn(t).toString(),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},l=new $o(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){cs(i,!0);var t=new ps(ds,"Timeout reached for loading script "+r);ts(l),Jo(l,!1,t)}),h),o.Ga=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(cs(i,e.dd||!1,a),ts(l),Jo(l,!0,null))},i.onerror=function(){cs(i,!0,a);var t=new ps(hs,"Error while loading script "+r);ts(l),Jo(l,!1,t)},ht(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Un(i,o),function(t,e){t.src=Sn(e),null===c&&(c=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),l}function us(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&cs(t,!0,this.Ga)}}function cs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var hs=0,ds=1;function ps(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function fs(t){this.f=t}function gs(t,e,n){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ys,this.f=lt(t.secureTokenHeaders||bs),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||_s,this.a=lt(t.firebaseHeaders||ws),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==or(),!(n=s.XMLHttpRequest||n&&sa.a.INTERNAL.node&&sa.a.INTERNAL.node.XMLHttpRequest)&&!ir())throw new Kr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=ir()?new No(self):sr()?new fs(n):new bo}I(ps,k),I(fs,mo),fs.prototype.a=function(){return new this.f},fs.prototype.b=function(){return{}};var ms,vs="idToken",ys=new Ir(3e4,6e4),bs={"Content-Type":"application/x-www-form-urlencoded"},_s=new Ir(3e4,6e4),ws={"Content-Type":"application/json"};function Cs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Es(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ss(t,e,n,r,i,o,l){(function(){var t=dr();return!((t=ur(t)!=ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&re&&!(9<re))})()||ir()?t=C(t.o,t):(ms||(ms=new bt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Ts]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){es(t,null,e,void 0)}(as(In(Is,{onload:Ts})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=C(t.l,t)),t(e,n,r,i,o,l)}gs.prototype.o=function(t,e,n,r,i,o){if(ir()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Kr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Uo(this.c);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Le(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Oo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Fe(a,"ready",(function(){u&&clearTimeout(u),zt(this)})),Fe(a,"timeout",(function(){u&&clearTimeout(u),zt(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():co.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:co),t.a.onreadystatechange=C(t.Jb,t);try{Oo(t.b,Zo(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(a){return Oo(t.b,Zo(t,"Error opening Xhr: "+a.message)),void Ho(t,a)}e=r||"";var o=new ze(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||l(t))F(t,e,void 0);else for(var n=je(t),r=Be(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=zo,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(o.U()),r=s.FormData&&e instanceof s.FormData,!q(jo,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Qo(t),0<t.g&&(t.v=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Oo(t.b,Zo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ga,t)):t.u=Ue(t.Ga,t.g,t)),Oo(t.b,Zo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){Oo(t.b,Zo(t,"Send error: "+a.message)),Ho(t,a)}}(a,t,n,r,i)};var Is=new bn(Cn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ts="__fcb"+Math.floor(1e6*Math.random()).toString();function ks(t){if(!l(t=t.email)||!tr.test(t))throw new Kr("invalid-email")}function xs(t){"email"in t&&ks(t)}function As(t){if(!t[vs])throw new Kr("internal-error")}function Ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Kr("internal-error")}else{if(!t.sessionInfo)throw new Kr("missing-verification-id");if(!t.code)throw new Kr("missing-verification-code")}}gs.prototype.l=function(t,e,n,r,i){var o=this;ms.then((function(){window.gapi.client.setApiKey(o.b);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},gs.prototype.ob=function(){return dl(this,rl,{})},gs.prototype.rb=function(t,e){return dl(this,el,{idToken:t,email:e})},gs.prototype.sb=function(t,e){return dl(this,nl,{idToken:t,password:e})};var Ds={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Os(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Kr("internal-error")}function Ns(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&fn(t=new cn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Rs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=go(t)):t.errorMessage&&(e=pl(t.errorMessage)),e)throw e;if(!t[vs])throw new Kr("internal-error")}function Ms(t,e){return e.returnIdpCredential=!0,dl(t,il,e)}function Ls(t,e){return e.returnIdpCredential=!0,dl(t,sl,e)}function Fs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,dl(t,ol,e)}function Vs(t){if(!t.oobCode)throw new Kr("invalid-action-code")}(t=gs.prototype).tb=function(t,e){var n={idToken:t},r=[];return ot(Ds,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),dl(this,el,n)},t.kb=function(t,e){return ht(t={requestType:"PASSWORD_RESET",email:t},e),dl(this,Xs,t)},t.lb=function(t,e){return ht(t={requestType:"EMAIL_SIGNIN",email:t},e),dl(this,Qs,t)},t.jb=function(t,e){return ht(t={requestType:"VERIFY_EMAIL",idToken:t},e),dl(this,Ys,t)},t.Ua=function(t){return dl(this,ul,t)},t.Za=function(t,e){return dl(this,Js,{oobCode:t,newPassword:e})},t.Ka=function(t){return dl(this,qs,{oobCode:t})},t.Wa=function(t){return dl(this,Us,{oobCode:t})};var Us={endpoint:"setAccountInfo",C:Vs,da:"email"},qs={endpoint:"resetPassword",C:Vs,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Kr("internal-error")}},Bs={endpoint:"signupNewUser",C:function(t){if(ks(t),!t.password)throw new Kr("weak-password")},J:As,R:!0},js={endpoint:"createAuthUri"},zs={endpoint:"deleteAccount",T:["idToken"]},Hs={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!f(t.deleteProvider))throw new Kr("internal-error")}},Ws={endpoint:"emailLinkSignin",T:["email","oobCode"],C:ks,J:As,R:!0},Ks={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:ks,J:As,R:!0},Gs={endpoint:"getAccountInfo"},Qs={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Kr("internal-error");ks(t)},da:"email"},Ys={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Kr("internal-error")},da:"email"},Xs={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Kr("internal-error");ks(t)},da:"email"},Zs={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},$s={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Kr("internal-error")}},Js={endpoint:"resetPassword",C:Vs,da:"email"},tl={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},el={endpoint:"setAccountInfo",T:["idToken"],C:xs,R:!0},nl={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(xs(t),!t.password)throw new Kr("weak-password")},J:As,R:!0},rl={endpoint:"signupNewUser",J:As,R:!0},il={endpoint:"verifyAssertion",C:Os,Qa:Ns,J:Rs,R:!0},ol={endpoint:"verifyAssertion",C:Os,Qa:Ns,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Kr("user-not-found");if(t.errorMessage)throw pl(t.errorMessage);if(!t[vs])throw new Kr("internal-error")},R:!0},sl={endpoint:"verifyAssertion",C:function(t){if(Os(t),!t.idToken)throw new Kr("internal-error")},Qa:Ns,J:Rs,R:!0},ll={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Kr("invalid-custom-token")},J:As,R:!0},al={endpoint:"verifyPassword",C:function(t){if(ks(t),!t.password)throw new Kr("wrong-password")},J:As,R:!0},ul={endpoint:"verifyPhoneNumber",C:Ps,J:As},cl={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Kr("internal-error");Ps(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",go(t);As(t)}},hl={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ps,J:As};function dl(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return kt(new Kr("internal-error"));var r,i=e.Ib||"POST";return Tt(n).then(e.C).then((function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var s=Je(t.g+e);Ze(s,"key",t.b),o&&Ze(s,"cb",S().toString());var l="GET"==n;if(l)for(var a in r)r.hasOwnProperty(a)&&Ze(s,a,r[a]);return new bt((function(e,o){Ss(t,s.toString(),(function(t){t?t.error?o(fl(t,i||{})):e(t):o(new Kr("network-request-failed"))}),n,l?void 0:jn(_r(r)),t.a,t.h.get())}))}(t,e.endpoint,i,n,e.Wb,e.wb||!1)})).then((function(t){return r=t,e.Qa?e.Qa(n,r):r})).then(e.J).then((function(){if(!e.da)return r;if(!(e.da in r))throw new Kr("internal-error");return r[e.da]}))}function pl(t){return fl({error:{errors:[{message:t}],code:400,message:t}})}function fl(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Kr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ht(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Kr(r[i],e);return!e&&t&&(e=br(t)),new Kr("internal-error",e)}function gl(t){this.b=t,this.a=null,this.fb=function(t){return(bl||(bl=new bt((function(t,e){function n(){Sr(),pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Sr(),e(Error("Network Error"))},timeout:vl.get()})}if(pr("gapi.iframes.Iframe"))t();else if(pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){pr("gapi.load")?n():e(Error("Network Error"))},Tt(as(r=In(ml,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw bl=null,t})))).then((function(){return new bt((function(e,n){pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),yl.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ml=new bn(Cn,"https://apis.google.com/js/api.js?onload=%{onload}"),vl=new Ir(3e4,6e4),yl=new Ir(5e3,15e3),bl=null;function _l(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=tn(this.i,"/__/auth/iframe"),Ze(this.a,"apiKey",this.g),Ze(this.a,"appName",this.h),this.b=null,this.c=[]}function wl(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Cl(t){try{return sa.a.app(t).auth().ya()}catch(e){return[]}}function El(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Sl(t){var e=Qn();return function(t){return dl(t,Zs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Je(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,l=r;if(0==o.indexOf("chrome-extension://")?s=Je(o).b==s&&"chrome-extension"==l:"http"!=l&&"https"!=l?s=!1:Jn.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new po(Qn())}))}function Il(t){return t.m?t.m:(t.m=er().then((function(){if(!t.u){var e=t.c,n=t.h,r=Cl(t.b),i=new _l(t.l,t.f,t.b);i.f=e,i.b=n,i.c=H(r||[]),t.u=i.toString()}t.i=new gl(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then((function(){t.a.register("authEvent",e,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ao(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Tt(n)}return n.status="ERROR",Tt(n)}))}(t)})),t.m)}function Tl(t){return t.o||(t.v=t.c?hr(t.c,Cl(t.b)):null,t.o=new gs(t.f,fi(t.h),t.v)),t.o}function kl(t,e,n,r,i,o,s,l,a,u){return(t=new wl(t,e,n,r,i)).i=o,t.g=s,t.h=l,t.b=lt(a||null),t.f=u,t.toString()}function xl(t){if(this.a=t||sa.a.INTERNAL.reactNative&&sa.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Kr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Al(t){this.b=t,this.a={},this.c=C(this.f,this)}_l.prototype.toString=function(){return this.f?Ze(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Ze(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Ze(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},wl.prototype.toString=function(){var t=tn(this.o,"/__/auth/handler");if(Ze(t,"apiKey",this.l),Ze(t,"appName",this.c),Ze(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=sa.a.app(this.c).auth().ea()}catch(l){n=null}for(var r in e.$a=n,Ze(t,"providerId",this.a.providerId),n=_r((e=this.a).zb))n[r]=n[r].toString();r=e.Dc,n=lt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),st(n)||Ze(t,"customParameters",br(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Ze(t,"scopes",e.join(",")),this.i?Ze(t,"redirectUrl",this.i):pn(t.a,"redirectUrl"),this.g?Ze(t,"eventId",this.g):pn(t.a,"eventId"),this.h?Ze(t,"v",this.h):pn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!$e(t,s)&&Ze(t,s,this.b[s]);return this.f?Ze(t,"eid",this.f):pn(t.a,"eid"),(s=Cl(this.c)).length&&Ze(t,"fw",s.join(",")),t.toString()},(t=El.prototype).Ea=function(t,e,n){var r=new Kr("popup-closed-by-user"),i=new Kr("web-storage-unsupported"),o=this,s=!1;return this.ga().then((function(){(function(t){var e={type:"webStorageSupport"};return Il(t).then((function(){return function(t,e){return t.fb.then((function(){return new bt((function(n){t.a.send(e.type,e,n,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&Zn(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new bt((function(e){return function n(){qe(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return qe(n).then((function(){e(r)}))}))},t.Mb=function(){var t=dr();return!yr(t)&&!Er(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,o,s){if(!t)return kt(new Kr("popup-blocked"));if(s&&!yr())return this.ga().s((function(e){Zn(t),i(e)})),r(),Tt();this.a||(this.a=Sl(Tl(this)));var l=this;return this.a.then((function(){var e=l.ga().s((function(e){throw Zn(t),i(e),e}));return r(),e})).then((function(){so(n),s||Yn(kl(l.l,l.f,l.b,e,n,null,o,l.c,void 0,l.h),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Ca=function(t,e,n){this.a||(this.a=Sl(Tl(this)));var r=this;return this.a.then((function(){so(e),Yn(kl(r.l,r.f,r.b,t,e,Qn(),n,r.c,void 0,r.h))})).s((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ga=function(){var t=this;return Il(this).then((function(){return t.i.fb})).s((function(){throw t.a=null,new Kr("network-request-failed")}))},t.Pb=function(){return!0},t.wa=function(t){this.g.push(t)},t.La=function(t){j(this.g,(function(e){return e==t}))},(t=xl.prototype).get=function(t){return Tt(this.a.getItem(t)).then((function(t){return t&&wr(t)}))},t.set=function(t,e){return Tt(this.a.setItem(t,br(e)))},t.P=function(t){return Tt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Pl,Dl=[];function Ol(t){this.a=t}function Nl(t){this.c=t,this.b=!1,this.a=[]}function Rl(t,e,n,r){var i,o,s,l,a=n||{},u=null;if(t.b)return kt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),l=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(l),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(l),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:a},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ml(t,u),e})).s((function(e){throw Ml(t,u),e}))}function Ml(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),j(t.a,(function(t){return t==e}))}}function Ll(){if(!Vl())throw new Kr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var t=this;ir()&&self?(this.m=function(){var t=ir()?self:null;if(F(Dl,(function(n){n.b==t&&(e=n)})),!e){var e=new Al(t);Dl.push(e)}return e}(),this.m.subscribe("keyChanged",(function(e,n){return zl(t).then((function(e){return 0<e.length&&F(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),this.m.subscribe("ping",(function(){return Tt(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Tt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Tt(null)}().then((function(e){(t.h=e)&&(t.g=new Nl(new Ol(e)),Rl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.u=!0)})).s((function(){})))}))}function Fl(t){return t.o||(t.o=function t(e){return new bt((function(n,r){var i=e.l.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new bt((function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.o}function Vl(){try{return!!s.indexedDB}catch(Kt){return!1}}function Ul(t){return t.objectStore("firebaseLocalStorage")}function ql(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Bl(t){return new bt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function jl(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Rl(t.g,"keyChanged",{key:e},t.u).then((function(){})).s((function(){})):Tt()}function zl(t){return Fl(t).then((function(t){var e=Ul(ql(t,!1));return e.getAll?Bl(e.getAll()):new bt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Hl(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Wl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Tt().then((function(){if(Vl()){var t=Cr(),r="__sak"+t;return Pl||(Pl=new Ll),(n=Pl).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.Y((function(t){F(e.a,(function(e){e(t)}))})),t}))}function Kl(){this.a={},this.type="inMemory"}function Gl(){if(!function(){var t="Node"==or();if(!(t=Ql()||t&&sa.a.INTERNAL.node&&sa.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==or())throw new Kr("internal-error","The LocalStorage compatibility library was not found.");throw new Kr("web-storage-unsupported")}this.a=Ql()||sa.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ql(){try{var t=s.localStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Yl(){this.type="nullStorage"}function Xl(){if(!function(){var t="Node"==or();if(!(t=Zl()||t&&sa.a.INTERNAL.node&&sa.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==or())throw new Kr("internal-error","The SessionStorage compatibility library was not found.");throw new Kr("web-storage-unsupported")}this.a=Zl()||sa.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zl(){try{var t=s.sessionStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $l(){var t={};t.Browser=ea,t.Node=na,t.ReactNative=ra,t.Worker=ia,this.a=t[or()]}Al.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,(function(e){i.push(Tt().then((function(){return e(t.origin,t.data.data)})))})),At(i).then((function(r){var i=[];F(r,(function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})})),F(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Al.prototype.subscribe=function(t,e){st(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Al.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(j(this.a[t],(function(t){return t==e})),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],st(this.a)&&this.b.removeEventListener("message",this.c)},Ol.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Nl.prototype.close=function(){for(;0<this.a.length;)Ml(this,this.a[0]);this.b=!0},(t=Ll.prototype).set=function(t,e){var n,r=!1,i=this;return Fl(this).then((function(e){return Bl((e=Ul(ql(n=e,!0))).get(t))})).then((function(o){var s=Ul(ql(n,!0));return o?(o.value=e,Bl(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Bl(s.add(o)))})).then((function(){return i.c[t]=e,jl(i,t)})).ia((function(){r&&i.b--}))},t.get=function(t){return Fl(this).then((function(e){return Bl(Ul(ql(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.P=function(t){var e=!1,n=this;return Fl(this).then((function(r){return e=!0,n.b++,Bl(Ul(ql(r,!0)).delete(t))})).then((function(){return delete n.c[t],jl(n,t)})).ia((function(){e&&n.b--}))},t.Y=function(t){0==this.a.length&&function(t){Hl(t),function e(){t.f=setTimeout((function(){t.i=zl(t).then((function(e){0<e.length&&F(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ca=function(t){j(this.a,(function(e){return e==t})),0==this.a.length&&Hl(this)},(t=Wl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.P=function(t){return this.b.then((function(e){return e.P(t)}))},t.Y=function(t){this.a.push(t)},t.ca=function(t){j(this.a,(function(e){return e==t}))},(t=Kl.prototype).get=function(t){return Tt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Tt()},t.P=function(t){return delete this.a[t],Tt()},t.Y=function(){},t.ca=function(){},(t=Gl.prototype).get=function(t){var e=this;return Tt().then((function(){return wr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Tt().then((function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)}))},t.P=function(t){var e=this;return Tt().then((function(){e.a.removeItem(t)}))},t.Y=function(t){s.window&&Ee(s.window,"storage",t)},t.ca=function(t){s.window&&Te(s.window,"storage",t)},(t=Yl.prototype).get=function(){return Tt(null)},t.set=function(){return Tt()},t.P=function(){return Tt()},t.Y=function(){},t.ca=function(){},(t=Xl.prototype).get=function(t){var e=this;return Tt().then((function(){return wr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Tt().then((function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)}))},t.P=function(t){var e=this;return Tt().then((function(){e.a.removeItem(t)}))},t.Y=function(){},t.ca=function(){};var Jl,ta,ea={B:Gl,Ra:Xl},na={B:Gl,Ra:Xl},ra={B:xl,Ra:Yl},ia={B:Gl,Ra:Yl},oa={Xc:"local",NONE:"none",Zc:"session"};function la(){var t=!(Er(dr())||!rr()),e=yr(),n=fr();this.o=t,this.h=e,this.m=n,this.a={},Jl||(Jl=new $l),t=Jl;try{this.g=!Gn()&&xr()||!s.indexedDB?new t.a.B:new Wl(ir()?new Kl:new t.a.B)}catch(r){this.g=new Kl,this.h=!0}try{this.i=new t.a.Ra}catch(r){this.i=new Kl}this.l=new Kl,this.f=C(this.Ob,this),this.b={}}function aa(){return ta||(ta=new la),ta}function ua(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function ca(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ha(t,e,n){return n=ca(e,n),"local"==e.B&&(t.b[n]=null),ua(t,e.B).P(n)}function da(t){t.c&&(clearInterval(t.c),t.c=null)}function pa(t){this.a=t,this.b=aa()}(t=la.prototype).get=function(t,e){return ua(this,t.B).get(ca(t,e))},t.set=function(t,e,n){var r=ca(t,n),i=this,o=ua(this,t.B);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.B&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ca(t,e),this.m&&(this.b[t]=s.localStorage.getItem(t)),st(this.a)&&(ua(this,"local").Y(this.f),this.h||(Gn()||!xr())&&s.indexedDB||!this.m||function(t){da(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new de({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Ob(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ca(t,e),this.a[t]&&(j(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),st(this.a)&&(ua(this,"local").ca(this.f),da(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Xa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ua(this,"local").ca(this.f):da(this),this.o)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.Xa(e))},Qt&&re&&10==re&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,C(this.Xa,this))},t.Xa=function(t){this.a[t]&&F(this.a[t],(function(t){t()}))};var fa,ga={name:"authEvent",B:"local"};function ma(){this.a=aa()}function va(t,e){this.b=ya,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=s.Int32Array?new Int32Array(64):Array(64),void 0!==fa||(fa=s.Int32Array?new Int32Array(Ia):Ia),this.reset()}I(va,(function(){this.b=-1}));for(var ya=64,ba=ya-1,_a=[],wa=0;wa<ba;wa++)_a[wa]=0;var Ca=z(128,_a);function Ea(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var l=0|t.a[2],a=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&l^i&l)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|fa[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=a+s|0,a=l,l=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+l|0,t.a[3]=t.a[3]+a|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Sa(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(l(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ea(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ea(t),i=0)}}t.c=i,t.g+=n}va.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):H(this.h)};var Ia=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ta(){va.call(this,8,ka)}I(Ta,va);var ka=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xa(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new ma,this.g=new pa(this.h),this.f=null,this.b=[],this.a=this.c=null}function Aa(t){return new Kr("invalid-cordova-configuration",t)}function Pa(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Da(t){return t.f||(t.f=t.ga().then((function(){return new bt((function(e){t.wa((function n(r){return e(r),t.La(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Oa(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Ai(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=wr($e(o=Je(i),"firebaseError")||null))?Gr(o):null)?new lo(r.c,r.b,null,null,o):new lo(r.c,r.b,i,r.f)),i=o||n}Pa(t,i)}))}var n=new lo("unknown",null,null,null,new Kr("no-auth-event")),r=!1,i=qe(500).then((function(){return Oa(t).then((function(){r||Pa(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(pr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},ho||(ho=new uo),ho.subscribe(e)}(t)}))}))),t.f}function Oa(t){var e=null;return function(t){return t.b.get(ga,t.a).then((function(t){return ao(t)}))}(t.g).then((function(n){return e=n,ha((n=t.g).b,ga,n.a)})).then((function(){return e}))}function Na(t){this.a=t,this.b=aa()}(t=xa.prototype).ga=function(){return this.za?this.za:this.za=(nr(void 0)?er().then((function(){return new bt((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):kt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof pr("universalLinks.subscribe",s))throw Aa("cordova-universal-links-plugin-fix is not installed");if(void 0===pr("BuildInfo.packageName",s))throw Aa("cordova-plugin-buildinfo is not installed");if("function"!=typeof pr("cordova.plugins.browsertab.openUrl",s))throw Aa("cordova-plugin-browsertab is not installed");if("function"!=typeof pr("cordova.InAppBrowser.open",s))throw Aa("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Kr("cordova-not-ready")}))},t.Ea=function(t,e){return e(new Kr("operation-not-supported-in-this-environment")),Tt()},t.Db=function(){return kt(new Kr("operation-not-supported-in-this-environment"))},t.Pb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,n){if(this.c)return kt(new Kr("redirect-operation-pending"));var r=this,i=s.document,o=null,l=null,a=null,u=null;return this.c=Tt().then((function(){return so(e),Da(r)})).then((function(){return function(t,e,n,r){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new lo(e,r,null,i,new Kr("no-auth-event")),l=pr("BuildInfo.packageName",s);if("string"!=typeof l)throw new Kr("invalid-cordova-configuration");var a=pr("BuildInfo.displayName",s),u={};if(dr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=l;else{if(!dr().toLowerCase().match(/android/))return kt(new Kr("operation-not-supported-in-this-environment"));u.apn=l}a&&(u.appDisplayName=a),i=function(t){var e=new Ta;Sa(e,t),t=[];var n=8*e.g;Sa(e,Ca,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ea(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(i),u.sessionId=i;var c=kl(t.l,t.i,t.m,e,n,null,r,t.o,u,t.u);return t.ga().then((function(){var e=t.h;return t.v.a.set(ga,o.w(),e)})).then((function(){var e=pr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new Kr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=pr("cordova.plugins.browsertab.openUrl",s)))throw new Kr("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=pr("cordova.InAppBrowser.open",s)))throw new Kr("invalid-cordova-configuration");e=dr(),t.a=n(c,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n)})).then((function(){return new bt((function(t,e){l=function(){var e=pr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(l),u=function(){Tr()&&a()},i.addEventListener("resume",a=function(){o||(o=qe(2e3).then((function(){e(new Kr("redirect-cancelled-by-user"))})))},!1),dr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)})).s((function(t){return Oa(r).then((function(){throw t}))}))})).ia((function(){a&&i.removeEventListener("resume",a,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),l&&r.La(l),r.c=null}))},t.wa=function(t){this.b.push(t),Da(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new lo("unknown",null,null,null,new Kr("no-auth-event")),t(e))}))},t.La=function(t){j(this.b,(function(e){return e==t}))};var Ra={name:"pendingRedirect",B:"session"};function Ma(t){return ha(t.b,Ra,t.a)}function La(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.o=n,this.h=[],this.f=!1,this.m=C(this.bb,this),this.b=new Ka,this.v=new Xa,this.g=new Na(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Fa(this.A,this.l,this.o,di)}function Fa(t,e,n,r){var i=sa.a.SDK_VERSION||null;return nr()?new xa(t,e,n,i,r):new El(t,e,n,i,r)}function Va(t){t.f||(t.f=!0,t.a.wa(t.m));var e=t.a;return t.a.ga().s((function(n){throw t.a==e&&t.reset(),n}))}function Ua(t){t.a.Mb()&&Va(t).s((function(e){var n=new lo("unknown",null,null,null,new Kr("operation-not-supported-in-this-environment"));za(e)&&t.bb(n)})),t.a.Hb()||Ga(t.b)}(t=La.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=Fa(this.A,this.l,this.o),this.i={}},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(q(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Ra,t.a).then((function(t){return"pending"==t}))})(this.g).then((function(t){t?Ma(e.g).then((function(){Va(e).s((function(t){var n=new lo("unknown",null,null,null,new Kr("operation-not-supported-in-this-environment"));za(t)&&e.bb(n)}))})):Ua(e)})).s((function(){Ua(e)}))}},t.unsubscribe=function(t){j(this.h,(function(e){return e==t}))},t.bb=function(t){if(!t)throw new Kr("invalid-auth-event");if(6e5<=S()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=S())),e=!0;break}}return Ga(this.b),e};var qa=new Ir(2e3,1e4),Ba=new Ir(3e4,6e4);function ja(t,e,n,r,i,o){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.wa(t.m))}),(function(){t.reset()}),i,o)}function za(t){return!(!t||"auth/cordova-not-ready"!=t.code)}La.prototype.fa=function(){return this.b.fa()},La.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Ra,"pending",t.a)}(this.g).then((function(){return i.a.Ca(t,e,n).s((function(t){if(za(t))throw new Kr("operation-not-supported-in-this-environment");return r=t,Ma(i.g).then((function(){throw r}))})).then((function(){return i.a.Pb()?new bt((function(){})):Ma(i.g).then((function(){return i.fa()})).then((function(){})).s((function(){}))}))}))},La.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,(function(n){t.ha(e,null,n,r)}),qa.get())};var Ha={};function Wa(t,e,n){var r=e+":"+n;return Ha[r]||(Ha[r]=new La(t,e,n)),Ha[r]}function Ka(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ga(t){t.g||(t.g=!0,Ya(t,!1,null,null))}function Qa(t,e){if(t.b=function(){return Tt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ya(t,e,n,r){e?r?function(t,e){if(t.b=function(){return kt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qa(t,n):Qa(t,{user:null}),t.f=[],t.c=[]}function Xa(){}function Za(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(t){this.ub=t},enumerable:!1})}function $a(t,e){this.a=e,Nr(this,"verificationId",t)}function Ja(t,e,n,r){return new ro(t).Ua(e,n).then((function(t){return new $a(t,r)}))}function tu(t){var e=hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Kr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Rr(this,{token:t,expirationTime:kr(1e3*e.exp),authTime:kr(1e3*e.auth_time),issuedAtTime:kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function eu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nu(t){this.f=t,this.b=this.a=null,this.c=0}function ru(t,e){var n=e[vs],r=e.refreshToken;e=iu(e.expiresIn),t.b=n,t.c=e,t.a=r}function iu(t){return S()+1e3*parseInt(t,10)}function ou(t,e){this.a=t||null,this.b=e||null,Rr(this,{lastSignInTime:kr(e||null),creationTime:kr(t||null)})}function su(t,e,n,r,i,o){Rr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function lu(t,e){for(var n in he.call(this,t),e)this[n]=e[n]}function au(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=sa.a.SDK_VERSION?hr(sa.a.SDK_VERSION):null,this.c=new gs(this.l,fi(di),t),this.h=new nu(this.c),gu(this,e[vs]),ru(this.h,e),Nr(this,"refreshToken",this.h.a),yu(this,n||{}),Me.call(this),this.I=!1,this.u&&gr()&&(this.a=Wa(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(t){return new eu((function(){return t.F(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-S()-3e5;return 0<e?e:0}))}(this),this.V=C(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){cu(r,t.c)},this.W=null}function uu(t,e){t.X&&Te(t.X,"languageCodeChanged",t.ta),(t.X=e)&&Ee(e,"languageCodeChanged",t.ta)}function cu(t,e){t.O=e,Es(t.c,sa.a.SDK_VERSION?hr(sa.a.SDK_VERSION,t.O):null)}function hu(t,e){t.W&&Te(t.W,"frameworkChanged",t.sa),(t.W=e)&&Ee(e,"frameworkChanged",t.sa)}function du(t){try{return sa.a.app(t.o).auth()}catch(e){throw new Kr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function pu(t){t.D||t.A.b||(t.A.start(),Te(t,"tokenChanged",t.V),Ee(t,"tokenChanged",t.V))}function fu(t){Te(t,"tokenChanged",t.V),t.A.stop()}function gu(t,e){t.ra=e,Nr(t,"_lat",e)}function mu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return At(e).then((function(){return t}))}function vu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function yu(t,e){Rr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new ou(e.createdAt,e.lastLoginAt),providerData:[]})}function bu(){}function _u(t){return Tt().then((function(){if(t.D)throw new Kr("app-deleted")}))}function wu(t){return V(t.providerData,(function(t){return t.providerId}))}function Cu(t,e){e&&(Eu(t,e.providerId),t.providerData.push(e))}function Eu(t,e){j(t.providerData,(function(t){return t.providerId==e}))}function Su(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Nr(t,e,n)}function Iu(t,e){t!=e&&(Rr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Nr(t,"metadata",e.metadata?function(t){return new ou(t.a,t.b)}(e.metadata):new ou),F(e.providerData,(function(e){Cu(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Nr(t,"refreshToken",t.h.a))}function Tu(t){return t.F().then((function(e){var n=t.isAnonymous;return function(t,e){return dl(t.c,Gs,{idToken:e}).then(C(t.xc,t))}(t,e).then((function(){return n||Su(t,"isAnonymous",!1),e}))}))}function ku(t,e){e[vs]&&t.ra!=e[vs]&&(ru(t.h,e),t.dispatchEvent(new lu("tokenChanged")),gu(t,e[vs]),Su(t,"refreshToken",t.h.a))}function xu(t,e){return Tu(t).then((function(){if(q(wu(t),e))return mu(t).then((function(){throw new Kr("provider-already-linked")}))}))}function Au(t,e,n){return Mr({user:t,credential:oo(e),additionalUserInfo:e=bi(e),operationType:n})}function Pu(t,e){return ku(t,e),t.reload().then((function(){return t}))}function Du(t,e,n,r,i){if(!gr())return kt(new Kr("operation-not-supported-in-this-environment"));if(t.i&&!i)return kt(t.i);var o=yi(n.providerId),s=Cr(t.uid+":::"),l=null;(!yr()||rr())&&t.u&&n.isOAuthProvider&&(l=kl(t.u,t.l,t.o,e,n,null,s,sa.a.SDK_VERSION||null));var a=$n(l,o&&o.Ba,o&&o.Aa);return r=r().then((function(){if(Nu(t),!i)return t.F().then((function(){}))})).then((function(){return ja(t.a,a,e,n,s,!!l)})).then((function(){return new bt((function(n,r){t.ha(e,null,new Kr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.b=t.a.Ea(t,e,a,s)}))})).then((function(t){return a&&Zn(a),t?Mr(t):null})).s((function(t){throw a&&Zn(a),t})),Ru(t,r,i)}function Ou(t,e,n,r,i){if(!gr())return kt(new Kr("operation-not-supported-in-this-environment"));if(t.i&&!i)return kt(t.i);var o=null,s=Cr(t.uid+":::");return r=r().then((function(){if(Nu(t),!i)return t.F().then((function(){}))})).then((function(){return t.aa=s,mu(t)})).then((function(e){return t.ba&&(e=(e=t.ba).b.set(Fu,t.w(),e.a)),e})).then((function(){return t.a.Ca(e,n,s)})).s((function(e){if(o=e,t.ba)return Vu(t.ba);throw o})).then((function(){if(o)throw o})),Ru(t,r,i)}function Nu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Kr("internal-error");throw new Kr("auth-domain-config-required")}}function Ru(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),kt(t.i)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new lu("userInvalidated")),t.i=e),e}))}(t,e,n);return t.G.push(r),r.ia((function(){B(t.G,r)})),r}function Mu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[vs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-S())/1e3;var r=new au(e,n,t);return t.providerData&&F(t.providerData,(function(t){t&&Cu(r,Mr(t))})),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Lu(t){this.a=t,this.b=aa()}Ka.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ka.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Ya(this,!0,null,t.a),Tt()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=!!e.c.match(/Redirect$/);n(r,i,o).then((function(e){Ya(t,s,e,null)})).s((function(e){Ya(t,s,null,e)}))}(this,t,e):kt(new Kr("invalid-auth-event")):(Ya(this,!1,null,null),Tt())}else kt(new Kr("invalid-auth-event"))},Ka.prototype.Ya=function(){this.g&&!this.i&&Ya(this,!1,null,null)},Ka.prototype.fa=function(){var t=this;return new bt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Kr("timeout");t.a&&t.a.cancel(),t.a=qe(Ba.get()).then((function(){t.b||(t.g=!0,Ya(t,!0,null,e))}))}(t))}))},Xa.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),Tt()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then((function(t){e.ha(r,t,null,n)})).s((function(t){e.ha(r,null,t,n)}))}(t,e):kt(new Kr("invalid-auth-event"))}else kt(new Kr("invalid-auth-event"))},$a.prototype.confirm=function(t){return t=io(this.verificationId,t),this.a(t)},eu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=qe(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Tr()||!t?Tt():new bt((function(n){e=function(){Tr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},eu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nu.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},nu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?kt(new Kr("user-token-expired")):t||!this.b||S()>this.c-3e4?this.a?function(t,e){return function(t,e){return new bt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ss(t,t.i+"?key="+encodeURIComponent(t.b),(function(t){t?t.error?r(fl(t)):t.access_token&&t.refresh_token?n(t):r(new Kr("internal-error")):r(new Kr("network-request-failed"))}),"POST",dn(e).toString(),t.f,t.m.get()):r(new Kr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=iu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ou.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(lu,he),I(au,Me),au.prototype.pa=function(t){this.ka=t,Cs(this.c,t)},au.prototype.ea=function(){return this.ka},au.prototype.ya=function(){return H(this.O)},au.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Nr(au.prototype,"providerId","firebase"),(t=au.prototype).reload=function(){var t=this;return Ru(this,_u(this).then((function(){return Tu(t).then((function(){return mu(t)})).then(bu)})))},t.bc=function(t){return this.F(t).then((function(t){return new tu(t)}))},t.F=function(t){var e=this;return Ru(this,_u(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new Kr("internal-error");return t.accessToken!=e.ra&&(gu(e,t.accessToken),e.dispatchEvent(new lu("tokenChanged"))),Su(e,"refreshToken",t.refreshToken),t.accessToken})))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Kr("internal-error");yu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new su(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Cu(this,e[n]);Su(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.yc=function(t){return Dr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Ru(this,t.f(this.c,this.uid).then((function(t){return ku(e,t),n=Au(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.pc=function(t){return Dr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Ru(this,xu(this,t.providerId).then((function(){return e.F()})).then((function(n){return t.b(e.c,n)})).then((function(t){return n=Au(e,t,"link"),Pu(e,t)})).then((function(){return n})))},t.qc=function(t,e){var n=this;return Ru(this,xu(this,"phone").then((function(){return Ja(du(n),t,e,C(n.eb,n))})))},t.zc=function(t,e){var n=this;return Ru(this,Tt().then((function(){return Ja(du(n),t,e,C(n.gb,n))})),!0)},t.rb=function(t){var e=this;return Ru(this,this.F().then((function(n){return e.c.rb(n,t)})).then((function(t){return ku(e,t),e.reload()})))},t.Pc=function(t){var e=this;return Ru(this,this.F().then((function(n){return t.b(e.c,n)})).then((function(t){return ku(e,t),e.reload()})))},t.sb=function(t){var e=this;return Ru(this,this.F().then((function(n){return e.c.sb(n,t)})).then((function(t){return ku(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return _u(this);var e=this;return Ru(this,this.F().then((function(n){return e.c.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ku(e,t),Su(e,"displayName",t.displayName||null),Su(e,"photoURL",t.photoUrl||null),F(e.providerData,(function(t){"password"===t.providerId&&(Nr(t,"displayName",e.displayName),Nr(t,"photoURL",e.photoURL))})),mu(e)})).then(bu))},t.Nc=function(t){var e=this;return Ru(this,Tu(this).then((function(n){return q(wu(e),t)?function(t,e,n){return dl(t,Hs,{idToken:e,deleteProvider:n})}(e.c,n,[t]).then((function(t){var n={};return F(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),F(wu(e),(function(t){n[t]||Eu(e,t)})),n[ro.PROVIDER_ID]||Nr(e,"phoneNumber",null),mu(e)})):mu(e).then((function(){throw new Kr("no-such-provider")}))})))},t.delete=function(){var t=this;return Ru(this,this.F().then((function(e){return dl(t.c,zs,{idToken:e})})).then((function(){t.dispatchEvent(new lu("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");uu(t,null),hu(t,null),t.G=[],t.D=!0,fu(t),Nr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?C(this.Cb,this):null},t.rc=function(t){var e=this;return Du(this,"linkViaPopup",t,(function(){return xu(e,t.providerId).then((function(){return mu(e)}))}),!1)},t.Ac=function(t){return Du(this,"reauthViaPopup",t,(function(){return Tt()}),!0)},t.sc=function(t){var e=this;return Ou(this,"linkViaRedirect",t,(function(){return xu(e,t.providerId)}),!1)},t.Bc=function(t){return Ou(this,"reauthViaRedirect",t,(function(){return Tt()}),!0)},t.Bb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Ru(this,this.F().then((function(i){return Ls(r.c,{requestUri:t,postBody:n,sessionId:e,idToken:i})})).then((function(t){return i=Au(r,t,"link"),Pu(r,t)})).then((function(){return i})))},t.Cb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Ru(this,Tt().then((function(){return Di(Fs(r.c,{requestUri:t,sessionId:e,postBody:n}),r.uid)})).then((function(t){return i=Au(r,t,"reauthenticate"),ku(r,t),r.i=null,r.reload()})).then((function(){return i})),!0)},t.jb=function(t){var e=this,n=null;return Ru(this,this.F().then((function(e){return n=e,void 0===t||st(t)?{}:si(new Xr(t))})).then((function(t){return e.c.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&ht(t,this.metadata.w()),F(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var Fu={name:"redirectUser",B:"session"};function Vu(t){return ha(t.b,Fu,t.a)}function Uu(t){this.a=t,this.b=aa(),this.c=null,this.f=function(t){var e=ju("local"),n=ju("session"),r=ju("none");return function(t,e,n){var r=ca(e,n),i=ua(t,e.B);return t.get(e,n).then((function(o){var l=null;try{l=wr(s.localStorage.getItem(r))}catch(a){}if(l&&!o)return s.localStorage.removeItem(r),t.set(e,l,n);l&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bu,t.a).then((function(t){return t?ju(t):e}))}))}))})).then((function(e){return t.c=e,qu(t,e.B)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ju("local"),this.a,C(this.g,this))}function qu(t,e){var n,r=[];for(n in oa)oa[n]!==e&&r.push(ha(t.b,ju(oa[n]),t.a));return r.push(ha(t.b,Bu,t.a)),function(t){return new bt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},l=0;l<t.length;l++)xt(t[l],E(o,l),s);else e(i)}))}(r)}Uu.prototype.g=function(){var t=this,e=ju("local");Ku(this,(function(){return Tt().then((function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null})).then((function(n){if(n)return qu(t,"local").then((function(){t.c=e}))}))}))};var Bu={name:"persistence",B:"session"};function ju(t){return{name:"authUser",B:t}}function zu(t,e){return Ku(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Hu(t){return Ku(t,(function(){return ha(t.b,t.c,t.a)}))}function Wu(t,e){return Ku(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Mu(t||{})}))}))}function Ku(t,e){return t.f=t.f.then(e,e),t.f}function Gu(t){if(this.l=!1,Nr(this,"settings",new Za),Nr(this,"app",t),!tc(this).options||!tc(this).options.apiKey)throw new Kr("invalid-api-key");t=sa.a.SDK_VERSION?hr(sa.a.SDK_VERSION):null,this.c=new gs(tc(this).options&&tc(this).options.apiKey,fi(di),t),this.N=[],this.o=[],this.I=[],this.Sb=sa.a.INTERNAL.createSubscribe(C(this.mc,this)),this.O=void 0,this.Tb=sa.a.INTERNAL.createSubscribe(C(this.nc,this)),$u(this,null),this.h=new Uu(tc(this).options.apiKey+":"+tc(this).name),this.A=new Lu(tc(this).options.apiKey+":"+tc(this).name),this.V=ic(this,function(t){var e=tc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fu,t.a).then((function(t){return t&&e&&(t.authDomain=e),Mu(t||{})}))}(t.A,tc(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ba=t.A),Vu(t.A)}));return ic(t,e)}(t).then((function(){return Wu(t.h,e)})).then((function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then((function(){return zu(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:Hu(t.h)}))):null})).then((function(e){$u(t,e||null)}));return ic(t,n)}(this)),this.i=ic(this,function(t){return t.V.then((function(){return t.fa()})).s((function(){})).then((function(){if(!t.l)return t.ka()})).s((function(){})).then((function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(ju("local"),e.a,t.ka)}}))}(this)),this.X=!1,this.ka=C(this.Kc,this),this.Ha=C(this.Z,this),this.ra=C(this.$b,this),this.sa=C(this.jc,this),this.ta=C(this.kc,this),function(t){var e=tc(t).options.authDomain,n=tc(t).options.apiKey;e&&gr()&&(t.Rb=t.V.then((function(){if(!t.l){if(t.a=Wa(e,n,tc(t).name),t.a.subscribe(t),ec(t)&&vu(ec(t)),t.D){vu(t.D);var r=t.D;r.pa(t.ea()),uu(r,t),cu(r=t.D,t.G),hu(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.tc,this),this.u=0,Me.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Qu(t){he.call(this,"languageCodeChanged"),this.g=t}function Yu(t){he.call(this,"frameworkChanged"),this.c=t}function Xu(t){return t.Rb||kt(new Kr("auth-domain-config-required"))}function Zu(t,e){var n={};return n.apiKey=tc(t).options.apiKey,n.authDomain=tc(t).options.authDomain,n.appName=tc(t).name,t.V.then((function(){return function(t,e,n,r){var i=new au(t,e);return n&&(i.ba=n),r&&cu(i,r),i.reload().then((function(){return i}))}(n,e,t.A,t.ya())})).then((function(e){return ec(t)&&e.uid==ec(t).uid?(Iu(ec(t),e),t.Z(e)):($u(t,e),vu(e),t.Z(e))})).then((function(){rc(t)}))}function $u(t,e){ec(t)&&(function(t,e){j(t.N,(function(t){return t==e}))}(ec(t),t.Ha),Te(ec(t),"tokenChanged",t.ra),Te(ec(t),"userDeleted",t.sa),Te(ec(t),"userInvalidated",t.ta),fu(ec(t))),e&&(e.N.push(t.Ha),Ee(e,"tokenChanged",t.ra),Ee(e,"userDeleted",t.sa),Ee(e,"userInvalidated",t.ta),0<t.u&&pu(e)),Nr(t,"currentUser",e),e&&(e.pa(t.ea()),uu(e,t),cu(e,t.G),hu(e,t))}function Ju(t,e){var n=null,r=null;return ic(t,e.then((function(e){return n=oo(e),r=bi(e),Zu(t,e)})).then((function(){return Mr({user:ec(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function tc(t){return t.app}function ec(t){return t.currentUser}function nc(t){return ec(t)&&ec(t)._lat||null}function rc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](nc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](nc(t))}}function ic(t,e){return t.N.push(e),e.ia((function(){B(t.N,e)})),e}function oc(){}function sc(){this.a={},this.b=1e12}Uu.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Kr("invalid-persistence-type"),n=new Kr("unsupported-persistence-type");t:{for(r in oa)if(oa[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(or()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!fr()&&"none"!==t)throw n}}(t),Ku(this,(function(){return t!=n.c.B?n.b.get(n.c,n.a).then((function(r){return e=r,qu(n,t)})).then((function(){if(n.c=ju(t),e)return n.b.set(n.c,e,n.a)})):Tt()}))},I(Gu,Me),I(Qu,he),I(Yu,he),(t=Gu.prototype).mb=function(t){return ic(this,t=this.h.mb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,Cs(this.c,this.W),this.dispatchEvent(new Qu(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var t=s.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Es(this.c,sa.a.SDK_VERSION?hr(sa.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Yu(this.G))},t.ya=function(){return H(this.G)},t.toJSON=function(){return{apiKey:tc(this).options.apiKey,authDomain:tc(this).options.authDomain,appName:tc(this).name,currentUser:ec(this)&&ec(this).w()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.Zb,this):null},t.Zb=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var i=null,o=null,s=Ms(r.c,t).then((function(t){return i=oo(t),o=bi(t),t}));return ic(this,t=r.V.then((function(){return s})).then((function(t){return Zu(r,t)})).then((function(){return Mr({user:ec(r),credential:i,additionalUserInfo:o,operationType:"signIn"})})))},t.Ic=function(t){if(!gr())return kt(new Kr("operation-not-supported-in-this-environment"));var e=this,n=yi(t.providerId),r=Cr(),i=null;(!yr()||rr())&&tc(this).options.authDomain&&t.isOAuthProvider&&(i=kl(tc(this).options.authDomain,tc(this).options.apiKey,tc(this).name,"signInViaPopup",t,null,r,sa.a.SDK_VERSION||null));var o=$n(i,n&&n.Ba,n&&n.Aa);return ic(this,n=Xu(this).then((function(e){return ja(e,o,"signInViaPopup",t,r,!!i)})).then((function(){return new bt((function(t,n){e.ha("signInViaPopup",null,new Kr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ea(e,"signInViaPopup",o,r)}))})).then((function(t){return o&&Zn(o),t?Mr(t):null})).s((function(t){throw o&&Zn(o),t})))},t.Jc=function(t){if(!gr())return kt(new Kr("operation-not-supported-in-this-environment"));var e=this;return ic(this,Xu(this).then((function(){return function(t){return Ku(t,(function(){return t.b.set(Bu,t.c.B,t.a)}))}(e.h)})).then((function(){return e.a.Ca("signInViaRedirect",t)})))},t.fa=function(){if(!gr())return kt(new Kr("operation-not-supported-in-this-environment"));var t=this;return ic(this,Xu(this).then((function(){return t.a.fa()})).then((function(t){return t?Mr(t):null})))},t.Oc=function(t){if(!t)return kt(new Kr("null-user"));var e=this,n={};n.apiKey=tc(this).options.apiKey,n.authDomain=tc(this).options.authDomain,n.appName=tc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[vs]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,e=new au(e,o),n&&(e.ba=n),r&&cu(e,r),Iu(e,t),e}(t,n,e.A,e.ya());return ic(this,this.i.then((function(){if(tc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ec(e)&&t.uid==ec(e).uid?(Iu(ec(e),t),e.Z(t)):($u(e,r),vu(r),e.Z(r))})).then((function(){rc(e)})))},t.pb=function(){var t=this;return ic(this,this.i.then((function(){return ec(t)?($u(t,null),Hu(t.h).then((function(){rc(t)}))):Tt()})))},t.Kc=function(){var t=this;return Wu(this.h,tc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ec(t)&&e){n=ec(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Iu(ec(t),e),ec(t).F();(ec(t)||e)&&($u(t,e),e&&(vu(e),e.ba=t.A),t.a&&t.a.subscribe(t),rc(t))}}))},t.Z=function(t){return zu(this.h,t)},t.$b=function(){rc(this),this.Z(ec(this))},t.jc=function(){this.pb()},t.kc=function(){this.pb()},t.mc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ec(e))}))},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),ic(t,t.i.then((function(){!t.l&&q(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(nc(t)))})))}(this,(function(){t.next(ec(e))}))},t.vc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then((function(){m(t)?t(ec(r)):m(t.next)&&t.next(ec(r))})),this.Sb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then((function(){r.O=r.getUid(),m(t)?t(ec(r)):m(t.next)&&t.next(ec(r))})),this.Tb(t,e,n)},t.ac=function(t){var e=this;return ic(this,this.i.then((function(){return ec(e)?ec(e).F(t).then((function(t){return{accessToken:t}})):null})))},t.Ec=function(t){var e=this;return this.i.then((function(){return Ju(e,dl(e.c,ll,{token:t}))})).then((function(t){var n=t.user;return Su(n,"isAnonymous",!1),e.Z(n),t}))},t.Fc=function(t,e){var n=this;return this.i.then((function(){return Ju(n,dl(n.c,al,{email:t,password:e}))}))},t.Vb=function(t,e){var n=this;return this.i.then((function(){return Ju(n,dl(n.c,Bs,{email:t,password:e}))}))},t.Nb=function(t){var e=this;return this.i.then((function(){return Ju(e,t.la(e.c))}))},t.nb=function(t){return Dr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Nb(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=ec(t);if(e&&e.isAnonymous){var n=Mr({providerId:null,isNewUser:!1});return Mr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ju(t,t.c.ob()).then((function(e){var n=e.user;return Su(n,"isAnonymous",!0),t.Z(n),e}))}))},t.getUid=function(){return ec(this)&&ec(this).uid||null},t.Ub=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ec(this)&&pu(ec(this))},t.Cc=function(t){var e=this;F(this.o,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ec(this)&&fu(ec(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),ic(this,this.i.then((function(){e.l||q(e.o,t)&&t(nc(e))})))},t.removeAuthTokenListener=function(t){j(this.o,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(ju("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),Promise.resolve()},t.Yb=function(t){return ic(this,function(t,e){return dl(t,js,{identifier:e,continueUri:mr()?Qn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.c,t))},t.oc=function(t){return!!Ji(t)},t.lb=function(t,e){var n=this;return ic(this,Tt().then((function(){var t=new Xr(e);if(!t.c)throw new Kr("argument-error",Jr+" must be true when sending sign in link to email");return si(t)})).then((function(e){return n.c.lb(t,e)})).then((function(){})))},t.Rc=function(t){return this.Ka(t).then((function(t){return t.data.email}))},t.Za=function(t,e){return ic(this,this.c.Za(t,e).then((function(){})))},t.Ka=function(t){return ic(this,this.c.Ka(t).then((function(t){return new Fr(t)})))},t.Wa=function(t){return ic(this,this.c.Wa(t).then((function(){})))},t.kb=function(t,e){var n=this;return ic(this,Tt().then((function(){return void 0===e||st(e)?{}:si(new Xr(e))})).then((function(e){return n.c.kb(t,e)})).then((function(){})))},t.Hc=function(t,e){return ic(this,Ja(this,t,e,C(this.nb,this)))},t.Gc=function(t,e){var n=this;return ic(this,Tt().then((function(){var r=$i(t,e||Qn());return n.nb(r)})))},oc.prototype.render=function(){},oc.prototype.reset=function(){},oc.prototype.getResponse=function(){},oc.prototype.execute=function(){};var lc=null;function ac(t,e){return(e=uc(e))&&t.a[e]||null}function uc(t){return(t=void 0===t?1e12:t)?t.toString():null}function cc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Vn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ee(this.f,"click",this.i)}function hc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dc(){}sc.prototype.render=function(t,e){return this.a[this.b.toString()]=new cc(t,e),this.b++},sc.prototype.reset=function(t){var e=ac(this,t);t=uc(t),e&&t&&(e.delete(),delete this.a[t])},sc.prototype.getResponse=function(t){return(t=ac(this,t))?t.getResponse():null},sc.prototype.execute=function(t){(t=ac(this,t))&&t.execute()},cc.prototype.getResponse=function(){return hc(this),this.b},cc.prototype.execute=function(){hc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},cc.prototype.delete=function(){hc(this),this.g=!0,clearTimeout(this.a),this.a=null,Te(this.f,"click",this.i)},dc.prototype.g=function(){return lc||(lc=new sc),Tt(lc)},dc.prototype.c=function(){};var pc=null;function fc(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var gc=new bn(Cn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mc=new Ir(3e4,6e4);fc.prototype.g=function(t){var e=this;return new bt((function(n,r){var i=setTimeout((function(){r(new Kr("network-request-failed"))}),mc.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Kr("internal-error"));delete s[e.a]},Tt(as(In(gc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Kr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},fc.prototype.c=function(){this.b--};var vc=null;function yc(t,e,n,r,i,o,l){if(Nr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,l?(pc||(pc=new dc),l=pc):(vc||(vc=new fc),l=vc),this.o=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[wc])throw new Kr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Cc],!s.document)throw new Kr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vn(e)||!this.i&&Vn(e).hasChildNodes())throw new Kr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new gs(t,o||null,i||null),this.v=r||function(){return null};var a=this;this.m=[];var u=this.a[bc];this.a[bc]=function(t){if(Ec(a,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=pr(u,s);"function"==typeof e&&e(t)}};var c=this.a[_c];this.a[_c]=function(){if(Ec(a,null),"function"==typeof c)c();else if("string"==typeof c){var t=pr(c,s);"function"==typeof t&&t()}}}var bc="callback",_c="expired-callback",wc="sitekey",Cc="size";function Ec(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(r){}}function Sc(t,e){return t.h.push(e),e.ia((function(){B(t.h,e)})),e}function Ic(t){if(t.D)throw new Kr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Tc(t,e,n){var r=!1;try{this.b=n||sa.a.app()}catch(s){throw new Kr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Kr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=sa.a.SDK_VERSION?hr(sa.a.SDK_VERSION,o):null,yc.call(this,n,t,e,(function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t}),o,fi(di),r)}function kc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Kr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=xc.length)throw new Kr("internal-error","Argument validator received an unsupported number of arguments.");n=xc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Kr("argument-error",t+" failed: "+r)}(t=yc.prototype).za=function(){var t=this;return this.f?this.f:this.f=Sc(this,Tt().then((function(){if(mr()&&!ir())return er();throw new Kr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.o.g(t.v())})).then((function(e){return t.g=e,dl(t.u,$s,{})})).then((function(e){t.a[wc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Ic(this);var t=this;return Sc(this,this.za().then((function(){if(null===t.c){var e=t.l;if(!t.i){var n=Vn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!yn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',pt(s.name),'"'),s.type){o.push(' type="',pt(s.type),'"');var a={};ht(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(l(s)?o.className=s:f(s)?o.className=s.join(" "):Un(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(l(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||v(o)&&0<o.nodeType?r(o):F(Bn(o)?H(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ic(this);var t=this;return Sc(this,this.render().then((function(e){return new bt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){j(t.m,(function(t){return t==e}))}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ic(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ic(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Vn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Tc,yc);var xc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ac(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:l}}function Pc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:a}}function Dc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Oc(t,e){return{name:t||"",K:"a function",optional:!!e,M:m}}function Nc(t,e){return{name:t||"",K:"null",optional:!!e,M:p}}function Rc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function Mc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&l(t.type)&&m(t.verify))}}}function Lc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Fc(t,e){for(var n in e){var r=e[n].name;t[r]=qc(r,t[n],e[n].j)}}function Vc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){kc(t,[n],[r],!0),this[e]=r}),r,n,e[n].vb),enumerable:!0})}}function Uc(t,e,n,r){t[e]=qc(e,n,r)}function qc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return kc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Fc(Gu.prototype,{Wa:{name:"applyActionCode",j:[Ac("code")]},Ka:{name:"checkActionCode",j:[Ac("code")]},Za:{name:"confirmPasswordReset",j:[Ac("code"),Ac("newPassword")]},Vb:{name:"createUserWithEmailAndPassword",j:[Ac("email"),Ac("password")]},Yb:{name:"fetchSignInMethodsForEmail",j:[Ac("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Ac("emailLink")]},uc:{name:"onAuthStateChanged",j:[Lc(Dc(),Oc(),"nextOrObserver"),Oc("opt_error",!0),Oc("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Lc(Dc(),Oc(),"nextOrObserver"),Oc("opt_error",!0),Oc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Ac("email"),Lc(Dc("opt_actionCodeSettings",!0),Nc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Ac("email"),Dc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Ac("persistence")]},nb:{name:"signInAndRetrieveDataWithCredential",j:[Rc()]},ob:{name:"signInAnonymously",j:[]},Nb:{name:"signInWithCredential",j:[Rc()]},Ec:{name:"signInWithCustomToken",j:[Ac("token")]},Fc:{name:"signInWithEmailAndPassword",j:[Ac("email"),Ac("password")]},Gc:{name:"signInWithEmailLink",j:[Ac("email"),Ac("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[Ac("phoneNumber"),Mc()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Lc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof au)}},Nc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ac(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[Ac("code")]}}),Vc(Gu.prototype,{lc:{name:"languageCode",vb:Lc(Ac(),Nc(),"languageCode")}}),(Gu.Persistence=oa).LOCAL="local",Gu.Persistence.SESSION="session",Gu.Persistence.NONE="none",Fc(au.prototype,{delete:{name:"delete",j:[]},bc:{name:"getIdTokenResult",j:[Pc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Pc("opt_forceRefresh",!0)]},pc:{name:"linkAndRetrieveDataWithCredential",j:[Rc()]},eb:{name:"linkWithCredential",j:[Rc()]},qc:{name:"linkWithPhoneNumber",j:[Ac("phoneNumber"),Mc()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Rc()]},gb:{name:"reauthenticateWithCredential",j:[Rc()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Ac("phoneNumber"),Mc()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Lc(Dc("opt_actionCodeSettings",!0),Nc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ac(null,!0)]},Nc:{name:"unlink",j:[Ac("provider")]},rb:{name:"updateEmail",j:[Ac("email")]},sb:{name:"updatePassword",j:[Ac("password")]},Pc:{name:"updatePhoneNumber",j:[Rc("phone")]},tb:{name:"updateProfile",j:[Dc("profile")]}}),Fc(sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fc(oc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fc(bt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Vc(Za.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:Pc("appVerificationDisabledForTesting")}}),Fc($a.prototype,{confirm:{name:"confirm",j:[Ac("verificationCode")]}}),Uc(Pi,"fromJSON",(function(t){t=l(t)?JSON.parse(t):t;for(var e,n=[Fi,Xi,eo,Ri],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Lc(Ac(),Dc(),"json")]),Uc(Zi,"credential",(function(t,e){return new Yi(t,e)}),[Ac("email"),Ac("password")]),Fc(Yi.prototype,{w:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(Bi.prototype,{ua:{name:"addScope",j:[Ac("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Uc(Bi,"credential",ji,[Lc(Ac(),Dc(),"token")]),Uc(Zi,"credentialWithLink",$i,[Ac("email"),Ac("emailLink")]),Fc(zi.prototype,{ua:{name:"addScope",j:[Ac("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Uc(zi,"credential",Hi,[Lc(Ac(),Dc(),"token")]),Fc(Wi.prototype,{ua:{name:"addScope",j:[Ac("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Uc(Wi,"credential",Ki,[Lc(Ac(),Lc(Dc(),Nc()),"idToken"),Lc(Ac(),Nc(),"accessToken",!0)]),Fc(Gi.prototype,{Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Uc(Gi,"credential",Qi,[Lc(Ac(),Dc(),"token"),Ac("secret",!0)]),Fc(qi.prototype,{ua:{name:"addScope",j:[Ac("scope")]},credential:{name:"credential",j:[Lc(Ac(),Lc(Dc(),Nc()),"optionsOrIdToken"),Lc(Ac(),Nc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Fc(Mi.prototype,{w:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(Oi.prototype,{w:{name:"toJSON",j:[Ac(null,!0)]}}),Uc(ro,"credential",io,[Ac("verificationId"),Ac("verificationCode")]),Fc(ro.prototype,{Ua:{name:"verifyPhoneNumber",j:[Ac("phoneNumber"),Mc()]}}),Fc(to.prototype,{w:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(Kr.prototype,{toJSON:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(fo.prototype,{toJSON:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(po.prototype,{toJSON:{name:"toJSON",j:[Ac(null,!0)]}}),Fc(Tc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===sa.a||!sa.a.INTERNAL||!sa.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Gu,AuthCredential:Pi,Error:Kr};Uc(t,"EmailAuthProvider",Zi,[]),Uc(t,"FacebookAuthProvider",Bi,[]),Uc(t,"GithubAuthProvider",zi,[]),Uc(t,"GoogleAuthProvider",Wi,[]),Uc(t,"TwitterAuthProvider",Gi,[]),Uc(t,"OAuthProvider",qi,[Ac("providerId")]),Uc(t,"SAMLAuthProvider",Ui,[Ac("providerId")]),Uc(t,"PhoneAuthProvider",ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Gu)}}]),Uc(t,"RecaptchaVerifier",Tc,[Lc(Ac(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof sa.a.app.App)}}]),sa.a.INTERNAL.registerService("auth",(function(t,e){return e({INTERNAL:{getUid:C((t=new Gu(t)).getUid,t),getToken:C(t.ac,t),addAuthTokenListener:C(t.Ub,t),removeAuthTokenListener:C(t.Cc,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(n){}})),sa.a.INTERNAL.extendNamespace({User:au})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});class ic{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oc(t,this.predicate,this.thisArg))}}class oc extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class sc{}const lc=new St("Location Initialized");class ac{}const uc=new St("appBaseHref");class cc{constructor(t,e){this._subject=new po,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=cc.stripTrailingSlash(hc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+cc.normalizeQueryParams(e))}normalize(t){return cc.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,hc(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cc.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cc.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function hc(t){return t.replace(/\/index.html$/,"")}class dc extends ac{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=cc.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+cc.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+cc.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class pc extends ac{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cc.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+cc.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+cc.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+cc.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const fc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),gc=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),mc=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),vc=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),yc=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function bc(t,e){return Ic(ao(t)[so.DateFormat],e)}function _c(t,e){return Ic(ao(t)[so.TimeFormat],e)}function wc(t,e){return Ic(ao(t)[so.DateTimeFormat],e)}function Cc(t,e){const n=ao(t),r=n[so.NumberSymbols][e];if(void 0===r){if(e===yc.CurrencyDecimal)return n[so.NumberSymbols][yc.Decimal];if(e===yc.CurrencyGroup)return n[so.NumberSymbols][yc.Group]}return r}const Ec=function(t){return ao(t)[so.PluralCase]};function Sc(t){if(!t[so.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[so.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ic(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Tc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const kc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xc={},Ac=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Pc=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Dc=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Oc=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Nc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Rc(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Mc(t,e,n=0,r=!1,i=!1){return function(o,s){let l=function(t,e){switch(t){case Dc.FullYear:return e.getFullYear();case Dc.Month:return e.getMonth();case Dc.Date:return e.getDate();case Dc.Hours:return e.getHours();case Dc.Minutes:return e.getMinutes();case Dc.Seconds:return e.getSeconds();case Dc.FractionalSeconds:return e.getMilliseconds();case Dc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||l>-n)&&(l+=n),t===Dc.Hours)0===l&&-12===n&&(l=12);else if(t===Dc.FractionalSeconds)return a=e,Rc(l,3).substr(0,a);var a;const u=Cc(s,yc.MinusSign);return Rc(l,e,u,r,i)}}function Lc(t,e,n=gc.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case Oc.Months:return function(t,e,n){const r=ao(t),i=Ic([r[so.MonthsFormat],r[so.MonthsStandalone]],e);return Ic(i,n)}(e,i,r)[t.getMonth()];case Oc.Days:return function(t,e,n){const r=ao(t),i=Ic([r[so.DaysFormat],r[so.DaysStandalone]],e);return Ic(i,n)}(e,i,r)[t.getDay()];case Oc.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(o){const t=function(t){const e=ao(t);return Sc(e),(e[so.ExtraData][2]||[]).map(t=>"string"==typeof t?Tc(t):[Tc(t[0]),Tc(t[1])])}(e),n=function(t,e,n){const r=ao(t);Sc(r);const i=Ic([r[so.ExtraData][0],r[so.ExtraData][1]],e)||[];return Ic(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:a,minutes:u}=t[1];s>=r&&l>=i&&(s<a||s===a&&l<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===l&&(o=n[e])}}),o)return o}return function(t,e,n){const r=ao(t),i=Ic([r[so.DayPeriodsFormat],r[so.DayPeriodsStandalone]],e);return Ic(i,n)}(e,i,r)[s<12?0:1];case Oc.Eras:return function(t,e){return Ic(ao(t)[so.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Fc(t){return function(e,n,r){const i=-1*r,o=Cc(n,yc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Pc.Short:return(i>=0?"+":"")+Rc(s,2,o)+Rc(Math.abs(i%60),2,o);case Pc.ShortGMT:return"GMT"+(i>=0?"+":"")+Rc(s,1,o);case Pc.Long:return"GMT"+(i>=0?"+":"")+Rc(s,2,o)+":"+Rc(Math.abs(i%60),2,o);case Pc.Extended:return 0===r?"Z":(i>=0?"+":"")+Rc(s,2,o)+":"+Rc(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Vc=0,Uc=4;function qc(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,Vc,1).getDay();return new Date(t,0,1+(e<=Uc?Uc:Uc+7)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(Uc-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Rc(i,t,Cc(r,yc.MinusSign))}}const Bc={};function jc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function zc(t){return t instanceof Date&&!isNaN(t.valueOf())}const Hc=new St("UseV4Plurals");class Wc{}class Kc extends Wc{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):Ec(e||this.locale)(t)){case fc.Zero:return"zero";case fc.One:return"one";case fc.Two:return"two";case fc.Few:return"few";case fc.Many:return"many";default:return"other"}}}function Gc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Qc{}class Yc{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Tn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${gt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let Xc=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Zc extends Xc{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class $c{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Jc{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ne()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new $c(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new th(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new th(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class th{constructor(t,e){this.record=t,this.view=e}}class eh{constructor(t,e){this._viewContainer=t,this._context=new nh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class nh{constructor(){this.$implicit=null,this.ngIf=null}}function rh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}class ih{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class oh{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class sh{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ih(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class lh{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,r){let i=function(t){if(zc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(kc))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,l=Number(t[5]||0)-r,a=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,l,a,u),e}(n)}const e=new Date(t);if(!zc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return ao(t)[so.LocaleId]}(e);if(xc[r]=xc[r]||{},xc[r][n])return xc[r][n];let i="";switch(n){case"shortDate":i=bc(e,vc.Short);break;case"mediumDate":i=bc(e,vc.Medium);break;case"longDate":i=bc(e,vc.Long);break;case"fullDate":i=bc(e,vc.Full);break;case"shortTime":i=_c(e,vc.Short);break;case"mediumTime":i=_c(e,vc.Medium);break;case"longTime":i=_c(e,vc.Long);break;case"fullTime":i=_c(e,vc.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=Nc(wc(e,vc.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=Nc(wc(e,vc.Medium),[o,s]);break;case"long":const l=t(e,"longTime"),a=t(e,"longDate");i=Nc(wc(e,vc.Long),[l,a]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");i=Nc(wc(e,vc.Full),[u,c])}return i&&(xc[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(!(o=Ac.exec(e))){s.push(e);break}{const t=(s=s.concat(o.slice(1))).pop();if(!t)break;e=t}}let l=i.getTimezoneOffset();r&&(l=jc(r,l),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(jc(e,r)-r))}(i,r));let a="";return s.forEach(t=>{const e=function(t){if(Bc[t])return Bc[t];let e;switch(t){case"G":case"GG":case"GGG":e=Lc(Oc.Eras,mc.Abbreviated);break;case"GGGG":e=Lc(Oc.Eras,mc.Wide);break;case"GGGGG":e=Lc(Oc.Eras,mc.Narrow);break;case"y":e=Mc(Dc.FullYear,1,0,!1,!0);break;case"yy":e=Mc(Dc.FullYear,2,0,!0,!0);break;case"yyy":e=Mc(Dc.FullYear,3,0,!1,!0);break;case"yyyy":e=Mc(Dc.FullYear,4,0,!1,!0);break;case"M":case"L":e=Mc(Dc.Month,1,1);break;case"MM":case"LL":e=Mc(Dc.Month,2,1);break;case"MMM":e=Lc(Oc.Months,mc.Abbreviated);break;case"MMMM":e=Lc(Oc.Months,mc.Wide);break;case"MMMMM":e=Lc(Oc.Months,mc.Narrow);break;case"LLL":e=Lc(Oc.Months,mc.Abbreviated,gc.Standalone);break;case"LLLL":e=Lc(Oc.Months,mc.Wide,gc.Standalone);break;case"LLLLL":e=Lc(Oc.Months,mc.Narrow,gc.Standalone);break;case"w":e=qc(1);break;case"ww":e=qc(2);break;case"W":e=qc(1,!0);break;case"d":e=Mc(Dc.Date,1);break;case"dd":e=Mc(Dc.Date,2);break;case"E":case"EE":case"EEE":e=Lc(Oc.Days,mc.Abbreviated);break;case"EEEE":e=Lc(Oc.Days,mc.Wide);break;case"EEEEE":e=Lc(Oc.Days,mc.Narrow);break;case"EEEEEE":e=Lc(Oc.Days,mc.Short);break;case"a":case"aa":case"aaa":e=Lc(Oc.DayPeriods,mc.Abbreviated);break;case"aaaa":e=Lc(Oc.DayPeriods,mc.Wide);break;case"aaaaa":e=Lc(Oc.DayPeriods,mc.Narrow);break;case"b":case"bb":case"bbb":e=Lc(Oc.DayPeriods,mc.Abbreviated,gc.Standalone,!0);break;case"bbbb":e=Lc(Oc.DayPeriods,mc.Wide,gc.Standalone,!0);break;case"bbbbb":e=Lc(Oc.DayPeriods,mc.Narrow,gc.Standalone,!0);break;case"B":case"BB":case"BBB":e=Lc(Oc.DayPeriods,mc.Abbreviated,gc.Format,!0);break;case"BBBB":e=Lc(Oc.DayPeriods,mc.Wide,gc.Format,!0);break;case"BBBBB":e=Lc(Oc.DayPeriods,mc.Narrow,gc.Format,!0);break;case"h":e=Mc(Dc.Hours,1,-12);break;case"hh":e=Mc(Dc.Hours,2,-12);break;case"H":e=Mc(Dc.Hours,1);break;case"HH":e=Mc(Dc.Hours,2);break;case"m":e=Mc(Dc.Minutes,1);break;case"mm":e=Mc(Dc.Minutes,2);break;case"s":e=Mc(Dc.Seconds,1);break;case"ss":e=Mc(Dc.Seconds,2);break;case"S":e=Mc(Dc.FractionalSeconds,1);break;case"SS":e=Mc(Dc.FractionalSeconds,2);break;case"SSS":e=Mc(Dc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Fc(Pc.Short);break;case"ZZZZZ":e=Fc(Pc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fc(Pc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fc(Pc.Long);break;default:return null}return Bc[t]=e,e}(t);a+=e?e(i,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}(t,e,r||this.locale,n)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${gt(t)}'`)}(lh,i.message)}}}class ah{}const uh=new St("DocumentToken"),ch="browser",hh="server";let dh=(()=>{class t{}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new ph(Ft(uh),window,Ft(Jt))}),t})();class ph{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class fh{}class gh{}class mh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class vh{encodeKey(t){return yh(t)}encodeValue(t){return yh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function yh(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class bh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new vh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new bh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function _h(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function wh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ch(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Eh{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new mh),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new bh,this.urlWithParams=e}serializeBody(){return null===this.body?null:_h(this.body)||wh(this.body)||Ch(this.body)||"string"==typeof this.body?this.body:this.body instanceof bh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Ch(this.body)?null:wh(this.body)?this.body.type||null:_h(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new Eh(e,n,i,{params:a,headers:l,reportProgress:s,responseType:r,withCredentials:o})}}const Sh=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Ih{constructor(t,e=200,n="OK"){this.headers=t.headers||new mh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Th extends Ih{constructor(t={}){super(t),this.type=Sh.ResponseHeader}clone(t={}){return new Th({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kh extends Ih{constructor(t={}){super(t),this.type=Sh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xh extends Ih{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ah(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Ph{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Eh)r=t;else{let i=void 0;i=n.headers instanceof mh?n.headers:new mh(n.headers);let o=void 0;n.params&&(o=n.params instanceof bh?n.params:new bh({fromObject:n.params})),r=new Eh(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ec(r).pipe(nc(t=>this.handler.handle(t)));if(t instanceof Eh||"events"===n.observe)return i;const o=i.pipe(rc(t=>t instanceof kh));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(F(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new bh).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ah(n,e))}post(t,e,n={}){return this.request("POST",t,Ah(n,e))}put(t,e,n={}){return this.request("PUT",t,Ah(n,e))}}class Dh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Oh=new St("HTTP_INTERCEPTORS");class Nh{intercept(t,e){return e.handle(t)}}const Rh=/^\)\]\}',?\n/;class Mh{}class Lh{constructor(){}build(){return new XMLHttpRequest}}class Fh{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new mh(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Th({headers:o,status:e,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:l}=o(),a=null;204!==i&&(a=void 0===n.response?n.responseText:n.response),0===i&&(i=a?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(Rh,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=t,u&&(u=!1,a={error:c,text:a})}}u?(e.next(new kh({body:a,headers:r,status:i,statusText:s,url:l||void 0})),e.complete()):e.error(new xh({error:a,headers:r,status:i,statusText:s,url:l||void 0}))},l=t=>{const{url:r}=o(),i=new xh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let a=!1;const u=r=>{a||(e.next(o()),a=!0);let i={type:Sh.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Sh.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",l),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Sh.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Vh=new St("XSRF_COOKIE_NAME"),Uh=new St("XSRF_HEADER_NAME");class qh{}class Bh{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class jh{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class zh{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Oh,[]);this.chain=t.reduceRight((t,e)=>new Dh(t,e),this.backend)}return this.chain.handle(t)}}class Hh{static disable(){return{ngModule:Hh,providers:[{provide:jh,useClass:Nh}]}}static withOptions(t={}){return{ngModule:Hh,providers:[t.cookieName?{provide:Vh,useValue:t.cookieName}:[],t.headerName?{provide:Uh,useValue:t.headerName}:[]]}}}class Wh{}let Kh=(()=>{class t{constructor(t){this.http=t,ia.initializeApp({apiKey:"AIzaSyCQ0s5qszhJJl9A33jmbt2tmC8C57dFbCQ",authDomain:"event-system-49b35.firebaseapp.com",databaseURL:"https://event-system-49b35.firebaseio.com",projectId:"event-system-49b35",storageBucket:"event-system-49b35.appspot.com",messagingSenderId:"399763809330",appId:"1:399763809330:web:4a99a1bdc8ada64546482b",measurementId:"G-DC0JMDFHX6"}),this.FDB=ia.firestore(),this.FS=ia.storage(),this.AUTH=ia.auth()}getAuthReference(){return this.AUTH}getFirestoreEventConfigurationsReference(t){return this.FDB.collection("events_data").doc(t).collection("settings").doc("configurations")}sendPasswordResetEmail(t){return new Promise((e,n)=>{this.AUTH.sendPasswordResetEmail(t).then((function(t){e(t)})).catch((function(t){console.log("Error with code -> "+t.code+" message -> "+t.message),n(t)}))})}signInUser(t,e){return new Promise((n,r)=>{let i=this;this.AUTH.setPersistence(ia.auth.Auth.Persistence.SESSION).then((function(){i.AUTH.signInWithEmailAndPassword(t,e).then((function(t){n(t)})).catch((function(t){console.log("Error with code -> "+t.code+" message -> "+t.message),r(t)}))})).catch((function(t){r(t)}))})}signUpUser(t,e,n,r,i){return new Promise((o,s)=>{let l=this;this.AUTH.setPersistence(ia.auth.Auth.Persistence.SESSION).then((function(){l.AUTH.createUserWithEmailAndPassword(t,e).then((function(t){l.addNewUserInUsersListOnRegister(t.user.uid,n,r,i).then((function(t){o(t)})).catch((function(t){console.log("Error with code -> "+t.code+" message -> "+t.message),s(t)}))})).catch((function(t){console.log("Error with code -> "+t.code+" message -> "+t.message),s(t)}))})).catch((function(t){s(t)}))})}signUpUserWithNODEJS(t,e,n,r,i,o){return new Promise((s,l)=>{const a={userEmail:t,userPassword:e,userFirstName:n,userLastName:r,userRole:i,userImageUrl:o,searchTerms:[n,r,t,t.split("@")[0],i]};console.log(this.http),this.http.post("https://us-central1-event-system-49b35.cloudfunctions.net/signUpUser",a,{headers:{}}).subscribe({next:t=>{s(!0)},error:t=>{console.error("There was an error!",t),l(!1)}})})}signOutUser(){return new Promise((t,e)=>{this.AUTH.signOut().then((function(e){t(e)})).catch((function(t){console.log("Error with code -> "+t.code+" message -> "+t.message),e(t)}))})}addNewUserInUsersListOnRegister(t,e,n,r){return new Promise((i,o)=>{this.FDB.collection("users").doc(t).set({first_name:e,last_name:n,user_image:r},{merge:!0}).then((function(t){i(t)})).catch((function(t){o(t)}))})}getUserFields(t){return new Promise((e,n)=>{this.FDB.collection("users").doc(t).get().then((function(t){t.exists?e(t.data()):n("No such document!")})).catch((function(t){n(t)}))})}getSystemUsers(t=null,e=12){return new Promise((n,r)=>{let i=this.FDB.collection("users").orderBy("first_name").orderBy("last_name").limit(e);null!==t&&(i=this.FDB.collection("users").orderBy("first_name").orderBy("last_name").startAfter(t).limit(e)),i.get().then((function(t){n(t.docs)})).catch((function(t){r(t)}))})}getSystemUsersV2(t=null,e=null,n=12){return new Promise((t,r)=>{let i=this.FDB.collection("users").orderBy("first_name").orderBy("last_name").limit(n);null!==e&&(i=this.FDB.collection("users").orderBy("first_name").orderBy("last_name").startAfter(e).limit(n)),i.get().then((function(e){t(e.docs)})).catch((function(t){r(t)}))})}getEventUsers(t,e=null,n=12){return new Promise((r,i)=>{let o=this.FDB.collection("users").where("events","array-contains",t).orderBy("first_name").orderBy("last_name").limit(n);null!==e&&(o=this.FDB.collection("users").where("events","array-contains",t).orderBy("first_name").orderBy("last_name").startAfter(e).limit(n)),o.get().then((function(t){r(t.docs)})).catch((function(t){i(t)}))})}checkIfEventExists(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).get().then((function(t){e(!!t.exists)})).catch((function(t){console.log("error",t),n("Something went Wrong!")}))})}createNewEvent(t){return new Promise((e,n)=>{this.checkIfEventExists(t.event_code).then(r=>{if(r)n("Event code has already exist. Please enter another event code.");else{t.date_created=new Date((new Date).toUTCString()).getTime();let n=this.FDB.batch(),r=this.FDB.collection("events_data").doc(t.event_code).collection("settings").doc("configurations");n.set(r,t);let i=this.FDB.collection("events_data").doc(t.event_code);n.set(i,t),n.commit().then((function(){e(!0)}))}},t=>{n(t)})})}getAllEvents(t=null,e=20){return new Promise((n,r)=>{null!==t?this.FDB.collection("events_data").startAfter(t).orderBy("date_created","desc").limit(e).get().then((function(t){n(t.docs)}),(function(t){r(t)})):this.FDB.collection("events_data").orderBy("date_created","desc").limit(e).get().then((function(t){n(t.docs)}),(function(t){r(t)}))})}deleteEvent(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).delete().then((function(){e(!0)})).catch((function(t){n(t)}))})}getEventData(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).collection("settings").doc("configurations").get().then((function(t){t.exists?e(t.data()):n("No such document!")})).catch((function(t){n(t)}))})}saveEventDataSettings(t){return new Promise((e,n)=>{let r=this.FDB.batch(),i=this.FDB.collection("events_data").doc(t.event_code).collection("settings").doc("configurations");r.update(i,t);let o=this.FDB.collection("events_data").doc(t.event_code);r.update(o,t),r.commit().then((function(){e(!0)}))})}getEventFeatures(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).collection("settings").doc("features").get().then((function(t){e(!!t.exists&&t.data())})).catch((function(t){n(t)}))})}saveEventFeatures(t,e){return new Promise((n,r)=>{ia.firestore().collection("events_data").doc(t).collection("settings").doc("features").set({selected:e.selected,premium:e.premium},{merge:!1}).then((function(){n(!0)})).catch((function(t){r(!1)}))})}getEventDesign(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).collection("settings").doc("design").get().then((function(t){e(!!t.exists&&t.data())})).catch((function(t){n(t)}))})}saveEventDesign(t,e){return new Promise((n,r)=>{ia.firestore().collection("events_data").doc(t).collection("settings").doc("design").set(e,{merge:!1}).then((function(){n(!0)})).catch((function(t){r(!1)}))})}uploadImage(t,e,n){return new Promise((r,i)=>{let o={contentType:n.type},s=this.FS.ref().child(t).child(e).put(n,o);s.on("state_changed",(function(t){}),(function(t){i(t)}),(function(t){s.snapshot.ref.getDownloadURL().then((function(t){r(t)}))}))})}deleteFileFremStorage(t){return new Promise((e,n)=>{this.FS.ref().child(t).delete().then((function(){e(!0)})).catch((function(t){n(t)}))})}deleteOldEventIconAndCoverImages(t,e=[]){return new Promise((t,n)=>{if(e.length){let r=0;this.checkIfAllGivenFilesAreDeleted=(e,n)=>{e===n&&t(!0)};for(let t=0;t<e.length;t++)this.deleteFileFremStorage(e[t]).then(t=>{this.checkIfAllGivenFilesAreDeleted(e.length,++r)}).catch((function(t){n(t)}))}else t(!0)})}saveEventHomePageDesign(t,e){return new Promise((n,r)=>{ia.firestore().collection("events_data").doc(t).collection("settings").doc("home_design").set(e,{merge:!1}).then((function(){n(!0)})).catch((function(t){r(!1)}))})}getEventHomePageDesign(t){return new Promise((e,n)=>{this.FDB.collection("events_data").doc(t).collection("settings").doc("home_design").get().then((function(t){e(!!t.exists&&t.data())})).catch((function(t){n(t)}))})}getEventTranslations(t,e){return new Promise((n,r)=>{this.FDB.collection("events_data").doc(t).collection("settings").doc("translations").collection(e).get().then((function(t){let e=[];t.size&&t.forEach((function(t){e.push(t.data())})),n(e)})).catch((function(t){r(t)}))})}saveEventTranslations(t,e,n){return new Promise((r,i)=>{let o=ia.firestore().batch();for(let s=0;s<n.length;s++){const r=n[s];let i=ia.firestore().collection("events_data").doc(t).collection("settings").doc("translations").collection(e).doc(r.key);o.set(i,r)}o.commit().then((function(){r(!0)}))})}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(Ph))},token:t,providedIn:"root"}),t})(),Gh=(()=>{class t{constructor(t){this.http=t,this.database=new Kh(this.http)}getAuthReference(){return this.database.getAuthReference()}getFirestoreEventConfigurationsReference(t){return this.database.getFirestoreEventConfigurationsReference(t)}sendPasswordResetEmail(t){return new Promise((e,n)=>this.database.sendPasswordResetEmail(t).then(t=>{e(t)}).catch((function(t){n(t)})))}signInUser(t,e){return new Promise((n,r)=>this.database.signInUser(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}signUpUser(t,e,n,r,i){return new Promise((o,s)=>this.database.signUpUser(t,e,n,r,i).then(t=>{o(t)}).catch((function(t){s(t)})))}signUpUserWithNODEJS(t,e,n,r,i,o){return new Promise((s,l)=>this.database.signUpUserWithNODEJS(t,e,n,r,i,o).then(t=>{s(t)}).catch((function(t){l(t)})))}signOutUser(){return new Promise((t,e)=>this.database.signOutUser().then(e=>{t(e)}).catch((function(t){e(t)})))}getUserFields(t){return new Promise((e,n)=>this.database.getUserFields(t).then(t=>{e(t)}).catch((function(t){n(t)})))}getSystemUsers(t=null){return new Promise((e,n)=>this.database.getSystemUsers(t).then(t=>{e(t)}).catch((function(t){n(t)})))}checkIfEventExists(t){return new Promise((e,n)=>this.database.checkIfEventExists(t).then(t=>{e(t)}).catch((function(t){n(t)})))}createNewEvent(t){return new Promise((e,n)=>this.database.createNewEvent(t).then(t=>{e(t)}).catch((function(t){n(t)})))}getAllEvents(t=null,e=20){return new Promise((n,r)=>this.database.getAllEvents(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}deleteEvent(t){return new Promise((e,n)=>this.database.deleteEvent(t).then(t=>{e(t)}).catch((function(t){n(t)})))}getEventData(t){return new Promise((e,n)=>this.database.getEventData(t).then(t=>{e(t)}).catch((function(t){n(t)})))}saveEventData(t){return new Promise((e,n)=>this.database.saveEventDataSettings(t).then(t=>{e(t)}).catch((function(t){n(t)})))}getEventFeatures(t){return new Promise((e,n)=>this.database.getEventFeatures(t).then(t=>{e(t)}).catch((function(t){n(t)})))}saveEventFeatures(t,e){return new Promise((n,r)=>this.database.saveEventFeatures(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}getEventDesign(t){return new Promise((e,n)=>this.database.getEventDesign(t).then(t=>{e(t)}).catch((function(t){n(t)})))}saveEventDesign(t,e,n=null,r=null){return new Promise((i,o)=>{let s=this,l=0,a=0;null!==n&&(l++,this.database.uploadImage(t,"settings/design/"+(new Date).getTime()+"_"+n.name,n).then(n=>{e.iconImg=n,++a===l&&s.saveEventDesignData(t,e).then(t=>{i(t)}).catch((function(t){o(t)}))}).catch((function(t){o(t)}))),null!==r&&(l++,this.database.uploadImage(t,"settings/design/"+(new Date).getTime()+"_"+r.name,r).then(n=>{e.coverImg=n,++a===l&&s.saveEventDesignData(t,e).then(t=>{i(t)}).catch((function(t){o(t)}))}).catch((function(t){o(t)}))),n||r||s.saveEventDesignData(t,e).then(t=>{i(t)}).catch((function(t){o(t)}))})}saveEventDesignData(t,e){return new Promise((n,r)=>this.database.saveEventDesign(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}deleteOldEventIconAndCoverImages(t,e){return new Promise((n,r)=>this.database.deleteOldEventIconAndCoverImages(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}deleteImage(t){return new Promise((e,n)=>this.database.deleteFileFremStorage(t).then(t=>{e(t)}).catch((function(t){n(t)})))}saveEventHomePageDesign(t,e,n=null){return new Promise((r,i)=>{if(null!==n){let o=this;this.database.uploadImage(t,"settings/design/home/"+(new Date).getTime()+"_"+n.name,n).then(n=>{e.cover_img=n,o.database.saveEventHomePageDesign(t,e).then(t=>{r(t)}).catch((function(t){i(t)}))}).catch((function(t){i(t)}))}else this.database.saveEventHomePageDesign(t,e).then(t=>{r(t)}).catch((function(t){i(t)}))})}getEventHomePageDesign(t){return new Promise((e,n)=>this.database.getEventHomePageDesign(t).then(t=>{e(t)}).catch((function(t){n(t)})))}getEventTranslations(t,e){return new Promise((n,r)=>this.database.getEventTranslations(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}saveEventTranslations(t,e,n){return new Promise((r,i)=>{let o=0;for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];r.length?this.database.saveEventTranslations(t,n,r).then(t=>{s(t)}).catch((function(t){i(t)})):s(!0)}function s(t){++o===n&&r(t)}})}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(Ph))},token:t,providedIn:"root"}),t})();class Qh extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}let Yh=(()=>{class t{constructor(t){this.dataService=t,this.loggedUserData={},this.FirebaseAuthReference=null,this.currentUserSubject=new Qh(localStorage.getItem("loggedUserStatus")),this.currentLoggedUser=this.currentUserSubject.asObservable(),this.FirebaseAuthReference=this.dataService.getAuthReference();let e=this;this.FirebaseAuthReference.onAuthStateChanged((function(t){t?(localStorage.setItem("loggedUserStatus","true"),e.setFBTokenInCookie(t.ra),e.FirebaseAuthReference.currentUser.getIdTokenResult().then(t=>{e.setCookieProp("currentLoggedUserRole",t.claims.user_role)}).catch(t=>{console.log(t)})):(localStorage.removeItem("loggedUserStatus"),e.deleteCookieProp("currentLoggedUserRole"),e.deleteCookieProp("firebaseToken")),e.loggedUserData=t,localStorage.setItem("loggedUserData",JSON.stringify(e.loggedUserData)),e.currentUserSubject.next(localStorage.getItem("loggedUserStatus"))}))}get currentUserValue(){return this.currentUserSubject.value}get currentLoggedUserData(){return JSON.parse(localStorage.getItem("loggedUserData"))}getCurrentLoggedUserCustomClaims(){return new Promise((t,e)=>this.FirebaseAuthReference.currentUser.getIdTokenResult().then(e=>{t(e.claims)}).catch((function(t){e(t)})))}sendPasswordResetEmail(t){return new Promise((e,n)=>this.dataService.sendPasswordResetEmail(t).then(t=>{e(t)}).catch((function(t){n(t)})))}signInUser(t,e){return new Promise((n,r)=>this.dataService.signInUser(t,e).then(t=>{n(t)}).catch((function(t){r(t)})))}signUpUser(t,e,n,r,i){return new Promise((o,s)=>this.dataService.signUpUser(t,e,n,r,i).then(t=>{o(t)}).catch((function(t){s(t)})))}signUpUserWithNODEJS(t,e,n,r,i,o){return new Promise((s,l)=>this.dataService.signUpUserWithNODEJS(t,e,n,r,i,o).then(t=>{s(t)}).catch((function(t){l(t)})))}signOutUser(){return new Promise((t,e)=>this.dataService.signOutUser().then(e=>{t(e)}).catch((function(t){e(t)})))}getUserFields(t){return new Promise((e,n)=>this.dataService.getUserFields(t).then(t=>{e(t)}).catch((function(t){n(t)})))}setCookieProp(t,e){document.cookie=t+"="+e}deleteCookieProp(t){document.cookie=t+"=; Max-Age=-99999999;"}getCookiePropValue(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let r=0;r<n.length;r++){let t=n[r];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}setFBTokenInCookie(t){document.cookie="firebaseToken="+t}getFBTokenCookie(){let t="firebaseToken=",e=decodeURIComponent(document.cookie).split(";");for(let n=0;n<e.length;n++){let r=e[n];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(Gh))},token:t,providedIn:"root"}),t})();class Xh{constructor(t){this.authService=t,this.authService.currentLoggedUser.subscribe(t=>this.isUserLogged=t)}}const Zh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),$h={};class Jh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new td(t,this.resultSelector))}}class td extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push($h),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===$h?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ed=new _(t=>t.complete());function nd(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):ed}function rd(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):nd()).subscribe(e)})}function id(){return K(1)}const od=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function sd(t){return function(e){return 0===t?nd():e.lift(new ld(t))}}class ld{constructor(t){if(this.total=t,this.total<0)throw new od}call(t,e){return e.subscribe(new ad(t,this.total))}}class ad extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ud(t=dd){return e=>e.lift(new cd(t))}class cd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hd(t,this.errorFactory))}}class hd extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function dd(){return new Zh}function pd(t=null){return e=>e.lift(new fd(t))}class fd{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new gd(t,this.defaultValue))}}class gd extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function md(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rc((e,n)=>t(e,n,r)):W,sd(1),n?pd(e):ud(()=>new Zh))}function vd(t){return function(e){const n=new yd(t),r=e.lift(n);return n.caught=r}}class yd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new bd(t,this.selector,this.caught))}}class bd extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new x(this,void 0,void 0);this.add(r),M(this,n,void 0,void 0,r)}}}function _d(t){return e=>0===t?nd():e.lift(new wd(t))}class wd{constructor(t){if(this.total=t,this.total<0)throw new od}call(t,e){return e.subscribe(new Cd(t,this.total))}}class Cd extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ed(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rc((e,n)=>t(e,n,r)):W,_d(1),n?pd(e):ud(()=>new Zh))}class Sd{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Id(t,this.predicate,this.thisArg,this.source))}}class Id extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Td(t,e){return"function"==typeof e?n=>n.pipe(Td((n,r)=>B(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new kd(t))}class kd{constructor(t){this.project=t}call(t,e){return e.subscribe(new xd(t,this.project))}}class xd extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new x(this,void 0,void 0);this.destination.add(i),this.innerSubscription=M(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Ad(...t){return id()(ec(...t))}function Pd(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>Ad(t,n,e)):e=>Ad(t,e)}function Dd(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Od(t,e,n))}}class Od{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Nd(t,this.accumulator,this.seed,this.hasSeed))}}class Nd extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Rd(t,e,n){return function(r){return r.lift(new Md(t,e,n))}}class Md{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ld(t,this.nextOrObserver,this.error,this.complete))}}class Ld extends f{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Fd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Vd(t,this.callback))}}class Vd extends f{constructor(t,e){super(t),this.add(new h(e))}}let Ud=null;function qd(){return Ud}class Bd{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class jd extends Bd{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const zd={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Hd=3,Wd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gd=(()=>{if(Et.Node)return Et.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Qd extends jd{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Qd,Ud||(Ud=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return zd}contains(t,e){return Gd.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Hd&&Kd.hasOwnProperty(e)&&(e=Kd[e]))}return Wd[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Xd||(Xd=document.querySelector("base"))?Xd.getAttribute("href"):null;return null==e?null:(n=e,Yd||(Yd=document.createElement("a")),Yd.setAttribute("href",n),"/"===Yd.pathname.charAt(0)?Yd.pathname:"/"+Yd.pathname);var n}resetBaseElement(){Xd=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Gc(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Yd,Xd=null;function Zd(){return!!window.history.pushState}const $d=new St("TRANSITION_ID"),Jd=[{provide:mo,useFactory:function(t,e,n){return()=>{n.get(vo).donePromise.then(()=>{const n=qd();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$d,uh,ze],multi:!0}];class tp{static init(){var t;t=new tp,ts=t}addToWindow(t){Et.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(t=>{const e=Et.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?qd().isShadowRoot(e)?this.findTestabilityInTree(t,qd().getHost(e),!0):this.findTestabilityInTree(t,qd().parentElement(e),!0):null}}function ep(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Et.ng=Et.ng||{})[t]=e)}const np=(()=>({ApplicationRef:us,NgZone:zo}))();function rp(t){return Cs(t)}const ip=new St("EventManagerPlugins");class op{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class sp{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=qd().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class lp{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ap extends lp{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>qd().remove(t))}}const up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cp=/%COMP%/g,hp="_nghost-%COMP%",dp="_ngcontent-%COMP%";function pp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pp(t,i,n):(i=i.replace(cp,t),n.push(i))}return n}function fp(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class gp{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mp(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new bp(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Wt.Native:case Wt.ShadowDom:return new _p(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pp(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class mp{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(up[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=up[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=up[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Hn.DashCase?t.style.setProperty(e,n,r&Hn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Hn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){yp(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return yp(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fp(n)):this.eventManager.addEventListener(t,e,fp(n))}}const vp=(()=>"@".charCodeAt(0))();function yp(t,e){if(t.charCodeAt(0)===vp)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class bp extends mp{constructor(t,e,n,r){super(t),this.component=n;const i=pp(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=dp.replace(cp,r+"-"+n.id),this.hostAttr=hp.replace(cp,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _p extends mp{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Wt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=pp(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const wp=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Cp=wp("addEventListener"),Ep=wp("removeEventListener"),Sp={},Ip="FALSE",Tp="ANGULAR",kp="addEventListener",xp="removeEventListener",Ap="__zone_symbol__propagationStopped",Pp="__zone_symbol__stopImmediatePropagation",Dp=(()=>{const t="undefined"!=typeof Zone&&Zone[wp("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Op=function(t){return!!Dp&&Dp.hasOwnProperty(t)},Np=function(t){const e=Sp[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Ap];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class Rp extends sp{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return t===hh}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Pp])return;const t=Event.prototype[Pp]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ap]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Cp]||zo.isInAngularZone()&&!Op(e))t[kp](e,r,!1);else{let n=Sp[e];n||(n=Sp[e]=wp(Tp+e+Ip));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=Op(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[Cp](e,Np,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Ep];if(!r)return t[xp].apply(t,[e,n,!1]);let i=Sp[e],o=i&&t[i];if(!o)return t[xp].apply(t,[e,n,!1]);let s=!1;for(let l=0;l<o.length;l++)if(o[l].handler===n){s=!0,o.splice(l,1);break}s?0===o.length&&r.apply(t,[e,Np,!1]):t[xp].apply(t,[e,n,!1])}}const Mp={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Lp=new St("HammerGestureConfig"),Fp=new St("HammerLoader");class Vp{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Up extends sp{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Mp.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const qp=["alt","control","meta","shift"],Bp={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class jp extends sp{constructor(t){super(t)}supports(t){return null!=jp.parseEventName(t)}addEventListener(t,e,n){const r=jp.parseEventName(e),i=jp.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qd().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=jp._normalizeKey(e.pop());let i="";if(qp.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=qd().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),qp.forEach(r=>{r!=n&&(0,Bp[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{jp.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class zp{}class Hp extends zp{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Se.NONE:return e;case Se.HTML:return e instanceof Kp?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ce=Ce||new re(t);let r=e?String(e):"";n=Ce.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ce.getInertBodyElement(r)}while(r!==o);const s=new ye,l=s.sanitizeChildren(Ee(n)||n);return ne()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const t=Ee(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Se.STYLE:return e instanceof Gp?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(ke);return e&&se(e[1])===e[1]||t.match(Te)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Se.SCRIPT:if(e instanceof Qp)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Se.URL:return e instanceof Xp||e instanceof Yp?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),se(String(e)));case Se.RESOURCE_URL:if(e instanceof Xp)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Wp)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Kp(t)}bypassSecurityTrustStyle(t){return new Gp(t)}bypassSecurityTrustScript(t){return new Qp(t)}bypassSecurityTrustUrl(t){return new Yp(t)}bypassSecurityTrustResourceUrl(t){return new Xp(t)}}class Wp{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Kp extends Wp{getTypeName(){return"HTML"}}class Gp extends Wp{getTypeName(){return"Style"}}class Qp extends Wp{getTypeName(){return"Script"}}class Yp extends Wp{getTypeName(){return"URL"}}class Xp extends Wp{getTypeName(){return"ResourceURL"}}const Zp=os(Ss,"browser",[{provide:Co,useValue:ch},{provide:wo,useValue:function(){Qd.makeCurrent(),tp.init()},multi:!0},{provide:sc,useClass:class extends sc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=qd().getLocation(),this._history=qd().getHistory()}getBaseHrefFromDOM(){return qd().getBaseHref(this._doc)}onPopState(t){qd().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){qd().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Zd()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Zd()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[uh]},{provide:uh,useFactory:function(){return document},deps:[]}]);function $p(){return new Jt}class Jp{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Jp,providers:[{provide:yo,useValue:t.appId},{provide:$d,useExisting:yo},Jd]}}}"undefined"!=typeof window&&window;class tf{constructor(t,e){this.id=t,this.url=e}}class ef extends tf{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nf extends tf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends tf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class of extends tf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sf extends tf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lf extends tf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class af extends tf{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uf extends tf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf extends tf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class df{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ff{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yf{}const bf="primary";class _f{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wf(t){return new _f(t)}const Cf="ngNavigationCancelingError";function Ef(t){const e=Error("NavigationCancelingError: "+t);return e[Cf]=!0,e}function Sf(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class If{constructor(t,e){this.routes=t,this.module=e}}function Tf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kf(r,xf(e,r))}}function kf(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==bf)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Tf(t.children,e)}function xf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Af(t){const e=t.children&&t.children.map(Af),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bf&&(n.component=yf),n}function Pf(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function Df(t){return Array.prototype.concat.apply([],t)}function Of(t){return t.length>0?t[t.length-1]:null}function Nf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Rf(t){return An(t)?t:xn(t)?B(Promise.resolve(t)):ec(t)}function Mf(t,e,n){return n?function(t,e){return Pf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Uf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Uf(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Uf(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Uf(n.segments,t)&&!!n.children[bf]&&e(n.children[bf],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Lf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wf(this.queryParams)),this._queryParamMap}toString(){return zf.serialize(this)}}class Ff{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hf(this)}}class Vf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wf(this.parameters)),this._parameterMap}toString(){return Xf(this)}}function Uf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function qf(t,e){let n=[];return Nf(t.children,(t,r)=>{r===bf&&(n=n.concat(e(t,r)))}),Nf(t.children,(t,r)=>{r!==bf&&(n=n.concat(e(t,r)))}),n}class Bf{}class jf{parse(t){const e=new eg(t);return new Lf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Hf(e);if(n){const n=e.children[bf]?t(e.children[bf],!1):"",r=[];return Nf(e.children,(e,n)=>{n!==bf&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=qf(e,(n,r)=>r===bf?[t(e.children[bf],!1)]:[`${r}:${t(n,!1)}`]);return`${Hf(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Kf(e)}=${Kf(t)}`).join("&"):`${Kf(e)}=${Kf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const zf=new jf;function Hf(t){return t.segments.map(t=>Xf(t)).join("/")}function Wf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kf(t){return Wf(t).replace(/%3B/gi,";")}function Gf(t){return Wf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qf(t){return decodeURIComponent(t)}function Yf(t){return Qf(t.replace(/\+/g,"%20"))}function Xf(t){return`${Gf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Gf(t)}=${Gf(e[t])}`).join("")}`;var e}const Zf=/^[^\/()?;=#]+/;function $f(t){const e=t.match(Zf);return e?e[0]:""}const Jf=/^[^=?&#]+/,tg=/^[^?&#]+/;class eg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ff([],{}):new Ff([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[bf]=new Ff(t,e)),n}parseSegment(){const t=$f(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Vf(Qf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$f(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$f(this.remaining);t&&this.capture(n=t)}t[Qf(e)]=Qf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Jf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(tg);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=Yf(e),i=Yf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$f(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=bf);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[bf]:new Ff([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ng{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=rg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ig(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ig(t,this._root).map(t=>t.value)}}function rg(t,e){if(t===e.value)return e;for(const n of e.children){const e=rg(t,n);if(e)return e}return null}function ig(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ig(t,n);if(r.length)return r.unshift(e),r}return[]}class og{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class lg extends ng{constructor(t,e){super(t),this.snapshot=e,pg(this,t)}toString(){return this.snapshot.toString()}}function ag(t,e){const n=function(t,e){const n=new hg([],{},{},"",{},bf,e,null,t.root,-1,{});return new dg("",new og(n,[]))}(t,e),r=new Qh([new Vf("",{})]),i=new Qh({}),o=new Qh({}),s=new Qh({}),l=new Qh(""),a=new ug(r,i,s,l,o,bf,e,n.root);return a.snapshot=n.root,new lg(new og(a,[]),n)}class ug{constructor(t,e,n,r,i,o,s,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>wf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>wf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hg{constructor(t,e,n,r,i,o,s,l,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dg extends ng{constructor(t,e){super(e),this.url=t,pg(this,e)}toString(){return fg(this._root)}}function pg(t,e){e.value._routerState=t,e.children.forEach(e=>pg(t,e))}function fg(t){const e=t.children.length>0?` { ${t.children.map(fg).join(", ")} } `:"";return`${t.value}${e}`}function gg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function mg(t,e){var n,r;return Pf(t.params,e.params)&&Uf(n=t.url,r=e.url)&&n.every((t,e)=>Pf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||mg(t.parent,e.parent))}function vg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yg(t,e,n,r,i){let o={};return r&&Nf(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Lf(n.root===t?e:function t(e,n,r){const i={};return Nf(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ff(e.segments,i)}(n.root,t,e),o,i)}class bg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&vg(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Of(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _g{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[bf]:`${t}`}function Cg(t,e,n){if(t||(t=new Ff([],{})),0===t.segments.length&&t.hasChildren())return Eg(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=wg(n[r]),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!kg(s,l,e))return o;r+=2}else{if(!kg(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ff(t.segments.slice(0,r.pathIndex),{});return e.children[bf]=new Ff(t.segments.slice(r.pathIndex),t.children),Eg(e,0,i)}return r.match&&0===i.length?new Ff(t.segments,{}):r.match&&!t.hasChildren()?Sg(t,e,n):r.match?Eg(t,0,i):Sg(t,e,n)}function Eg(t,e,n){if(0===n.length)return new Ff(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[bf]:t}:void 0===t[0].outlets?{[bf]:t}:t[0].outlets}(n),i={};return Nf(r,(n,r)=>{null!==n&&(i[r]=Cg(t.children[r],e,n))}),Nf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ff(t.segments,i)}}function Sg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ig(n[i].outlets);return new Ff(r,t)}if(0===i&&vg(n[0])){r.push(new Vf(t.segments[e].path,n[0])),i++;continue}const o=wg(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&vg(s)?(r.push(new Vf(o,Tg(s))),i+=2):(r.push(new Vf(o,{})),i++)}return new Ff(r,{})}function Ig(t){const e={};return Nf(t,(t,n)=>{null!==t&&(e[n]=Sg(new Ff([],{}),0,t))}),e}function Tg(t){const e={};return Nf(t,(t,n)=>e[n]=`${t}`),e}function kg(t,e,n){return t==n.path&&Pf(e,n.parameters)}const xg=(t,e,n)=>F(r=>(new Ag(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Ag{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=sg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Nf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=sg(t),i=t.value.component?n.children:e;Nf(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=sg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ff(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(gg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Pg(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Pg(t){gg(t.value),t.children.forEach(Pg)}function Dg(t){return"function"==typeof t}function Og(t){return t instanceof Lf}class Ng{constructor(t){this.segmentGroup=t||null}}class Rg{constructor(t){this.urlTree=t}}function Mg(t){return new _(e=>e.error(new Ng(t)))}function Lg(t){return new _(e=>e.error(new Rg(t)))}function Fg(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Vg{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Bt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,bf).pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(vd(t=>{if(t instanceof Rg)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ng)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bf).pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(vd(t=>{if(t instanceof Ng)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ff([],{[bf]:t}):t;return new Lf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new Ff([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return ec({});const n=[],r=[],i={};return Nf(t,(t,o)=>{const s=e(o,t).pipe(F(t=>i[o]=t));o===bf?n.push(s):r.push(s)}),ec.apply(null,n.concat(r)).pipe(id(),md(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return ec(...n).pipe(F(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(vd(t=>{if(t instanceof Ng)return ec(null);throw t}))),id(),Ed(t=>!!t),vd((t,n)=>{if(t instanceof Zh||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return ec(new Ff([],{}));throw new Ng(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return jg(r)!==o?Mg(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Mg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lg(i):this.lineralizeSegments(n,i).pipe(j(n=>{const i=new Ff(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:l,lastChild:a,positionalParamSegments:u}=Ug(e,r,i);if(!s)return Mg(e);const c=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Lg(c):this.lineralizeSegments(r,c).pipe(j(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new Ff(r,{})))):ec(new Ff(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Ug(e,n,r);if(!i)return Mg(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(j(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Bg(t,e,n)&&jg(n)!==bf)}(t,n,r)?{segmentGroup:qg(new Ff(e,function(t,e){const n={};n[bf]=e;for(const r of t)""===r.path&&jg(r)!==bf&&(n[jg(r)]=new Ff([],{}));return n}(r,new Ff(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Bg(t,e,n))}(t,n,r)?{segmentGroup:qg(new Ff(t.segments,function(t,e,n,r){const i={};for(const o of n)Bg(t,e,o)&&!r[jg(o)]&&(i[jg(o)]=new Ff([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,l,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new Ff(o,t))):0===r.length&&0===s.length?ec(new Ff(o,{})):this.expandSegment(n,i,r,s,bf,!0).pipe(F(t=>new Ff(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?ec(new If(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ec(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?B(r).pipe(F(r=>{const i=t.get(r);let o;if(function(t){return t&&Dg(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Dg(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Rf(o)})).pipe(id(),(i=t=>!0===t,t=>t.lift(new Sd(i,void 0,t)))):ec(!0);var i}(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(Ef(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ec(new If([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ec(n);if(r.numberOfChildren>1||!r.children[bf])return Fg(t.redirectTo);r=r.children[bf]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Lf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Nf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Nf(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ff(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ug(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Sf)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function qg(t){if(1===t.numberOfChildren&&t.children[bf]){const e=t.children[bf];return new Ff(t.segments.concat(e.segments),e.children)}return t}function Bg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function jg(t){return t.outlet||bf}class zg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hg{constructor(t,e){this.component=t,this.route=e}}function Wg(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=sg(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,l=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Uf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Uf(t.url,e.url)||!Pf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mg(t,e)||!Pf(t.queryParams,e.queryParams);case"paramsChange":default:return!mg(t,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new zg(i)):(s.data=l.data,s._resolvedData=l._resolvedData),t(e,n,s.component?a?a.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Hg(a&&a.outlet&&a.outlet.component||null,l))}else l&&Gg(n,a,o),o.canActivateChecks.push(new zg(i)),t(e,null,s.component?a?a.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Nf(s,(t,e)=>Gg(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Kg(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Gg(t,e,n){const r=sg(t),i=t.value;Nf(r,(t,r)=>{Gg(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Hg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Qg=Symbol("INITIAL_VALUE");function Yg(){return Td(t=>(function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),G(t,n).lift(new Jh(e))})(...t.map(t=>t.pipe(_d(1),Pd(Qg)))).pipe(Dd((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qg)return t;if(r===Qg&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Og(r))return r}return t},t)},Qg),rc(t=>t!==Qg),F(t=>Og(t)?t:!0===t),_d(1)))}function Xg(t,e){return null!==t&&e&&e(new gf(t)),ec(!0)}function Zg(t,e){return null!==t&&e&&e(new pf(t)),ec(!0)}function $g(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ec(r.map(r=>rd(()=>{const i=Kg(r,e,n);let o;if(function(t){return t&&Dg(t.canActivate)}(i))o=Rf(i.canActivate(e,t));else{if(!Dg(i))throw new Error("Invalid CanActivate guard");o=Rf(i(e,t))}return o.pipe(Ed())}))).pipe(Yg()):ec(!0)}function Jg(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>rd(()=>ec(e.guards.map(i=>{const o=Kg(i,e.node,n);let s;if(function(t){return t&&Dg(t.canActivateChild)}(o))s=Rf(o.canActivateChild(r,t));else{if(!Dg(o))throw new Error("Invalid CanActivateChild guard");s=Rf(o(r,t))}return s.pipe(Ed())})).pipe(Yg())));return ec(i).pipe(Yg())}class tm{}class em{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=im(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bf),n=new hg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bf,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new og(n,e),i=new dg(this.url,r);return this.inheritParamsAndData(i._root),ec(i)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=cg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=qf(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===bf?-1:e.value.outlet===bf?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof tm))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new tm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new tm;if((t.outlet||bf)!==r)throw new tm;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Of(n).parameters:{};i=new hg(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lm(t),r,t.component,t,nm(e),rm(e)+n.length,am(t))}else{const l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new tm;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Sf)(n,t,e);if(!r)throw new tm;const i={};Nf(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),i=new hg(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lm(t),r,t.component,t,nm(e),rm(e)+o.length,am(t))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=im(e,o,s,l,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(l,a);return[new og(i,t)]}if(0===l.length&&0===u.length)return[new og(i,[])];const c=this.processSegment(l,a,u,bf);return[new og(i,c)]}}function nm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function im(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>om(t,e,n)&&sm(n)!==bf)}(t,n,r)){const i=new Ff(e,function(t,e,n,r){const i={};i[bf]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&sm(o)!==bf){const n=new Ff([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sm(o)]=n}return i}(t,e,r,new Ff(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>om(t,e,n))}(t,n,r)){const o=new Ff(t.segments,function(t,e,n,r,i,o){const s={};for(const l of r)if(om(t,n,l)&&!i[sm(l)]){const n=new Ff([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[sm(l)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ff(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function om(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sm(t){return t.outlet||bf}function lm(t){return t.data||{}}function am(t){return t.resolve||{}}function um(t,e,n,r){const i=Kg(t,e,r);return Rf(i.resolve?i.resolve(e,n):i(e,n))}function cm(t){return function(e){return e.pipe(Td(e=>{const n=t(e);return n?B(n).pipe(F(()=>e)):B([e])}))}}class hm{}class dm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const pm=new St("ROUTES");class fm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new If(Df(r.injector.get(pm)).map(Af),r)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):Rf(t()).pipe(j(t=>t instanceof jt?ec(t):B(this.compiler.compileModuleAsync(t))))}}class gm{}class mm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vm(t){throw t}function ym(t,e,n){return e.parse("/")}function bm(t,e){return ec(null)}class _m{constructor(t,e,n,r,i,o,s,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=vm,this.malformedUriErrorHandler=ym,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bm,afterPreactivation:bm},this.urlHandlingStrategy=new mm,this.routeReuseStrategy=new dm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Bt),this.console=i.get(So);const a=i.get(zo);this.isNgZoneEnabled=a instanceof zo,this.resetConfig(l),this.currentUrlTree=new Lf(new Ff([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fm(o,s,t=>this.triggerEvent(new hf(t)),t=>this.triggerEvent(new df(t))),this.routerState=ag(this.currentUrlTree,this.rootComponentType),this.transitions=new Qh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(rc(t=>0!==t.id),F(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Td(t=>{let n=!1,r=!1;return ec(t).pipe(Rd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Td(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ec(t).pipe(Td(t=>{const n=this.transitions.getValue();return e.next(new ef(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ed:[t]}),Td(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Td(i=>(function(t,e,n,r,i){return new Vg(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(F(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Rd(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(j(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new em(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(F(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Rd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Rd(t=>{const n=new sf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,l=new ef(n,this.serializeUrl(r),i,o);e.next(l);const a=ag(r,this.rootComponentType).snapshot;return ec(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ed}),cm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Rd(t=>{const e=new lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign({},t,{guards:Wg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(j(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ec(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return B(t).pipe(j(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ec(o.map(o=>{const s=Kg(o,e,i);let l;if(function(t){return t&&Dg(t.canDeactivate)}(s))l=Rf(s.canDeactivate(t,e,n,r));else{if(!Dg(s))throw new Error("Invalid CanDeactivate guard");l=Rf(s(t,e,n,r))}return l.pipe(Ed())})).pipe(Yg()):ec(!0)})(t.component,t.route,n,e,r)),Ed(t=>!0!==t,!0))}(s,r,i,t).pipe(j(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return B(e).pipe(nc(e=>B([Zg(e.route.parent,r),Xg(e.route,r),Jg(t,e.path,n),$g(t,e.route,n)]).pipe(id(),Ed(t=>!0!==t,!0))),Ed(t=>!0!==t,!0))}(r,o,t,e):ec(n)),F(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Rd(t=>{if(Og(t.guardsResult)){const e=Ef(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Rd(t=>{const e=new af(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),rc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),cm(t=>{if(t.guards.canActivateChecks.length)return ec(t).pipe(Rd(t=>{const e=new uf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(j(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?B(i).pipe(nc(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ec({});if(1===i.length){const o=i[0];return um(t[o],e,n,r).pipe(F(t=>({[o]:t})))}const o={};return B(i).pipe(j(i=>um(t[i],e,n,r).pipe(F(t=>(o[i]=t,t))))).pipe(md(),F(()=>o))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,cg(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return y(Dd(t,e),sd(1),pd(e))(n)}:function(e){return y(Dd((e,n,r)=>t(e,n,r+1)),sd(1))(e)}}((t,e)=>t),F(t=>n)):ec(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Rd(t=>{const e=new cf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),cm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new og(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ug(new Qh((i=n.value).url),new Qh(i.params),new Qh(i.queryParams),new Qh(i.fragment),new Qh(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new og(r,o)}}var i}(t,e._root,n?n._root:void 0);return new lg(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Rd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),xg(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Rd({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Fd(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),vd(n=>{if(r=!0,function(t){return t&&t[Cf]}(n)){const r=Og(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new of(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return ed}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Tf(t),this.config=t.map(Af),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:l}=e;ne()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=l?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return yg(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bg(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Nf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new bg(n,e,r)}(n);if(o.toRoot())return yg(e.root,new Ff([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new _g(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new _g(n.snapshot._urlSegment,!0,0);const r=vg(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new _g(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),l=s.processChildren?Eg(s.segmentGroup,s.index,o.commands):Cg(s.segmentGroup,s.index,o.commands);return yg(s.segmentGroup,l,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){ne()&&this.isNgZoneEnabled&&!zo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Og(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Og(t))return Mf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Mf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const l=new Promise((t,e)=>{o=t,s=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class wm{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ne()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Em(this.skipLocationChange),replaceUrl:Em(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Em(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Em(this.preserveFragment)})}}class Cm{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof nf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ne()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Em(this.skipLocationChange),replaceUrl:Em(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Em(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Em(this.preserveFragment)})}}function Em(t){return""===t||!!t}class Sm{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof nf&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class Im{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tm,this.attachRef=null}}class Tm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Im,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class km{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new po,this.deactivateEvents=new po,this.name=r||bf,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xm(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class xm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ug?this.route:t===Tm?this.childContexts:this.parent.get(t,e)}}class Am{}class Pm{preload(t,e){return e().pipe(vd(()=>ec(null)))}}class Dm{preload(t,e){return ec(null)}}class Om{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new fm(e,n,e=>t.triggerEvent(new hf(e)),e=>t.triggerEvent(new df(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(rc(t=>t instanceof nf),nc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Bt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return B(n).pipe(K(),F(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Nm{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ef?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Rm=new St("ROUTER_CONFIGURATION"),Mm=new St("ROUTER_FORROOT_GUARD"),Lm=[cc,{provide:Bf,useClass:jf},{provide:_m,useFactory:zm,deps:[us,Bf,Tm,cc,ze,hs,Oo,pm,Rm,[gm,new lt],[hm,new lt]]},Tm,{provide:ug,useFactory:Hm,deps:[_m]},{provide:hs,useClass:ms},Om,Dm,Pm,{provide:Rm,useValue:{enableTracing:!1}}];function Fm(){return new is("Router",_m)}class Vm{constructor(t,e){}static forRoot(t,e){return{ngModule:Vm,providers:[Lm,jm(t),{provide:Mm,useFactory:Bm,deps:[[_m,new lt,new ut]]},{provide:Rm,useValue:e||{}},{provide:ac,useFactory:qm,deps:[sc,[new st(uc),new lt],Rm]},{provide:Nm,useFactory:Um,deps:[_m,dh,Rm]},{provide:Am,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Dm},{provide:is,multi:!0,useFactory:Fm},[Wm,{provide:mo,multi:!0,useFactory:Km,deps:[Wm]},{provide:Qm,useFactory:Gm,deps:[Wm]},{provide:Eo,multi:!0,useExisting:Qm}]]}}static forChild(t){return{ngModule:Vm,providers:[jm(t)]}}}function Um(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Nm(t,e,n)}function qm(t,e,n={}){return n.useHash?new dc(t,e):new pc(t,e)}function Bm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jm(t){return[{provide:_n,multi:!0,useValue:t},{provide:pm,multi:!0,useValue:t}]}function zm(t,e,n,r,i,o,s,l,a={},u,c){const h=new _m(null,e,n,r,i,o,s,Df(l));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=qd();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function Hm(t){return t.routerState.root}class Wm{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(lc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_m),r=this.injector.get(Rm);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?ec(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Rm),n=this.injector.get(Om),r=this.injector.get(Nm),i=this.injector.get(_m),o=this.injector.get(us);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Km(t){return t.appInitializer.bind(t)}function Gm(t){return t.bootstrapListener.bind(t)}const Qm=new St("Router Initializer");var Ym=Dr({encapsulation:2,styles:[],data:{}});function Xm(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Bi(1,212992,null,0,km,[Tm,dr,Ln,[8,null],Pe],null,null)],(function(t,e){t(e,1,0)}),null)}function Zm(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"ng-component",[],null,null,null,Xm,Ym)),Bi(1,49152,null,0,yf,[],null,null)],null,null)}var $m=vi("ng-component",yf,Zm,{},{},[]);function Jm(t){return null!=t&&"false"!==`${t}`}function tv(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ev(t){return t instanceof qn?t.nativeElement:t}const nv=new Gn("8.2.3");let rv;try{rv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(yD){rv=!1}let iv,ov,sv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===ch:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!rv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(Co,8))},token:t,providedIn:"root"}),t})();class lv{}function av(t){return function(){if(null==iv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iv=!0}))}finally{iv=iv||!1}return iv}()?t:!!t.capture}const uv=9,cv=13,hv=32,dv=35,pv=36,fv=37,gv=38,mv=39,vv=40,yv=48,bv=57,_v=65,wv=90;function Cv(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Ev extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Sv extends Ev{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Iv=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Tv extends Iv{constructor(t,e=Iv.now){super(t,()=>Tv.delegate&&Tv.delegate!==this?Tv.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Tv.delegate&&Tv.delegate!==this?Tv.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const kv=new Tv(Sv);function xv(t,e=kv){return n=>n.lift(new Av(t,e))}class Av{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Pv(t,this.dueTime,this.scheduler))}}class Pv extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Dv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Dv(t){t.debouncedNext()}class Ov{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new I,this.change=new I,t instanceof go&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Rd(t=>this._pressedLetters.push(t)),xv(t),rc(()=>this._pressedLetters.length>0),F(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case uv:return void this.tabOut.next();case vv:if(this._vertical&&n){this.setNextItemActive();break}return;case gv:if(this._vertical&&n){this.setPreviousItemActive();break}return;case mv:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case fv:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Cv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=_v&&e<=wv||e>=yv&&e<=bv)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof go?this._items.toArray():this._items}}class Nv extends Ov{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}const Rv=650,Mv=av({passive:!0,capture:!0});let Lv=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Rv)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return ec(null);const n=ev(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new I};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",o,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",o,!0)},r.subject.asObservable()}stopMonitoring(t){const e=ev(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=ev(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Mv),document.addEventListener("mousedown",this._documentMousedownListener,Mv),document.addEventListener("touchstart",this._documentTouchstartListener,Mv),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Mv),document.removeEventListener("mousedown",this._documentMousedownListener,Mv),document.removeEventListener("touchstart",this._documentTouchstartListener,Mv),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(zo),Ft(sv))},token:t,providedIn:"root"}),t})();class Fv{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new po,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}class Vv{}const Uv=new Gn("8.2.3"),qv=new St("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Bv{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&ne()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){Uv.full!==nv.full&&console.warn("The Angular Material version ("+Uv.full+") does not match the Angular CDK version ("+nv.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function jv(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Jm(t)}}}function zv(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Hv(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Jm(t)}}}let Wv;try{Wv="undefined"!=typeof Intl}catch(yD){Wv=!1}const Kv=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class Gv{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Kv.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qv={enterDuration:450,exitDuration:400},Yv=800,Xv=av({passive:!0});class Zv{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Yv;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Kv.VISIBLE||t.config.terminateOnPointerUp&&t.state===Kv.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=ev(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},Qv,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,l=e-r.top,a=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${l-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${a}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new Gv(this,u,n);return c.state=Kv.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Kv.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},a),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},Qv,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=Kv.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=Kv.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=ev(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,Xv)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,Xv)})}}const $v=new St("mat-ripple-global-options");class Jv{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Zv(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class ty{}const ey=100,ny=10;class ry{constructor(t){this._elementRef=t}}const iy=zv(ry,"primary"),oy=new St("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:ey}}}),sy="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";let ly=(()=>{class t extends iy{constructor(e,n,r,i,o){super(e),this._elementRef=e,this._document=r,this._diameter=ey,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;s.has(r.head)||s.set(r.head,new Set([ey])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=tv(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=tv(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,tv(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){const n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){const e=t.getRootNode?t.getRootNode():null;if(e instanceof window.ShadowRoot)return e}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-ny)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){return sy.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t._diameters=new WeakMap,t})();class ay extends ly{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}class uy{}const cy=new St("cdk-dir-doc",{providedIn:"root",factory:function(){return Vt(uh)}});let hy=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new po,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(cy,8))},token:t,providedIn:"root"}),t})();class dy{}class py{}class fy{}const gy="*";function my(t,e=null){return{type:2,steps:t,options:e}}function vy(t){return{type:6,styles:t,offset:null}}function yy(t){Promise.resolve(null).then(t)}class by{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _y{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?yy(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const wy="!";function Cy(){return"undefined"!=typeof process}function Ey(t){switch(t.length){case 0:return new by;case 1:return t[0];default:return new _y(t)}}function Sy(t,e,n,r,i={},o={}){const s=[],l=[];let a=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==a,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,l=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),l){case wy:l=i[n];break;case gy:l=o[n];break;default:l=e.normalizeStyleValue(n,r,l,s)}c[r]=l}),r||l.push(c),u=c,a=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return l}function Iy(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ty(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ty(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ty(n,"destroy",t)))}}function Ty(t,e,n){const r=n.totalTime,i=ky(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function ky(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xy(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Ay(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Py=(t,e)=>!1,Dy=(t,e)=>!1,Oy=(t,e,n)=>[];const Ny=Cy();(Ny||"undefined"!=typeof Element)&&(Py=(t,e)=>t.contains(e),Dy=(()=>{if(Ny||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Dy}})(),Oy=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ry=null,My=!1;function Ly(t){Ry||(Ry=("undefined"!=typeof document?document.body:null)||{},My=!!Ry.style&&"WebkitAppearance"in Ry.style);let e=!0;return Ry.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Ry.style)&&My&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ry.style),e}const Fy=Dy,Vy=Py,Uy=Oy;function qy(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class By{validateStyleProperty(t){return Ly(t)}matchesElement(t,e){return Fy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Uy(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new by(n,r)}}let jy=(()=>{class t{}return t.NOOP=new By,t})();const zy=1e3,Hy="{{",Wy="ng-enter",Ky="ng-leave",Gy="ng-trigger",Qy=".ng-trigger",Yy="ng-animating",Xy=".ng-animating";function Zy(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$y(parseFloat(e[1]),e[2])}function $y(t,e){switch(e){case"s":return t*zy;default:return t}}function Jy(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$y(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=$y(parseFloat(s),n[4]));const l=n[5];l&&(o=l)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function tb(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function eb(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else tb(t,n);return n}function nb(t,e,n){return n?e+":"+n+";":""}function rb(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=nb(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=nb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ib(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=db(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Cy()&&rb(t))}function ob(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=db(e);t.style[n]=""}),Cy()&&rb(t))}function sb(t){return Array.isArray(t)?1==t.length?t[0]:my(t):t}const lb=new RegExp(`${Hy}\\s*(.+?)\\s*}}`,"g");function ab(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=lb.exec(n);)e.push(r[1]);lb.lastIndex=0}return e}function ub(t,e,n){const r=t.toString(),i=r.replace(lb,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function cb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hb=/-+([a-z0-9])/g;function db(t){return t.replace(hb,(...t)=>t[1].toUpperCase())}function pb(t,e){return 0===t||0===e}function fb(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=mb(t,e)}))}}return e}function gb(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function mb(t,e){return window.getComputedStyle(t)[e]}const vb="*";function yb(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(wb(i,s)),"<"!=o[0]||i==vb&&s==vb||e.push(wb(s,i))})(t,n,e)):n.push(t),n}const bb=new Set(["true","1"]),_b=new Set(["false","0"]);function wb(t,e){const n=bb.has(t)||_b.has(t),r=bb.has(e)||_b.has(e);return(i,o)=>{let s=t==vb||t==i,l=e==vb||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?bb.has(t):_b.has(t)),!l&&r&&"boolean"==typeof o&&(l=o?bb.has(e):_b.has(e)),s&&l}}const Cb=":self",Eb=new RegExp(`s*${Cb}s*,?`,"g");function Sb(t,e,n){return new Tb(t).build(e,n)}const Ib="";class Tb{constructor(t){this._driver=t}build(t,e){const n=new kb(e);return this._resetContextStyleTimingState(n),gb(this,sb(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Ib,t.collectedStyles={},t.collectedStyles[Ib]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(xb(t)){const e=t;Object.keys(e).forEach(t=>{ab(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=cb(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=gb(this,sb(t.animation),e);return{type:1,matchers:yb(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ab(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>gb(this,t,e)),options:Ab(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=gb(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ab(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Pb(Jy(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Pb(0,0,"");return t.dynamic=!0,t.strValue=r,t}return Pb((n=n||Jy(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:vy({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=vy(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==gy?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(xb(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(Hy)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let l=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),l=!1),i=s.startTime),l&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ab(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,l=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(xb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(xb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(r++,u=n.offset=a),s=s||u<0||u>1,o=o||u<l,l=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return a.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:gb(this,sb(t.animation),e),options:Ab(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ab(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ab(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==Cb);return e&&(t=t.replace(Eb,"")),[t=t.replace(/@\*/g,Qy).replace(/@\w+/g,t=>Qy+"-"+t.substr(1)).replace(/:animating/g,Xy),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,xy(e.collectedStyles,e.currentQuerySelector,{});const s=gb(this,sb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Ab(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Jy(t.timings,e.errors,!0);return{type:12,animation:gb(this,sb(t.animation),e),timings:n,options:null}}}class kb{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function xb(t){return!Array.isArray(t)&&"object"==typeof t}function Ab(t){var e;return t?(t=tb(t)).params&&(t.params=(e=t.params)?tb(e):null):t={},t}function Pb(t,e,n){return{duration:t,delay:e,easing:n}}function Db(t,e,n,r,i,o,s=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:l}}class Ob{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Nb=1,Rb=new RegExp(":enter","g"),Mb=new RegExp(":leave","g");function Lb(t,e,n,r,i,o={},s={},l,a,u=[]){return(new Fb).buildKeyframes(t,e,n,r,i,o,s,l,a,u)}class Fb{buildKeyframes(t,e,n,r,i,o,s,l,a,u=[]){a=a||new Ob;const c=new Ub(t,e,a,r,i,u,[]);c.options=l,c.currentTimeline.setStyles([o],null,c.errors,l),gb(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,l)}return h.length?h.map(t=>t.buildKeyframes()):[Db(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Zy(n.duration):null,o=null!=n.delay?Zy(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gb(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vb);const t=Zy(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>gb(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Zy(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),gb(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Jy(e.params?ub(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Zy(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vb);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(l=s.currentTimeline),gb(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime}const a=e.currentTimeline;l&&a.delayNextStep(l);const u=a.currentTime;gb(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Vb={};class Ub{constructor(t,e,n,r,i,o,s,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new qb(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Zy(n.duration)),null!=n.delay&&(r.delay=Zy(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ub(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ub(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Vb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Bb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Rb,"."+this._enterClassName)).replace(Mb,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class qb{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Nb,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||gy,this._currentKeyframe[t]=gy}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=gy}):eb(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=ub(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:gy),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=eb(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==wy?t.add(n):r==gy&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?cb(t.values()):[],o=e.size?cb(e.values()):[];if(n){const t=r[0],e=tb(t);t.offset=0,e.offset=1,r=[t,e]}return Db(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Bb extends qb{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,l=eb(t[0],!1);l.offset=0,i.push(l);const a=eb(t[0],!1);a.offset=jb(s),i.push(a);const u=t.length-1;for(let r=1;r<=u;r++){let s=eb(t[r],!1);s.offset=jb((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Db(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function jb(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class zb{}class Hb extends zb{normalizePropertyName(t,e){return db(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Wb[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Wb=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Kb(t,e,n,r,i,o,s,l,a,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:l,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const Gb={};class Qb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,l,a,u){const c=[],h=this.ast.options&&this.ast.options.params||Gb,d=this.buildStyles(n,s&&s.params||Gb,c),p=l&&l.params||Gb,f=this.buildStyles(r,p,c),g=new Set,m=new Map,v=new Map,y="void"===r,b={params:Object.assign({},h,p)},_=u?[]:Lb(t,e,this.ast.animation,i,o,d,f,b,a,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Kb(e,this._triggerName,n,r,y,d,f,[],[],m,v,w,c);_.forEach(t=>{const n=t.element,r=xy(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=xy(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=cb(g.values());return Kb(e,this._triggerName,n,r,y,d,f,_,C,m,v,w)}}class Yb{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=tb(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=ub(o,r,e)),n[t]=o})}}),n}}class Xb{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Yb(t.style,t.options&&t.options.params||{})}),Zb(this.states,"true","1"),Zb(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Qb(t,e,this.states))}),this.fallbackTransition=new Qb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Zb(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const $b=new Ob;class Jb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Sb(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Sy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Lb(this._driver,e,i,Wy,Ky,{},{},n,$b,r)).forEach(t=>{const e=xy(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,gy)})});const l=Ey(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=ky(e,"","","");return Iy(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const t_="ng-animate-queued",e_=".ng-animate-queued",n_="ng-animate-disabled",r_=".ng-animate-disabled",i_="ng-star-inserted",o_=".ng-star-inserted",s_=[],l_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},u_="__ng_removed";class c_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=tb(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const h_="void",d_=new c_(h_);class p_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,w_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=xy(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const l=xy(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(w_(t,Gy),w_(t,Gy+"-"+e),l[e]=d_),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new g_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(w_(t,Gy),w_(t,Gy+"-"+e),this._engine.statesByElement.set(t,s={}));let l=s[e];const a=new c_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),s[e]=a,l||(l=d_),a.value!==h_&&l.value===a.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(l.params,a.params)){const e=[],n=i.matchStyles(l.value,l.params,e),r=i.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ob(t,n),ib(t,r)})}return}const u=xy(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(l.value,a.value,t,a.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:l,toState:a,player:o,isFallbackTransition:h}),h||(w_(t,t_),o.onStart(()=>{C_(t,t_)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Qy,!0).forEach(t=>{if(t[u_])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,h_,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ey(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||d_,s=new c_(h_),l=new g_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){w_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=ky(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Iy(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class f_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new p_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(m_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!m_(e))return;const i=e[u_];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),w_(t,n_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),C_(t,n_))}removeNode(t,e,n,r){if(m_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[u_]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return m_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Qy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xy,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ey(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[u_];if(e&&e.setForRemoval){if(t[u_]=l_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,r_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,r_,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)w_(this.collectedEnterElements[n],i_);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ey(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ob,r=[],i=new Map,o=[],s=new Map,l=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,e_,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=b_(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Wy+f++;p.set(e,n),t.forEach(t=>w_(t,n))});const g=[],m=new Set,v=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t[u_];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,o_,!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,b=b_(h,Array.from(m));b.forEach((t,e)=>{const n=Ky+f++;y.set(e,n),t.forEach(t=>w_(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>C_(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>C_(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[u_];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=y.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>ob(i,f.fromStyles)),e.onDestroy(()=>ib(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>ob(i,f.fromStyles)),e.onDestroy(()=>ib(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>xy(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=a.get(e);r||a.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{xy(C,e,[]).push(t),t.destroy()})});const S=g.filter(t=>S_(t,l,a)),I=new Map;y_(I,this.driver,v,a,gy).forEach(t=>{S_(t,l,a)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{y_(T,this.driver,new Set(t),l,wy)}),S.forEach(t=>{const e=I.get(t),n=T.get(t);I.set(t,Object.assign({},e,n))});const k=[],x=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>ib(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,T,I);if(o.setRealPlayer(n),t===A)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Ey(e)),r.push(o)}}else ob(e,s.fromStyles),o.onDestroy(()=>ib(e,s.toStyles)),x.push(o),u.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ey(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t[u_];if(C_(t,Ky),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Xy,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?E_(this,t,r):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e[u_];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==h_;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,l=t!==r,a=xy(n,t,[]);this._getPreviousPlayers(t,l,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}ob(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,l=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[u_];if(d&&d.removedBeforeQueried)return new by(e.duration,e.delay);const p=h!==l,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof _y?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||s_).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),v=Sy(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,f);if(e.subTimeline&&r&&c.add(h),p){const e=new g_(t,s,h);e.setRealPlayer(y),a.push(e)}return y});a.forEach(t=>{xy(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>w_(t,Yy));const d=Ey(h);return d.onDestroy(()=>{u.forEach(t=>C_(t,Yy)),ib(l,e.toStyles)}),c.forEach(t=>{xy(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new by(t.duration,t.delay)}}class g_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new by,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Iy(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xy(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function m_(t){return t&&1===t.nodeType}function v_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function y_(t,e,n,r,i){const o=[];n.forEach(t=>o.push(v_(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[u_]=a_,s.push(r))}),t.set(r,o)});let l=0;return n.forEach(t=>v_(t,o[l++])),s}function b_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const __="$$classes";function w_(t,e){if(t.classList)t.classList.add(e);else{let n=t[__];n||(n=t[__]={}),n[e]=!0}}function C_(t,e){if(t.classList)t.classList.remove(e);else{let n=t[__];n&&delete n[e]}}function E_(t,e,n){Ey(n).onDone(()=>t.processLeaveNode(e))}function S_(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class I_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new f_(t,e,n),this._timelineEngine=new Jb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Sb(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Xb(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ay(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ay(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function T_(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=x_(e[0]),e.length>1&&(r=x_(e[e.length-1]))):e&&(n=x_(e)),n||r?new k_(t,n,r):null}let k_=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ib(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ib(this._element,this._initialStyles),this._endStyles&&(ib(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ob(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ob(this._element,this._endStyles),this._endStyles=null),ib(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function x_(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];A_(i)&&((e=e||{})[i]=t[i])}return e}function A_(t){return"display"===t||"position"===t}const P_=3,D_="animation",O_="animationend",N_=1e3;class R_{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=q_(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),U_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),V_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){M_(this._element,this._name,"paused")}resume(){M_(this._element,this._name,"running")}setPosition(t){const e=L_(this._element,this._name);this._position=t*this._duration,U_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(P_))*N_;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),V_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=q_(t,"").split(","),r=F_(n,e);r>=0&&(n.splice(r,1),U_(t,"",n.join(",")))}(this._element,this._name))}}function M_(t,e,n){U_(t,"PlayState",n,L_(t,e))}function L_(t,e){const n=q_(t,"");return n.indexOf(",")>0?F_(n.split(","),e):F_([n],e)}function F_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function V_(t,e,n){n?t.removeEventListener(O_,e):t.addEventListener(O_,e)}function U_(t,e,n,r){const i=D_+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function q_(t,e){return t.style[D_+e]}const B_="forwards",j_="linear";class z_{constructor(t,e,n,r,i,o,s,l){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||j_,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new R_(this.element,this.animationName,this._duration,this._delay,this.easing,B_,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:mb(this.element,n))})}this.currentSnapshot=t}}class H_ extends by{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=qy(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const W_="gen_css_kf_",K_=" ";class G_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ly(t)}matchesElement(t,e){return Fy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Uy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>qy(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=K_;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=K_,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const l=o.filter(t=>t instanceof z_),a={};pb(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=fb(t,e,a));if(0==n)return new H_(t,u);const c=`${W_}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=T_(t,e),p=new z_(t,e,c,n,r,i,u,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Q_{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Y_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(X_().toString()),this._cssKeyframesDriver=new G_}validateStyleProperty(t){return Ly(t)}matchesElement(t,e){return Fy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Uy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const l={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(l.easing=i);const a={},u=o.filter(t=>t instanceof Q_);pb(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=T_(t,e=fb(t,e=e.map(t=>eb(t,!1)),a));return new Q_(t,e,l,c)}}function X_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Z_ extends py{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Wt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?my(t):t;return tw(this._renderer,null,e,"register",[n]),new $_(e,this._renderer)}}class $_ extends fy{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new J_(this._id,t,e||{},this._renderer)}}class J_{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function tw(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ew="@",nw="@.disabled";class rw{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new iw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new ow(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class iw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ew&&e==nw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ow extends iw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ew?"."==e.charAt(1)&&e==nw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ew){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=ew&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class sw extends I_{constructor(t,e,n){super(t.body,e,n)}}function lw(){return"function"==typeof X_()?new Y_:new G_}function aw(){return new Hb}function uw(t,e,n){return new rw(t,e,n)}const cw=new St("AnimationModuleType");class hw{}var dw=Dr({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function pw(t){return Xs(0,[(t()(),Ds(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,"mat-progress-spinner-stroke-rotate-"+n.diameter,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function fw(t){return Xs(0,[(t()(),Ds(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function gw(t){return Xs(2,[(t()(),Ds(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),Bi(1,16384,null,0,oh,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Ps(16777216,null,null,1,null,pw)),Bi(3,278528,null,0,sh,[dr,cr,oh],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ps(16777216,null,null,1,null,fw)),Bi(5,278528,null,0,sh,[dr,cr,oh],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,1,0,"indeterminate"===e.component.mode),t(e,3,0,!0),t(e,5,0,!1)}),(function(t,e){var n=e.component;t(e,0,0,n.diameter,n.diameter,n._viewBox)}))}function mw(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let l=0;l<r;l++){const a=B(t[l]);let u=!1;n.add(a.subscribe({next:t=>{u||(u=!0,s++),i[l]=t},error:t=>n.error(t),complete:()=>{++o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const vw=new St("NgValueAccessor"),yw=new St("CompositionEventMode");class bw{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=qd()?qd().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class _w{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ww extends _w{get formDirective(){return null}get path(){return null}}function Cw(){throw new Error("unimplemented")}class Ew extends _w{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Cw()}get asyncValidator(){return Cw()}}class Sw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Iw extends Sw{constructor(t){super(t)}}class Tw extends Sw{constructor(t){super(t)}}function kw(t){return null==t||0===t.length}const xw=new St("NgValidators"),Aw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pw{static min(t){return e=>{if(kw(e.value)||kw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(kw(e.value)||kw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return kw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return kw(t.value)?null:Aw.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(kw(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Pw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(kw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Dw);return 0==e.length?null:function(t){return Nw(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Dw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(a(e))return mw(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return mw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return mw(t=1===t.length&&a(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return mw(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Ow)).pipe(F(Nw))}}}function Dw(t){return null!=t}function Ow(t){const e=xn(t)?B(t):t;if(!An(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Nw(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Rw(t){return t.validate?e=>t.validate(e):t}function Mw(t){return t.validate?e=>t.validate(e):t}class Lw{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Fw={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Vw{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Fw.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Fw.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Fw.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Fw.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Fw.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Fw.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Uw(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class qw{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=En}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Uw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class Bw{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Uw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function jw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class zw{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(jw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Hw(t,e){return[...e.path,t]}function Ww(t,e){t||Yw(e,"Cannot find control with"),e.valueAccessor||Yw(e,"No value accessor for form control with"),t.validator=Pw.compose([t.validator,e.validator]),t.asyncValidator=Pw.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Kw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Kw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Kw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gw(t,e){null==t&&Yw(e,"Cannot find control with"),t.validator=Pw.compose([t.validator,e.validator]),t.asyncValidator=Pw.composeAsync([t.asyncValidator,e.asyncValidator])}function Qw(t){return Yw(t,"There is no FormControl instance attached to form control element with")}function Yw(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Xw(t){return null!=t?Pw.compose(t.map(Rw)):null}function Zw(t){return null!=t?Pw.composeAsync(t.map(Mw)):null}const $w=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},qw,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=En}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ew),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Jw="VALID",tC="INVALID",eC="PENDING",nC="DISABLED";function rC(t){const e=oC(t)?t.validators:t;return Array.isArray(e)?Xw(e):e||null}function iC(t,e){const n=oC(e)?e.asyncValidators:t;return Array.isArray(n)?Zw(n):n||null}function oC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class sC{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Jw}get invalid(){return this.status===tC}get pending(){return this.status==eC}get disabled(){return this.status===nC}get enabled(){return this.status!==nC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=rC(t)}setAsyncValidators(t){this.asyncValidator=iC(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=eC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jw,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Jw&&this.status!==eC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nC:Jw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=eC;const e=Ow(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof aC?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof uC&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new po,this.statusChanges=new po}_calculateStatus(){return this._allControlsDisabled()?nC:this.errors?tC:this._anyControlsHaveStatus(eC)?eC:this._anyControlsHaveStatus(tC)?tC:Jw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class lC extends sC{constructor(t=null,e,n){super(rC(e),iC(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class aC extends sC{constructor(t,e,n){super(rC(e),iC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof lC?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class uC extends sC{constructor(t,e,n){super(rC(e),iC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof lC?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}class cC extends ww{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Hw(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Xw(this._validators)}get asyncValidator(){return Zw(this._asyncValidators)}_checkParentType(){}}class hC{}const dC=new St("NgModelWithFormControlWarning");class pC extends ww{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new po}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ww(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Gw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Gw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Qw(e)),e.valueAccessor.registerOnTouched(()=>Qw(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Ww(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Xw(this._validators);this.form.validator=Pw.compose([this.form.validator,t]);const e=Zw(this._asyncValidators);this.form.asyncValidator=Pw.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Vw.missingFormException()}}class fC extends cC{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){mC(this._parent)&&Vw.groupParentException()}}class gC extends ww{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Hw(this.name,this._parent)}get validator(){return Xw(this._validators)}get asyncValidator(){return Zw(this._asyncValidators)}_checkParentType(){mC(this._parent)&&Vw.arrayParentException()}}function mC(t){return!(t instanceof fC||t instanceof pC||t instanceof gC)}let vC=(()=>{class t extends Ew{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new po,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Yw(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===bw?n=e:function(t){return $w.some(e=>t.constructor===e)}(e)?(r&&Yw(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Yw(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Yw(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){Vw.disabledAttrWarning()}ngOnChanges(e){var n,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!En(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,r=this._ngModelWarningConfig,ne()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Vw.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hw(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Xw(this._rawValidators)}get asyncValidator(){return Zw(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof fC)&&this._parent instanceof cC?Vw.ngModelGroupException():this._parent instanceof fC||this._parent instanceof pC||this._parent instanceof gC||Vw.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class yC{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Pw.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class bC{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pw.minLength(parseInt(this.minlength,10))}}class _C{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pw.maxLength(parseInt(this.maxlength,10))}}class wC{}class CC{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new aC(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new lC(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new uC(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof lC||t instanceof aC||t instanceof uC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class EC{static withConfig(t){return{ngModule:EC,providers:[{provide:dC,useValue:t.warnOnNgModelWithFormControl}]}}}class SC{constructor(t,e){this.authService=t,this.router=e,this.signInForm=new aC({email:new lC("",[Pw.required,Pw.email]),password:new lC("")}),this.signInFormIsDirty=!1,this.signInFormWrogCredentials=!1,this.signInFormLoggingNow=!1}ngOnInit(){}get getFormFieldRef(){return this.signInForm.controls}signInUser(){this.signInFormLoggingNow=!0,this.signInFormIsDirty=!0,this.signInFormWrogCredentials=!1,""!==this.signInForm.value.email&&""!==this.signInForm.value.password&&this.authService.signInUser(this.signInForm.value.email,this.signInForm.value.password).then(t=>{this.signInFormLoggingNow=!1,this.router.navigate(["/dashboard"])},t=>{this.signInFormLoggingNow=!1,this.signInFormWrogCredentials=!0})}changePassword(){this.router.navigate(["/resetPassword"])}registerUser(){this.router.navigate(["/signup"])}}var IC=Dr({encapsulation:0,styles:[[".sign-in-container[_ngcontent-%COMP%]{background:#1d2531;display:flex;align-items:center;height:100vh;margin:0;width:100%;top:initial;left:initial;justify-content:center;flex-direction:column}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]{text-align:center;display:inline-block;width:400px;height:400px;background:#fff;padding:30px;border-radius:10px;display:flex;align-items:center;margin:0;top:initial;left:initial;justify-content:center;flex-direction:column}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;width:100%}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:100%}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;text-align:left;display:block;padding:10px 0}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;margin-top:5px}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.7rem;margin-bottom:0}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60%;font-size:1rem;margin:10px 0}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#1d2531e8}.sign-in-container[_ngcontent-%COMP%]   .sign-in-form-container[_ngcontent-%COMP%]   .forgotten-password-container[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-decoration:underline;cursor:pointer}.sign-in-form-loading[_ngcontent-%COMP%]{padding:10px}.sign-in-form-loading[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.sign-in-form-loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .sign-in-form-loading[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#1d2531}"]],data:{}});function TC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is required. "]))],null,null)}function kC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is wrong. "]))],null,null)}function xC(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,TC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,kC)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,""===xi(e.parent,11).value&&n.getFormFieldRef.email.errors.required),t(e,4,0,""!==xi(e.parent,11).value&&n.getFormFieldRef.email.errors.email)}),null)}function AC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Password is required. "]))],null,null)}function PC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,AC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.password.errors.required)}),null)}function DC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","sign-in-form-loading"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function OC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Invalid email or password! "]))],null,null)}function NC(t){return Xs(0,[(t()(),Ds(0,0,null,null,44,"div",[["class","sign-in-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,43,"div",[["class","sign-in-form-container"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Sign in to uour account"])),(t()(),Ds(4,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==xi(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==xi(t,6).onReset()&&r),r}),null,null)),Bi(5,16384,null,0,hC,[],null,null),Bi(6,540672,null,0,pC,[[8,null],[8,null]],{form:[0,"form"]},null),zi(2048,null,ww,null,[pC]),Bi(8,16384,null,0,Tw,[[4,ww]],null,null),(t()(),Ds(9,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Email: "])),(t()(),Ds(11,0,[["email",1]],null,7,"input",[["class","form-control"],["formControlName","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,12)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,12).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,12)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,12)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(12,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(13,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(16,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(18,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,xC)),Bi(20,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(21,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Password: "])),(t()(),Ds(23,0,null,null,7,"input",[["class","form-control"],["formControlName","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,24)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(24,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(25,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(28,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(30,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,PC)),Bi(32,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(33,0,null,null,1,"button",[["class","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signInUser()&&r),r}),null,null)),(t()(),Gs(-1,null,["Sign In"])),(t()(),Ps(16777216,null,null,1,null,DC)),Bi(36,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,OC)),Bi(38,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(39,0,null,null,2,"div",[["class","forgotten-password-container"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePassword()&&r),r}),null,null)),(t()(),Ds(40,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Forget your password?"])),(t()(),Ds(42,0,null,null,2,"div",[["class","forgotten-password-container"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.registerUser()&&r),r}),null,null)),(t()(),Ds(43,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Don't have an account? Sign up here"]))],(function(t,e){var n=e.component;t(e,6,0,n.signInForm),t(e,13,0,""),t(e,16,0,"email"),t(e,20,0,n.getFormFieldRef.email.invalid&&(n.getFormFieldRef.email.dirty||n.getFormFieldRef.email.touched||n.signInFormIsDirty)),t(e,25,0,""),t(e,28,0,"password"),t(e,32,0,n.getFormFieldRef.password.invalid&&(n.getFormFieldRef.password.dirty||n.getFormFieldRef.password.touched||n.signInFormIsDirty)),t(e,36,0,n.signInFormLoggingNow),t(e,38,0,n.signInFormWrogCredentials)}),(function(t,e){var n=e.component;t(e,4,0,xi(e,8).ngClassUntouched,xi(e,8).ngClassTouched,xi(e,8).ngClassPristine,xi(e,8).ngClassDirty,xi(e,8).ngClassValid,xi(e,8).ngClassInvalid,xi(e,8).ngClassPending),t(e,11,0,xi(e,13).required?"":null,xi(e,18).ngClassUntouched,xi(e,18).ngClassTouched,xi(e,18).ngClassPristine,xi(e,18).ngClassDirty,xi(e,18).ngClassValid,xi(e,18).ngClassInvalid,xi(e,18).ngClassPending),t(e,23,0,xi(e,25).required?"":null,xi(e,30).ngClassUntouched,xi(e,30).ngClassTouched,xi(e,30).ngClassPristine,xi(e,30).ngClassDirty,xi(e,30).ngClassValid,xi(e,30).ngClassInvalid,xi(e,30).ngClassPending),t(e,33,0,""===n.getFormFieldRef.email.value||""===n.getFormFieldRef.password.value||n.getFormFieldRef.email.errors||n.signInFormLoggingNow?"disabled":"")}))}function RC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-sign-in",[],null,null,null,NC,IC)),Bi(1,114688,null,0,SC,[Yh,_m],null,null)],(function(t,e){t(e,1,0)}),null)}var MC=vi("app-sign-in",SC,RC,{},{},[]);class LC{constructor(t,e){this.authService=t,this.router=e,this.signUpForm=new aC({email:new lC("",[Pw.required,Pw.email]),password:new lC(""),firstName:new lC(""),lastName:new lC("")}),this.signUpFormIsDirty=!1,this.signUpFormWrong=!1,this.signUpFormLoadingNow=!1,this.signUpFormSuccess=!1}get getFormFieldRef(){return this.signUpForm.controls}ngOnInit(){}signUpUser(){this.signUpFormLoadingNow=!0,this.signUpFormIsDirty=!0,this.signUpFormWrong=!1,this.signUpFormSuccess=!1,""!==this.signUpForm.value.email&&""!==this.signUpForm.value.password&&this.authService.signUpUserWithNODEJS(this.signUpForm.value.email,this.signUpForm.value.password,this.signUpForm.value.firstName,this.signUpForm.value.lastName,"admin","/assets/img/user-avatar.png").then(t=>{console.log("result",t),this.authService.signInUser(this.signUpForm.value.email,this.signUpForm.value.password).then(t=>{this.signUpFormLoadingNow=!1,this.signUpFormSuccess=!0,setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)},t=>{this.signUpFormLoadingNow=!1,this.signUpFormWrong=!0})},t=>{console.log("error",t),this.signUpFormLoadingNow=!1,this.signUpFormWrong=!0})}openSignIn(){this.router.navigate(["/signin"])}}var FC=Dr({encapsulation:0,styles:[[".sign-up-container[_ngcontent-%COMP%]{background:#1d2531;display:flex;align-items:center;height:100vh;margin:0;width:100%;top:initial;left:initial;justify-content:center;flex-direction:column}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]{text-align:center;display:inline-block;min-width:400px;min-height:400px;background:#fff;padding:30px;border-radius:10px;display:flex;align-items:center;margin:0;top:initial;left:initial;justify-content:center;flex-direction:column}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;width:100%}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:100%}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;text-align:left;display:block;padding:10px 0}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;margin-top:5px}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.7rem;margin-bottom:0}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60%;font-size:1rem;margin:10px 0}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#1d2531e8}.sign-up-container[_ngcontent-%COMP%]   .sign-up-form-container[_ngcontent-%COMP%]   .sign-up-footer-container[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-decoration:underline;cursor:pointer}.sign-up-container[_ngcontent-%COMP%]   .alert_message_success[_ngcontent-%COMP%]{width:100%;font-size:.9rem!important}.sign-up-form-loading[_ngcontent-%COMP%]{padding:10px}.sign-up-form-loading[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.sign-up-form-loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .sign-up-form-loading[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#1d2531}"]],data:{}});function VC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is required. "]))],null,null)}function UC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is wrong. "]))],null,null)}function qC(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,VC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,UC)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,""===xi(e.parent,11).value&&n.getFormFieldRef.email.errors.required),t(e,4,0,""!==xi(e.parent,11).value&&n.getFormFieldRef.email.errors.email)}),null)}function BC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Password is required. "]))],null,null)}function jC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,BC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.password.errors.required)}),null)}function zC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" First name is required. "]))],null,null)}function HC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,zC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.firstName.errors.required)}),null)}function WC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Last name is required. "]))],null,null)}function KC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,WC)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.lastName.errors.required)}),null)}function GC(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","sign-up-form-loading"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function QC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Someting went wrong! Please try again. "]))],null,null)}function YC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","alert alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Sign up successfully! "]))],null,null)}function XC(t){return Xs(0,[(t()(),Ds(0,0,null,null,67,"div",[["class","sign-up-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,66,"div",[["class","sign-up-form-container"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Sign up"])),(t()(),Ds(4,0,null,null,60,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==xi(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==xi(t,6).onReset()&&r),r}),null,null)),Bi(5,16384,null,0,hC,[],null,null),Bi(6,540672,null,0,pC,[[8,null],[8,null]],{form:[0,"form"]},null),zi(2048,null,ww,null,[pC]),Bi(8,16384,null,0,Tw,[[4,ww]],null,null),(t()(),Ds(9,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Email: "])),(t()(),Ds(11,0,[["email",1]],null,7,"input",[["class","form-control"],["formControlName","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,12)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,12).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,12)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,12)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(12,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(13,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(16,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(18,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,qC)),Bi(20,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(21,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Password: "])),(t()(),Ds(23,0,null,null,7,"input",[["class","form-control"],["formControlName","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,24)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(24,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(25,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(28,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(30,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,jC)),Bi(32,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(33,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["First Name: "])),(t()(),Ds(35,0,null,null,7,"input",[["class","form-control"],["formControlName","firstName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,36)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,36).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,36)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,36)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(36,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(37,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(40,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(42,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,HC)),Bi(44,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(45,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Last Name: "])),(t()(),Ds(47,0,null,null,7,"input",[["class","form-control"],["formControlName","lastName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,48)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,48).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,48)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,48)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(48,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(49,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(52,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(54,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,KC)),Bi(56,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(57,0,null,null,1,"button",[["class","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signUpUser()&&r),r}),null,null)),(t()(),Gs(-1,null,["Sign up"])),(t()(),Ps(16777216,null,null,1,null,GC)),Bi(60,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,QC)),Bi(62,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,YC)),Bi(64,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(65,0,null,null,2,"div",[["class","sign-up-footer-container"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openSignIn()&&r),r}),null,null)),(t()(),Ds(66,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Already have an account? Sign In"]))],(function(t,e){var n=e.component;t(e,6,0,n.signUpForm),t(e,13,0,""),t(e,16,0,"email"),t(e,20,0,n.getFormFieldRef.email.invalid&&(n.getFormFieldRef.email.dirty||n.getFormFieldRef.email.touched||n.signUpFormIsDirty)),t(e,25,0,""),t(e,28,0,"password"),t(e,32,0,n.getFormFieldRef.password.invalid&&(n.getFormFieldRef.password.dirty||n.getFormFieldRef.password.touched||n.signUpFormIsDirty)),t(e,37,0,""),t(e,40,0,"firstName"),t(e,44,0,n.getFormFieldRef.firstName.invalid&&(n.getFormFieldRef.firstName.dirty||n.getFormFieldRef.firstName.touched||n.signUpFormIsDirty)),t(e,49,0,""),t(e,52,0,"lastName"),t(e,56,0,n.getFormFieldRef.lastName.invalid&&(n.getFormFieldRef.lastName.dirty||n.getFormFieldRef.lastName.touched||n.signUpFormIsDirty)),t(e,60,0,n.signUpFormLoadingNow),t(e,62,0,n.signUpFormWrong),t(e,64,0,n.signUpFormSuccess)}),(function(t,e){var n=e.component;t(e,4,0,xi(e,8).ngClassUntouched,xi(e,8).ngClassTouched,xi(e,8).ngClassPristine,xi(e,8).ngClassDirty,xi(e,8).ngClassValid,xi(e,8).ngClassInvalid,xi(e,8).ngClassPending),t(e,11,0,xi(e,13).required?"":null,xi(e,18).ngClassUntouched,xi(e,18).ngClassTouched,xi(e,18).ngClassPristine,xi(e,18).ngClassDirty,xi(e,18).ngClassValid,xi(e,18).ngClassInvalid,xi(e,18).ngClassPending),t(e,23,0,xi(e,25).required?"":null,xi(e,30).ngClassUntouched,xi(e,30).ngClassTouched,xi(e,30).ngClassPristine,xi(e,30).ngClassDirty,xi(e,30).ngClassValid,xi(e,30).ngClassInvalid,xi(e,30).ngClassPending),t(e,35,0,xi(e,37).required?"":null,xi(e,42).ngClassUntouched,xi(e,42).ngClassTouched,xi(e,42).ngClassPristine,xi(e,42).ngClassDirty,xi(e,42).ngClassValid,xi(e,42).ngClassInvalid,xi(e,42).ngClassPending),t(e,47,0,xi(e,49).required?"":null,xi(e,54).ngClassUntouched,xi(e,54).ngClassTouched,xi(e,54).ngClassPristine,xi(e,54).ngClassDirty,xi(e,54).ngClassValid,xi(e,54).ngClassInvalid,xi(e,54).ngClassPending),t(e,57,0,""===n.getFormFieldRef.email.value||n.getFormFieldRef.email.errors||n.getFormFieldRef.firstName.errors||n.getFormFieldRef.lastName.errors||n.signUpFormLoadingNow?"disabled":"")}))}function ZC(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-sign-up",[],null,null,null,XC,FC)),Bi(1,114688,null,0,LC,[Yh,_m],null,null)],(function(t,e){t(e,1,0)}),null)}var $C=vi("app-sign-up",LC,ZC,{},{},[]);class JC{constructor(t,e){this.authService=t,this.router=e,this.resetPasswordForm=new aC({email:new lC("",[Pw.required,Pw.email])}),this.resetPasswordFormIsDirty=!1,this.resetPasswordFormWrong=!1,this.resetPasswordFormLoadingNow=!1,this.resetPasswordFormSuccess=!1}ngOnInit(){}get getFormFieldRef(){return this.resetPasswordForm.controls}resetUserPassword(){this.resetPasswordFormLoadingNow=!0,this.resetPasswordFormIsDirty=!0,this.resetPasswordFormWrong=!1,this.resetPasswordFormSuccess=!1,""!==this.resetPasswordForm.value.email&&this.authService.sendPasswordResetEmail(this.resetPasswordForm.value.email).then(t=>{this.resetPasswordFormLoadingNow=!1,this.resetPasswordFormSuccess=!0,setTimeout(()=>{this.router.navigate(["/signin"])},3e3)},t=>{this.resetPasswordFormLoadingNow=!1,this.resetPasswordFormWrong=!0})}openSignIn(){this.router.navigate(["/signin"])}}var tE=Dr({encapsulation:0,styles:[[".reset-password-container[_ngcontent-%COMP%]{background:#1d2531;display:flex;align-items:center;height:100vh;margin:0;width:100%;top:initial;left:initial;justify-content:center;flex-direction:column}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]{text-align:center;display:inline-block;width:400px;height:400px;background:#fff;padding:30px;border-radius:10px;display:flex;align-items:center;margin:0;top:initial;left:initial;justify-content:center;flex-direction:column}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;width:100%}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 0;width:100%}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;text-align:left;display:block;padding:10px 0}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;margin-top:5px}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.7rem;margin-bottom:0}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60%;font-size:1rem;margin:10px 0}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#1d2531e8}.reset-password-container[_ngcontent-%COMP%]   .reset-password-form-container[_ngcontent-%COMP%]   .reset-password-footer-container[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-decoration:underline;cursor:pointer}.reset-password-container[_ngcontent-%COMP%]   .alert_message_success[_ngcontent-%COMP%]{width:100%;font-size:.9rem!important}.reset-password-form-loading[_ngcontent-%COMP%]{padding:10px}.reset-password-form-loading[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.reset-password-form-loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .reset-password-form-loading[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#1d2531}"]],data:{}});function eE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is required. "]))],null,null)}function nE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Email is wrong. "]))],null,null)}function rE(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,eE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,nE)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,""===xi(e.parent,11).value&&n.getFormFieldRef.email.errors.required),t(e,4,0,""!==xi(e.parent,11).value&&n.getFormFieldRef.email.errors.email)}),null)}function iE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","reset-password-form-loading"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function oE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Someting went wrong! Please try again. "]))],null,null)}function sE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","alert alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Reset email was sent successfully! "]))],null,null)}function lE(t){return Xs(0,[(t()(),Ds(0,0,null,null,31,"div",[["class","reset-password-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,30,"div",[["class","reset-password-form-container"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Reset your account password"])),(t()(),Ds(4,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==xi(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==xi(t,6).onReset()&&r),r}),null,null)),Bi(5,16384,null,0,hC,[],null,null),Bi(6,540672,null,0,pC,[[8,null],[8,null]],{form:[0,"form"]},null),zi(2048,null,ww,null,[pC]),Bi(8,16384,null,0,Tw,[[4,ww]],null,null),(t()(),Ds(9,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Email: "])),(t()(),Ds(11,0,[["email",1]],null,7,"input",[["class","form-control"],["formControlName","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,12)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,12).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,12)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,12)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(12,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(13,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(16,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(18,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,rE)),Bi(20,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(21,0,null,null,1,"button",[["class","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetUserPassword()&&r),r}),null,null)),(t()(),Gs(-1,null,["Reset password"])),(t()(),Ps(16777216,null,null,1,null,iE)),Bi(24,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,oE)),Bi(26,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,sE)),Bi(28,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(29,0,null,null,2,"div",[["class","reset-password-footer-container"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openSignIn()&&r),r}),null,null)),(t()(),Ds(30,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Sign In"]))],(function(t,e){var n=e.component;t(e,6,0,n.resetPasswordForm),t(e,13,0,""),t(e,16,0,"email"),t(e,20,0,n.getFormFieldRef.email.invalid&&(n.getFormFieldRef.email.dirty||n.getFormFieldRef.email.touched||n.resetPasswordFormIsDirty)),t(e,24,0,n.resetPasswordFormLoadingNow),t(e,26,0,n.resetPasswordFormWrong),t(e,28,0,n.resetPasswordFormSuccess)}),(function(t,e){var n=e.component;t(e,4,0,xi(e,8).ngClassUntouched,xi(e,8).ngClassTouched,xi(e,8).ngClassPristine,xi(e,8).ngClassDirty,xi(e,8).ngClassValid,xi(e,8).ngClassInvalid,xi(e,8).ngClassPending),t(e,11,0,xi(e,13).required?"":null,xi(e,18).ngClassUntouched,xi(e,18).ngClassTouched,xi(e,18).ngClassPristine,xi(e,18).ngClassDirty,xi(e,18).ngClassValid,xi(e,18).ngClassInvalid,xi(e,18).ngClassPending),t(e,21,0,""===n.getFormFieldRef.email.value||n.getFormFieldRef.email.errors||n.resetPasswordFormLoadingNow?"disabled":"")}))}function aE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-reset-password",[],null,null,null,lE,tE)),Bi(1,114688,null,0,JC,[Yh,_m],null,null)],(function(t,e){t(e,1,0)}),null)}var uE=vi("app-reset-password",JC,aE,{},{},[]);class cE{constructor(){}ngOnInit(){}}var hE=Dr({encapsulation:0,styles:[[""]],data:{}});function dE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["my-profile works!"]))],null,null)}function pE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-my-profile",[],null,null,null,dE,hE)),Bi(1,114688,null,0,cE,[],null,null)],(function(t,e){t(e,1,0)}),null)}var fE=vi("app-my-profile",cE,pE,{},{},[]);class gE{constructor(){}ngOnInit(){}}var mE=Dr({encapsulation:0,styles:[[".dashboard-main-container[_ngcontent-%COMP%]{height:calc(100vh - 150px);text-align:center;display:flex;align-items:center;justify-content:center}.dashboard-main-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.dashboard-main-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}"]],data:{}});function vE(t){return Xs(0,[(t()(),Ds(0,0,null,null,5,"div",[["class","dashboard-main-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"div",[["class","inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Welcome to"])),(t()(),Ds(4,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ds(5,0,null,null,0,"img",[["alt","eventSystem"],["src","../../../../assets/img/logo_transparent_blue.png"]],null,null,null,null,null))],null,null)}function yE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-dashboard",[],null,null,null,vE,mE)),Bi(1,114688,null,0,gE,[],null,null)],(function(t,e){t(e,1,0)}),null)}var bE=vi("app-dashboard",gE,yE,{},{},[]);class _E{constructor(t){this.dataService=t,this.showCreateEventModal=!1,this.newEventAdded=new po,this.newEventForm=new aC({eventTitle:new lC(""),eventDescription:new lC(""),eventCode:new lC(""),eventStartDate:new lC(""),eventEndDate:new lC(""),eventType:new lC("Single")}),this.formIsDirty=!1,this.eventCodeAlreadyExist=!1,this.eventCreatedSuccessfullyAlertVisibility=!1}toggleModal(){this.showCreateEventModal&&(this.newEventForm.reset(),this.formIsDirty=!1),this.showCreateEventModal=!this.showCreateEventModal}onCreateEvent(){this.formIsDirty=!0,this.newEventForm.invalid||this.newEventForm.valid&&this.dataService.createNewEvent({event_code:this.newEventForm.value.eventCode,event_type:this.newEventForm.value.eventType,is_published:!1,title:this.newEventForm.value.eventTitle,description:this.newEventForm.value.eventDescription,start_date:this.newEventForm.value.eventStartDate,end_date:this.newEventForm.value.eventEndDate,signIn:!1,signUp:!1,event_languages:["ENGLISH","GERMAN"],event_default_lang:"ENGLISH",event_lang:"ENGLISH",custom_css:"",custom_js:""}).then(t=>{this.newEventForm.reset(),this.formIsDirty=!1,this.eventCodeAlreadyExist=!1,this.showCreateEventModal=!this.showCreateEventModal,this.showCreateSuccessfullyMessage(),this.newEventAdded.emit(!0)},t=>{console.log("error",t),this.eventCodeAlreadyExist=!0})}showCreateSuccessfullyMessage(){this.eventCreatedSuccessfullyAlertVisibility=!0,setTimeout(()=>{this.eventCreatedSuccessfullyAlertVisibility=!1},5e3)}get getFormFieldRef(){return this.newEventForm.controls}ngOnInit(){}}var wE=Dr({encapsulation:0,styles:[[".events_list_actions_container[_ngcontent-%COMP%]{width:100%;padding:10px 0;text-align:right}.events_list_actions_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background-color:#1d2531;color:#fff;padding:10px;border:none;border-radius:5px}.events_list_actions_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#25303f}.events_list_header_row_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:0;margin-bottom:0;width:100%;color:#424951;background-color:#d1d8e0;font-size:.8rem;transition:.3s all ease}.events_list_header_row_container[_ngcontent-%COMP%]   .list_item_header_col[_ngcontent-%COMP%]{border:1px solid #e6eeee;padding:10px}#add_new_event_modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:.5rem}#add_new_event_modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #add_new_event_modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], #add_new_event_modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}"]],data:{}});function CE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event was ceated successfully!"]))],null,null)}function EE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event title is required. "]))],null,null)}function SE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,EE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.eventTitle.errors.required)}),null)}function IE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event description is required. "]))],null,null)}function TE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,IE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.eventDescription.errors.required)}),null)}function kE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event type is required. "]))],null,null)}function xE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,kE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.eventType.errors.required)}),null)}function AE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event code is required. "]))],null,null)}function PE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event code must be 6 characters long. "]))],null,null)}function DE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event code has already exist. Please enter another event code. "]))],null,null)}function OE(t){return Xs(0,[(t()(),Ds(0,0,null,null,6,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,AE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,PE)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,DE)),Bi(6,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,null==n.getFormFieldRef.eventCode.errors?null:n.getFormFieldRef.eventCode.errors.required),t(e,4,0,(null==n.getFormFieldRef.eventCode.errors?null:n.getFormFieldRef.eventCode.errors.minlength)||(null==n.getFormFieldRef.eventCode.errors?null:n.getFormFieldRef.eventCode.errors.maxlength)),t(e,6,0,n.eventCodeAlreadyExist)}),null)}function NE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event start date is required. "]))],null,null)}function RE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,NE)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.eventStartDate.errors.required)}),null)}function ME(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event end date is required. "]))],null,null)}function LE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,ME)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.getFormFieldRef.eventEndDate.errors.required)}),null)}function FE(t){return Xs(0,[(t()(),Ds(0,0,null,null,5,"div",[["class","event_list_navigation_container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"div",[["class","events_list_actions_container"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"button",[["class","md_sd_button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModal()&&r),r}),null,null)),(t()(),Gs(-1,null,["Create New Event"])),(t()(),Ps(16777216,null,null,1,null,CE)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(6,0,null,null,99,"div",[["class","modal"],["id","add_new_event_modal"]],[[2,"is-active",null]],null,null,null,null)),(t()(),Ds(7,0,null,null,0,"div",[["class","modal-background"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,97,"div",[["class","modal-card"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,3,"header",[["class","modal-card-head"]],null,null,null,null,null)),(t()(),Ds(10,0,null,null,1,"p",[["class","modal-card-title"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Create New Event"])),(t()(),Ds(12,0,null,null,0,"button",[["aria-label","close"],["class","delete"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModal()&&r),r}),null,null)),(t()(),Ds(13,0,null,null,87,"section",[["class","modal-card-body"]],null,null,null,null,null)),(t()(),Ds(14,0,null,null,86,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==xi(t,16).onSubmit(n)&&r),"reset"===e&&(r=!1!==xi(t,16).onReset()&&r),r}),null,null)),Bi(15,16384,null,0,hC,[],null,null),Bi(16,540672,null,0,pC,[[8,null],[8,null]],{form:[0,"form"]},null),zi(2048,null,ww,null,[pC]),Bi(18,16384,null,0,Tw,[[4,ww]],null,null),(t()(),Ds(19,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event title: "])),(t()(),Ds(21,0,null,null,7,"input",[["class","form-control"],["formControlName","eventTitle"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,22)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(22,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(23,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(26,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(28,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,SE)),Bi(30,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(31,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event description: "])),(t()(),Ds(33,0,null,null,7,"textarea",[["class","form-control"],["cols","30"],["formControlName","eventDescription"],["required",""],["rows","10"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,34)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,34).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,34)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,34)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(34,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(35,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(38,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(40,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,TE)),Bi(42,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(43,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Type:"])),(t()(),Ds(45,0,null,null,15,"select",[["class","form-control"],["formControlName","eventType"],["id","exampleFormControlSelect1"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==xi(t,46).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,46).onTouched()&&r),r}),null,null)),Bi(46,16384,null,0,qw,[Wn,qn],null,null),Bi(47,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[qw]),Bi(50,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(52,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ds(53,0,null,null,3,"option",[["value","Single"]],null,null,null,null,null)),Bi(54,147456,null,0,Bw,[qn,Wn,[2,qw]],{value:[0,"value"]},null),Bi(55,147456,null,0,zw,[qn,Wn,[8,null]],{value:[0,"value"]},null),(t()(),Gs(-1,null,["Single"])),(t()(),Ds(57,0,null,null,3,"option",[["value","Multi"]],null,null,null,null,null)),Bi(58,147456,null,0,Bw,[qn,Wn,[2,qw]],{value:[0,"value"]},null),Bi(59,147456,null,0,zw,[qn,Wn,[8,null]],{value:[0,"value"]},null),(t()(),Gs(-1,null,["Multi"])),(t()(),Ps(16777216,null,null,1,null,xE)),Bi(62,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(63,0,null,null,11,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event code: "])),(t()(),Ds(65,0,[["inputEventCode",1]],null,9,"input",[["class","form-control"],["formControlName","eventCode"],["maxlength","6"],["minlength","6"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,66)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,66).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,66)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,66)._compositionEnd(n.target.value)&&r),"input"===e&&(r=!1!==(xi(t,65).value=n.target.value.toUpperCase())&&r),r}),null,null)),Bi(66,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(67,16384,null,0,yC,[],{required:[0,"required"]},null),Bi(68,540672,null,0,bC,[],{minlength:[0,"minlength"]},null),Bi(69,540672,null,0,_C,[],{maxlength:[0,"maxlength"]},null),zi(1024,null,xw,(function(t,e,n){return[t,e,n]}),[yC,bC,_C]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(72,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(74,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,OE)),Bi(76,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(77,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Start Date: "])),(t()(),Ds(79,0,[["eventStartDateField",1]],null,7,"input",[["class","form-control"],["formControlName","eventStartDate"],["required",""],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,80)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,80).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,80)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,80)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(80,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(81,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(84,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(86,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,RE)),Bi(88,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(89,0,null,null,9,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["End Date: "])),(t()(),Ds(91,0,[["eventEndDateField",1]],null,7,"input",[["class","form-control"],["formControlName","eventEndDate"],["required",""],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==xi(t,92)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==xi(t,92).onTouched()&&r),"compositionstart"===e&&(r=!1!==xi(t,92)._compositionStart()&&r),"compositionend"===e&&(r=!1!==xi(t,92)._compositionEnd(n.target.value)&&r),r}),null,null)),Bi(92,16384,null,0,bw,[Wn,qn,[2,yw]],null,null),Bi(93,16384,null,0,yC,[],{required:[0,"required"]},null),zi(1024,null,xw,(function(t){return[t]}),[yC]),zi(1024,null,vw,(function(t){return[t]}),[bw]),Bi(96,671744,null,0,vC,[[3,ww],[6,xw],[8,null],[6,vw],[2,dC]],{name:[0,"name"]},null),zi(2048,null,Ew,null,[vC]),Bi(98,16384,null,0,Iw,[[4,Ew]],null,null),(t()(),Ps(16777216,null,null,1,null,LE)),Bi(100,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(101,0,null,null,4,"footer",[["class","modal-card-foot"]],null,null,null,null,null)),(t()(),Ds(102,0,null,null,1,"button",[["class","button is-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onCreateEvent()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save"])),(t()(),Ds(104,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModal()&&r),r}),null,null)),(t()(),Gs(-1,null,["Cancel"]))],(function(t,e){var n=e.component;t(e,5,0,n.eventCreatedSuccessfullyAlertVisibility),t(e,16,0,n.newEventForm),t(e,23,0,""),t(e,26,0,"eventTitle"),t(e,30,0,n.getFormFieldRef.eventTitle.invalid&&(n.getFormFieldRef.eventTitle.dirty||n.getFormFieldRef.eventTitle.touched||n.formIsDirty)),t(e,35,0,""),t(e,38,0,"eventDescription"),t(e,42,0,n.getFormFieldRef.eventDescription.invalid&&(n.getFormFieldRef.eventDescription.dirty||n.getFormFieldRef.eventDescription.touched||n.formIsDirty)),t(e,47,0,""),t(e,50,0,"eventType"),t(e,54,0,"Single"),t(e,55,0,"Single"),t(e,58,0,"Multi"),t(e,59,0,"Multi"),t(e,62,0,n.getFormFieldRef.eventType.invalid&&(n.getFormFieldRef.eventType.dirty||n.getFormFieldRef.eventType.touched||n.formIsDirty)),t(e,67,0,""),t(e,68,0,"6"),t(e,69,0,"6"),t(e,72,0,"eventCode"),t(e,76,0,n.getFormFieldRef.eventCode.invalid&&(n.getFormFieldRef.eventCode.dirty||n.getFormFieldRef.eventCode.touched||n.formIsDirty)||n.eventCodeAlreadyExist),t(e,81,0,""),t(e,84,0,"eventStartDate"),t(e,88,0,n.getFormFieldRef.eventStartDate.invalid&&(n.getFormFieldRef.eventStartDate.dirty||n.getFormFieldRef.eventStartDate.touched||n.formIsDirty)),t(e,93,0,""),t(e,96,0,"eventEndDate"),t(e,100,0,n.getFormFieldRef.eventEndDate.invalid&&(n.getFormFieldRef.eventEndDate.dirty||n.getFormFieldRef.eventEndDate.touched||n.formIsDirty))}),(function(t,e){t(e,6,0,e.component.showCreateEventModal),t(e,14,0,xi(e,18).ngClassUntouched,xi(e,18).ngClassTouched,xi(e,18).ngClassPristine,xi(e,18).ngClassDirty,xi(e,18).ngClassValid,xi(e,18).ngClassInvalid,xi(e,18).ngClassPending),t(e,21,0,xi(e,23).required?"":null,xi(e,28).ngClassUntouched,xi(e,28).ngClassTouched,xi(e,28).ngClassPristine,xi(e,28).ngClassDirty,xi(e,28).ngClassValid,xi(e,28).ngClassInvalid,xi(e,28).ngClassPending),t(e,33,0,xi(e,35).required?"":null,xi(e,40).ngClassUntouched,xi(e,40).ngClassTouched,xi(e,40).ngClassPristine,xi(e,40).ngClassDirty,xi(e,40).ngClassValid,xi(e,40).ngClassInvalid,xi(e,40).ngClassPending),t(e,45,0,xi(e,47).required?"":null,xi(e,52).ngClassUntouched,xi(e,52).ngClassTouched,xi(e,52).ngClassPristine,xi(e,52).ngClassDirty,xi(e,52).ngClassValid,xi(e,52).ngClassInvalid,xi(e,52).ngClassPending),t(e,65,0,xi(e,67).required?"":null,xi(e,68).minlength?xi(e,68).minlength:null,xi(e,69).maxlength?xi(e,69).maxlength:null,xi(e,74).ngClassUntouched,xi(e,74).ngClassTouched,xi(e,74).ngClassPristine,xi(e,74).ngClassDirty,xi(e,74).ngClassValid,xi(e,74).ngClassInvalid,xi(e,74).ngClassPending),t(e,79,0,xi(e,81).required?"":null,xi(e,86).ngClassUntouched,xi(e,86).ngClassTouched,xi(e,86).ngClassPristine,xi(e,86).ngClassDirty,xi(e,86).ngClassValid,xi(e,86).ngClassInvalid,xi(e,86).ngClassPending),t(e,91,0,xi(e,93).required?"":null,xi(e,98).ngClassUntouched,xi(e,98).ngClassTouched,xi(e,98).ngClassPristine,xi(e,98).ngClassDirty,xi(e,98).ngClassValid,xi(e,98).ngClassInvalid,xi(e,98).ngClassPending)}))}class VE{constructor(t){this.dataService=t,this.eventDeleted=new po,this.showDeleteEventModal=!1}doRemoveEvent(){this.eventDeleted.emit(this.eventData.event_code)}toggleModalRemoveEvent(){this.showDeleteEventModal=!this.showDeleteEventModal}ngOnInit(){}}var UE=Dr({encapsulation:0,styles:[[".event_list_item_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:0;margin-bottom:0;width:100%;color:#424951;font-size:.8rem;transition:.3s all ease}.event_list_item_container[_ngcontent-%COMP%]:hover{background-color:#d1d8e0}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]{border:1px solid #e6eeee;padding:10px;align-items:center;display:flex}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;padding-right:10px;border-radius:5px}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box.eventcode_box[_ngcontent-%COMP%]{text-transform:uppercase}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   .event_type_status_published[_ngcontent-%COMP%]{background-color:#91db9b;border-radius:5px;padding:2px 10px;text-transform:uppercase}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   .event_type_status_draft[_ngcontent-%COMP%]{background-color:#bbc6cd;border-radius:5px;padding:2px 10px;text-transform:uppercase}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:focus{outline:0}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#424951;font-weight:700}.event_list_item_container[_ngcontent-%COMP%]   .list_item_single_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease}"]],data:{}});function qE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","event_type_status_published"]],null,null,null,null,null)),(t()(),Gs(-1,null,["PUBLISHED"]))],null,null)}function BE(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","event_type_status_draft"]],null,null,null,null,null)),(t()(),Gs(-1,null,["DRAFT"]))],null,null)}function jE(t){return Xs(0,[ji(0,lh,[Io]),(t()(),Ds(1,0,null,null,46,"div",[],null,null,null,null,null)),(t()(),Ds(2,0,null,null,27,"div",[["class","mb-row event_list_item_container"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,2,"div",[["class","mb-col-sm-4 list_item_single_box"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(5,null,["",""])),(t()(),Ds(6,0,null,null,2,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Gs(7,null,["",""])),zs(8,1),(t()(),Ds(9,0,null,null,2,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Gs(10,null,["",""])),zs(11,1),(t()(),Ds(12,0,null,null,2,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Gs(13,null,["",""])),zs(14,1),(t()(),Ds(15,0,null,null,1,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Gs(16,null,["",""])),(t()(),Ds(17,0,null,null,1,"div",[["class","mb-col list_item_single_box text-align-center eventcode_box"]],null,null,null,null,null)),(t()(),Gs(18,null,["",""])),(t()(),Ps(16777216,null,null,1,null,qE)),Bi(20,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,BE)),Bi(22,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(23,0,null,null,6,"div",[["class","mb-col list_item_single_box text-align-center"]],null,null,null,null,null)),(t()(),Ds(24,0,null,null,5,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(25,0,null,null,2,"span",[["class","mb-col"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,26).onClick()&&r),r}),null,null)),Bi(26,16384,null,0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),(t()(),Ds(27,0,null,null,0,"i",[["class","fal fa-pen"]],null,null,null,null,null)),(t()(),Ds(28,0,null,null,1,"span",[["class","mb-col"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModalRemoveEvent()&&r),r}),null,null)),(t()(),Ds(29,0,null,null,0,"i",[["class","fal fa-trash"]],null,null,null,null,null)),(t()(),Ds(30,0,null,null,17,"div",[["class","modal"],["id","delete_event_modal"]],[[2,"is-active",null]],null,null,null,null)),(t()(),Ds(31,0,null,null,0,"div",[["class","modal-background"]],null,null,null,null,null)),(t()(),Ds(32,0,null,null,15,"div",[["class","modal-card"]],null,null,null,null,null)),(t()(),Ds(33,0,null,null,3,"header",[["class","modal-card-head"]],null,null,null,null,null)),(t()(),Ds(34,0,null,null,1,"p",[["class","modal-card-title"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Delete Event"])),(t()(),Ds(36,0,null,null,0,"button",[["aria-label","close"],["class","delete"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModalRemoveEvent()&&r),r}),null,null)),(t()(),Ds(37,0,null,null,5,"section",[["class","modal-card-body"]],null,null,null,null,null)),(t()(),Ds(38,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Delete event "])),(t()(),Ds(40,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Gs(41,null,["",""])),(t()(),Gs(-1,null,[". Are you sure?"])),(t()(),Ds(43,0,null,null,4,"footer",[["class","modal-card-foot"]],null,null,null,null,null)),(t()(),Ds(44,0,null,null,1,"button",[["class","button is-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doRemoveEvent()&&r),r}),null,null)),(t()(),Gs(-1,null,["Delete"])),(t()(),Ds(46,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModalRemoveEvent()&&r),r}),null,null)),(t()(),Gs(-1,null,["Cancel"]))],(function(t,e){var n=e.component;t(e,20,0,n.eventData.is_published),t(e,22,0,!n.eventData.is_published),t(e,26,0,ii(1,"/event/",n.eventData.event_code,""))}),(function(t,e){var n=e.component;t(e,5,0,n.eventData.title);var r=xr(e,7,0,t(e,8,0,xi(e,0),n.eventData.date_created));t(e,7,0,r);var i=xr(e,10,0,t(e,11,0,xi(e,0),n.eventData.start_date));t(e,10,0,i);var o=xr(e,13,0,t(e,14,0,xi(e,0),n.eventData.end_date));t(e,13,0,o),t(e,16,0,n.eventData.event_type),t(e,18,0,n.eventData.event_code),t(e,30,0,n.showDeleteEventModal),t(e,41,0,n.eventData.title)}))}class zE{constructor(t){this.dataService=t,this.events=[],this.isDownloadingEvents=!0}getEvents(t=!1){this.dataService.getAllEvents().then(e=>{t&&(this.events=[]),e.forEach(t=>{this.events.push(t.data())}),this.isDownloadingEvents=!1},t=>{this.isDownloadingEvents=!1,console.log(t)})}onEventDeleted(t){this.dataService.deleteEvent(t).then(t=>{this.getEvents(!0)},t=>{console.log(t)})}refreshEventsList(){this.getEvents(!0)}ngOnInit(){this.getEvents()}ngAfterViewInit(){}}var HE=Dr({encapsulation:0,styles:[[".events_list_emty_state[_ngcontent-%COMP%]{width:100%;justify-content:center}.events_list_emty_state[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.events_list_loading[_ngcontent-%COMP%]{padding:100px;text-align:center;color:#1d2531}.events_list_loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;display:block;font-weight:700}.events_list_loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.events_list_container[_ngcontent-%COMP%]{padding:10px}.events_list_container[_ngcontent-%COMP%]   .events_list_header_row_container[_ngcontent-%COMP%]{background-color:#d1d8e0;font-weight:700;text-align:center}.events_list_container[_ngcontent-%COMP%]   .events_list_header_row_container[_ngcontent-%COMP%]   .list_item_header_col[_ngcontent-%COMP%]{border:1px solid #fff;padding:5px}"]],data:{}});function WE(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","events_list_loading"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Loading... "])),(t()(),Ds(3,0,null,null,0,"i",[["class","fal fa-spinner fa-spin loading-icon"]],null,null,null,null,null))],null,null)}function KE(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","events_list_emty_state"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"app-events-list-navigation",[],null,[[null,"newEventAdded"]],(function(t,e,n){var r=!0;return"newEventAdded"===e&&(r=!1!==t.component.refreshEventsList(n)&&r),r}),FE,wE)),Bi(2,114688,null,0,_E,[Gh],null,{newEventAdded:"newEventAdded"}),(t()(),Ds(3,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["There are no events."]))],(function(t,e){t(e,2,0)}),null)}function GE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-events-list-item",[],null,[[null,"eventDeleted"]],(function(t,e,n){var r=!0;return"eventDeleted"===e&&(r=!1!==t.component.onEventDeleted(n)&&r),r}),jE,UE)),Bi(1,114688,null,0,VE,[Gh],{eventCode:[0,"eventCode"],eventData:[1,"eventData"]},{eventDeleted:"eventDeleted"})],(function(t,e){t(e,1,0,e.context.$implicit.event_code,e.context.$implicit)}),null)}function QE(t){return Xs(0,[(t()(),Ds(0,0,null,null,21,"div",[["class","events_list_container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"app-events-list-navigation",[],null,[[null,"newEventAdded"]],(function(t,e,n){var r=!0;return"newEventAdded"===e&&(r=!1!==t.component.refreshEventsList(n)&&r),r}),FE,wE)),Bi(2,114688,null,0,_E,[Gh],null,{newEventAdded:"newEventAdded"}),(t()(),Ds(3,0,null,null,16,"div",[["class","mb-row events_list_header_row_container"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,1,"div",[["class","mb-col-sm-4 list_item_header_col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event"])),(t()(),Ds(6,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Created"])),(t()(),Ds(8,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Start Date"])),(t()(),Ds(10,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["End Date"])),(t()(),Ds(12,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Type"])),(t()(),Ds(14,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Code"])),(t()(),Ds(16,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Status"])),(t()(),Ds(18,0,null,null,1,"div",[["class","mb-col list_item_header_col text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Options"])),(t()(),Ps(16777216,null,null,1,null,GE)),Bi(21,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0),t(e,21,0,n.events)}),null)}function YE(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,WE)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,KE)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,QE)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!n.events.length&&n.isDownloadingEvents),t(e,3,0,!n.events.length&&!n.isDownloadingEvents),t(e,5,0,n.events.length&&!n.isDownloadingEvents)}),null)}class XE{constructor(){}ngOnInit(){}}var ZE=Dr({encapsulation:0,styles:[[""]],data:{}});function $E(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","events_list_container_view"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"app-events-list",[],null,null,null,YE,HE)),Bi(2,4308992,null,0,zE,[Gh],null,null)],(function(t,e){t(e,2,0)}),null)}function JE(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-events",[],null,null,null,$E,ZE)),Bi(1,114688,null,0,XE,[],null,null)],(function(t,e){t(e,1,0)}),null)}var tS=vi("app-events",XE,JE,{},{},[]);class eS{constructor(){}ngOnInit(){}toggleModalRemoveUser(){}}var nS=Dr({encapsulation:0,styles:[[".user-row[_ngcontent-%COMP%]{color:#424951;font-size:.8rem;transition:.3s all ease}.user-row[_ngcontent-%COMP%]:hover{background-color:#d1d8e0}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]{border:1px solid #e6eeee;padding:10px;align-items:center;display:flex}.user-row[_ngcontent-%COMP%]   .user-column.img-box[_ngcontent-%COMP%]{justify-content:center;padding:3px}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%;border-radius:50%}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:focus{outline:0}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#1d2531;font-weight:700}.user-row[_ngcontent-%COMP%]   .user-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease}"]],data:{}});function rS(t){return Xs(0,[(t()(),Ds(0,0,null,null,17,"div",[["class","mb-row user-row"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"div",[["class","mb-col-sm-1 text-align-center user-column img-box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),Ds(3,0,null,null,1,"div",[["class","mb-col text-align-left user-column"]],null,null,null,null,null)),(t()(),Gs(4,null,["",""])),(t()(),Ds(5,0,null,null,1,"div",[["class","mb-col text-align-left user-column"]],null,null,null,null,null)),(t()(),Gs(6,null,["",""])),(t()(),Ds(7,0,null,null,1,"div",[["class","mb-col text-align-left user-column"]],null,null,null,null,null)),(t()(),Gs(8,null,["",""])),(t()(),Ds(9,0,null,null,1,"div",[["class","mb-col-sm-1 text-align-left user-column"]],null,null,null,null,null)),(t()(),Gs(10,null,["",""])),(t()(),Ds(11,0,null,null,6,"div",[["class","mb-col-sm-1 text-align-center user-column"]],null,null,null,null,null)),(t()(),Ds(12,0,null,null,5,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(13,0,null,null,2,"span",[["class","mb-col"],["routerLink",""]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,14).onClick()&&r),r}),null,null)),Bi(14,16384,null,0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),(t()(),Ds(15,0,null,null,0,"i",[["class","fal fa-pen"]],null,null,null,null,null)),(t()(),Ds(16,0,null,null,1,"span",[["class","mb-col"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleModalRemoveUser()&&r),r}),null,null)),(t()(),Ds(17,0,null,null,0,"i",[["class","fal fa-trash"]],null,null,null,null,null))],(function(t,e){t(e,14,0,"")}),(function(t,e){var n=e.component;t(e,2,0,ii(1,"",n.user.user_image,"")),t(e,4,0,n.user.first_name),t(e,6,0,n.user.last_name),t(e,8,0,n.user.email),t(e,10,0,n.user.role)}))}class iS{constructor(){}ngOnInit(){}}var oS=Dr({encapsulation:0,styles:[[".users-table-header-row[_ngcontent-%COMP%]{background-color:#d1d8e0;font-weight:700}.users-table-header-row[_ngcontent-%COMP%]   .users-table-header-col[_ngcontent-%COMP%]{border:1px solid #fff;padding:5px}"]],data:{}});function sS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-users-list-item",[],null,null,null,rS,nS)),Bi(1,114688,null,0,eS,[],{user:[0,"user"]},null)],(function(t,e){t(e,1,0,e.context.$implicit)}),null)}function lS(t){return Xs(0,[(t()(),Ds(0,0,null,null,12,"div",[["class","mb-row users-table-header-row"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"div",[["class","mb-col-sm-1 text-align-left users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Image"])),(t()(),Ds(3,0,null,null,1,"div",[["class","mb-col text-align-left users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["First name"])),(t()(),Ds(5,0,null,null,1,"div",[["class","mb-col text-align-left users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Last name"])),(t()(),Ds(7,0,null,null,1,"div",[["class","mb-col text-align-left users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Email"])),(t()(),Ds(9,0,null,null,1,"div",[["class","mb-col-sm-1 text-align-left users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Role"])),(t()(),Ds(11,0,null,null,1,"div",[["class","mb-col-sm-1 text-align-center users-table-header-col"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Options"])),(t()(),Ps(16777216,null,null,1,null,sS)),Bi(14,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,14,0,e.component.users)}),null)}class aS{constructor(t){this.dataService=t,this.stillLoading=!0,this.stillLoadingUsersPage=!1,this.searchWord="",this.users=[],this.pagesFirstDocuments=[],this.pagesLastDocuments=[],this.showPrevBtn=!1,this.showNextBtn=!0}getUsersPage(t=null,e=!1,n=!1){this.dataService.getSystemUsers(t).then(t=>{this.stillLoading&&(this.stillLoading=!1),this.stillLoadingUsersPage&&(this.stillLoadingUsersPage=!1),t.length?(this.showNextBtn=!(t.length<10),e?(this.pagesFirstDocuments.push(t[0]),this.pagesLastDocuments.push(t[t.length-1])):n&&this.pagesFirstDocuments.pop(),this.users=t.map(t=>t.data()),this.showPrevBtn=this.pagesFirstDocuments.length>=2):this.showNextBtn=!1},t=>{console.log("error",t)})}ngOnInit(){this.getUsersPage(null,!0)}nextPage(){this.stillLoadingUsersPage=!0,this.getUsersPage(this.pagesLastDocuments[this.pagesLastDocuments.length-1],!0)}prevPage(){this.stillLoadingUsersPage=!0,1===this.pagesFirstDocuments.length?this.getUsersPage():(this.pagesFirstDocuments.pop(),this.pagesLastDocuments.pop(),this.getUsersPage(this.pagesFirstDocuments[this.pagesFirstDocuments.length-1]))}}var uS=Dr({encapsulation:0,styles:[[".content-view-loading-inner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#1d2531}.mb-container[_ngcontent-%COMP%]{height:calc(100vh - 120px)}.mb-container-users[_ngcontent-%COMP%]{height:60vh}.users-container[_ngcontent-%COMP%]   .users-navigation-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.users-container[_ngcontent-%COMP%]   .users-navigation-container[_ngcontent-%COMP%]   .users-list-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 5px}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]{margin:2rem auto;vertical-align:middle}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{background:#1d2531;transition:all .3s ease-out;color:#fff;margin:auto 20px;border:1px solid #1d2531;vertical-align:middle}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{margin-left:5px}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{margin-right:5px}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]   .page-number-counter[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.users-container[_ngcontent-%COMP%]   .users-list-container[_ngcontent-%COMP%]   .list-pagination-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle}"]],data:{}});function cS(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function hS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"button",[["class","button hide"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Delete all"]))],null,null)}function dS(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","list-box"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"app-users-list",[],null,null,null,lS,oS)),Bi(2,114688,null,0,iS,[],{users:[0,"users"]},null)],(function(t,e){t(e,2,0,e.component.users)}),null)}function pS(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container-users content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function fS(t){return Xs(0,[(t()(),Ds(0,0,null,null,19,"div",[["class","users-list-container padding-10"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,dS)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,pS)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(5,0,null,null,14,"div",[["class","list-pagination-box"]],null,null,null,null,null)),(t()(),Ds(6,0,null,null,13,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,12,"div",[["class","mb-col text-align-center padding-10"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,4,"button",[["class","button pagination-btn pagination-btn-prev"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prevPage()&&r),r}),null,null)),(t()(),Ds(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ds(10,0,null,null,0,"i",[["class","fal fa-chevron-double-left"]],null,null,null,null,null)),(t()(),Ds(11,0,null,null,1,"div",[["class","btn-prev"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Prev"])),(t()(),Ds(13,0,null,null,1,"small",[["class","page-number-counter"]],null,null,null,null,null)),(t()(),Gs(14,null,["Page: ",""])),(t()(),Ds(15,0,null,null,4,"button",[["class","button pagination-btn pagination-btn-next"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.nextPage()&&r),r}),null,null)),(t()(),Ds(16,0,null,null,1,"div",[["class","btn-next"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Next"])),(t()(),Ds(18,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ds(19,0,null,null,0,"i",[["class","fal fa-chevron-double-right"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,2,0,!n.stillLoadingUsersPage),t(e,4,0,n.stillLoadingUsersPage)}),(function(t,e){var n=e.component;t(e,8,0,!n.showPrevBtn),t(e,14,0,n.pagesFirstDocuments.length),t(e,15,0,!n.showNextBtn)}))}function gS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","users-list-empty-box padding-10 text-align-center"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" There are no users! "]))],null,null)}function mS(t){return Xs(0,[(t()(),Ds(0,0,null,null,15,"div",[["class","users-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,10,"div",[["class","users-navigation-container"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,9,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,2,"div",[["class","mb-col search-container"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,1,"div",[["class","padding-10 text-align-left"]],null,null,null,null,null)),(t()(),Ds(5,0,null,null,0,"input",[["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.searchWord=n.target.value)&&r),r}),null,null)),(t()(),Ds(6,0,null,null,5,"div",[["class","mb-col users-list-options"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,4,"div",[["class","padding-10 text-align-right"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,hS)),Bi(9,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(10,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Create new"])),(t()(),Ps(16777216,null,null,1,null,fS)),Bi(13,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,gS)),Bi(15,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,9,0,n.users.length),t(e,13,0,n.users.length),t(e,15,0,!n.users.length)}),(function(t,e){t(e,5,0,e.component.searchWord)}))}function vS(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,cS)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,mS)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.stillLoading),t(e,3,0,!n.stillLoading)}),null)}function yS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-users",[],null,null,null,vS,uS)),Bi(1,114688,null,0,aS,[Gh],null,null)],(function(t,e){t(e,1,0)}),null)}var bS=vi("app-users",aS,yS,{},{},[]);class _S{constructor(){}ngOnInit(){}}var wS=Dr({encapsulation:0,styles:[[""]],data:{}});function CS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["user-details works!"]))],null,null)}function ES(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-user-details",[],null,null,null,CS,wS)),Bi(1,114688,null,0,_S,[],null,null)],(function(t,e){t(e,1,0)}),null)}var SS=vi("app-user-details",_S,ES,{},{},[]);class IS{constructor(t,e){this.route=t,this.dataService=e,this.isStillLoading=!0,this.eventType=""}ngOnInit(){this.dataService.getFirestoreEventConfigurationsReference(this.route.snapshot.params.id).onSnapshot(t=>{this.eventSettings=t.data(),this.eventType=this.eventSettings.event_type,this.isStillLoading=!1,console.log("this.eventSettings",this.eventSettings)})}}var TS=Dr({encapsulation:0,styles:[["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;font-size:1rem;cursor:pointer;color:#a1abb1}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#fff;font-weight:500}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:35px;display:inline-block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:5px;font-size:1.4rem;vertical-align:middle}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;vertical-align:middle}ul[_ngcontent-%COMP%]   .features_list[_ngcontent-%COMP%]{transition:.4s linear;max-height:0;overflow:hidden}ul[_ngcontent-%COMP%]   .features_list[_ngcontent-%COMP%]:hover{max-height:500vh}ul[_ngcontent-%COMP%]   .features_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;font-size:1rem;padding-left:20px}ul[_ngcontent-%COMP%]   .features_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.menu_item_dropdown[_ngcontent-%COMP%]:hover + .features_list[_ngcontent-%COMP%]{max-height:100vh}"]],data:{}});function kS(t){return Xs(0,[(t()(),Ds(0,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,1).onClick()&&r),r}),null,null)),Bi(1,16384,[[5,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(2,1),Bi(3,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,5,{links:1}),Ls(603979776,6,{linksWithHrefs:1}),(t()(),Ds(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(7,0,null,null,0,"i",[["class","fas fa-list-ul"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Features"]))],(function(t,e){var n=t(e,2,0,"features");t(e,1,0,n),t(e,3,0,"active")}),null)}function xS(t){return Xs(0,[(t()(),Ds(0,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,1).onClick()&&r),r}),null,null)),Bi(1,16384,[[7,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(2,1),Bi(3,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,7,{links:1}),Ls(603979776,8,{linksWithHrefs:1}),(t()(),Ds(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(7,0,null,null,0,"i",[["class","fas fa-list-ul"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Attached Apps"]))],(function(t,e){var n=t(e,2,0,"attachedapps");t(e,1,0,n),t(e,3,0,"active")}),null)}function AS(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"li",[["class","menu_item_dropdown"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(2,0,null,null,0,"i",[["class","fas fa-database"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Content"]))],null,null)}function PS(t){return Xs(0,[(t()(),Ds(0,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,1).onClick()&&r),r}),null,null)),Bi(1,16384,[[41,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(2,1),Bi(3,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,41,{links:1}),Ls(603979776,42,{linksWithHrefs:1}),(t()(),Ds(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(7,0,null,null,0,"i",[["class","far fa-users"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Users"]))],(function(t,e){var n=t(e,2,0,"users");t(e,1,0,n),t(e,3,0,"active")}),null)}function DS(t){return Xs(0,[(t()(),Ds(0,0,null,null,219,"ul",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,2).onClick()&&r),r}),null,null)),Bi(2,16384,[[1,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(3,1),Bi(4,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,1,{links:1}),Ls(603979776,2,{linksWithHrefs:1}),(t()(),Ds(7,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(8,0,null,null,0,"i",[["class","fas fa-home"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Dashboard"])),(t()(),Ds(11,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,12).onClick()&&r),r}),null,null)),Bi(12,16384,[[3,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(13,1),Bi(14,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,3,{links:1}),Ls(603979776,4,{linksWithHrefs:1}),(t()(),Ds(17,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(18,0,null,null,0,"i",[["class","fas fa-cogs"]],null,null,null,null,null)),(t()(),Ds(19,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Settings"])),(t()(),Ps(16777216,null,null,1,null,kS)),Bi(22,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,xS)),Bi(24,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,AS)),Bi(26,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(27,0,null,null,160,"ul",[["class","features_list"]],null,null,null,null,null)),(t()(),Ds(28,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,29).onClick()&&r),r}),null,null)),Bi(29,16384,[[9,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(30,1),Bi(31,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,9,{links:1}),Ls(603979776,10,{linksWithHrefs:1}),(t()(),Ds(34,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(35,0,null,null,0,"i",[["class","fal fa-calendar-alt"]],null,null,null,null,null)),(t()(),Ds(36,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Schedule"])),(t()(),Ds(38,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,39).onClick()&&r),r}),null,null)),Bi(39,16384,[[11,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(40,1),Bi(41,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,11,{links:1}),Ls(603979776,12,{linksWithHrefs:1}),(t()(),Ds(44,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(45,0,null,null,0,"i",[["class","fal fa-users"]],null,null,null,null,null)),(t()(),Ds(46,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Atendees"])),(t()(),Ds(48,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,49).onClick()&&r),r}),null,null)),Bi(49,16384,[[13,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(50,1),Bi(51,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,13,{links:1}),Ls(603979776,14,{linksWithHrefs:1}),(t()(),Ds(54,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(55,0,null,null,0,"i",[["class","fal fa-volume-up"]],null,null,null,null,null)),(t()(),Ds(56,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Speakers"])),(t()(),Ds(58,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,59).onClick()&&r),r}),null,null)),Bi(59,16384,[[15,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(60,1),Bi(61,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,15,{links:1}),Ls(603979776,16,{linksWithHrefs:1}),(t()(),Ds(64,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(65,0,null,null,0,"i",[["class","fal fa-address-card"]],null,null,null,null,null)),(t()(),Ds(66,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Exhibitors"])),(t()(),Ds(68,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,69).onClick()&&r),r}),null,null)),Bi(69,16384,[[17,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(70,1),Bi(71,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,17,{links:1}),Ls(603979776,18,{linksWithHrefs:1}),(t()(),Ds(74,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(75,0,null,null,0,"i",[["class","fal fa-handshake"]],null,null,null,null,null)),(t()(),Ds(76,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Sponsors"])),(t()(),Ds(78,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,79).onClick()&&r),r}),null,null)),Bi(79,16384,[[19,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(80,1),Bi(81,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,19,{links:1}),Ls(603979776,20,{linksWithHrefs:1}),(t()(),Ds(84,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(85,0,null,null,0,"i",[["class","fal fa-map-marker"]],null,null,null,null,null)),(t()(),Ds(86,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Maps"])),(t()(),Ds(88,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,89).onClick()&&r),r}),null,null)),Bi(89,16384,[[21,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(90,1),Bi(91,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,21,{links:1}),Ls(603979776,22,{linksWithHrefs:1}),(t()(),Ds(94,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(95,0,null,null,0,"i",[["class","fal fa-file-alt"]],null,null,null,null,null)),(t()(),Ds(96,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Pages"])),(t()(),Ds(98,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,99).onClick()&&r),r}),null,null)),Bi(99,16384,[[23,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(100,1),Bi(101,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,23,{links:1}),Ls(603979776,24,{linksWithHrefs:1}),(t()(),Ds(104,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(105,0,null,null,0,"i",[["class","fal fa-edit"]],null,null,null,null,null)),(t()(),Ds(106,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Forms"])),(t()(),Ds(108,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,109).onClick()&&r),r}),null,null)),Bi(109,16384,[[25,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(110,1),Bi(111,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,25,{links:1}),Ls(603979776,26,{linksWithHrefs:1}),(t()(),Ds(114,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(115,0,null,null,0,"i",[["class","fal fa-chart-bar"]],null,null,null,null,null)),(t()(),Ds(116,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Livepoll"])),(t()(),Ds(118,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,119).onClick()&&r),r}),null,null)),Bi(119,16384,[[27,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(120,1),Bi(121,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,27,{links:1}),Ls(603979776,28,{linksWithHrefs:1}),(t()(),Ds(124,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(125,0,null,null,0,"i",[["class","fal fa-object-group"]],null,null,null,null,null)),(t()(),Ds(126,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Floor Plan"])),(t()(),Ds(128,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,129).onClick()&&r),r}),null,null)),Bi(129,16384,[[29,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(130,1),Bi(131,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,29,{links:1}),Ls(603979776,30,{linksWithHrefs:1}),(t()(),Ds(134,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(135,0,null,null,0,"i",[["class","fas fa-thermometer-half"]],null,null,null,null,null)),(t()(),Ds(136,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Weather"])),(t()(),Ds(138,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,139).onClick()&&r),r}),null,null)),Bi(139,16384,[[31,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(140,1),Bi(141,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,31,{links:1}),Ls(603979776,32,{linksWithHrefs:1}),(t()(),Ds(144,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(145,0,null,null,0,"i",[["class","fal fa-link"]],null,null,null,null,null)),(t()(),Ds(146,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["External Links"])),(t()(),Ds(148,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,149).onClick()&&r),r}),null,null)),Bi(149,16384,[[33,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(150,1),Bi(151,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,33,{links:1}),Ls(603979776,34,{linksWithHrefs:1}),(t()(),Ds(154,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(155,0,null,null,0,"i",[["class","fal fa-wifi"]],null,null,null,null,null)),(t()(),Ds(156,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Activity Feed"])),(t()(),Ds(158,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,159).onClick()&&r),r}),null,null)),Bi(159,16384,[[35,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(160,1),Bi(161,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,35,{links:1}),Ls(603979776,36,{linksWithHrefs:1}),(t()(),Ds(164,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(165,0,null,null,0,"i",[["class","fal fa-comment-alt-lines"]],null,null,null,null,null)),(t()(),Ds(166,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Public Chat"])),(t()(),Ds(168,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,169).onClick()&&r),r}),null,null)),Bi(169,16384,[[37,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(170,1),Bi(171,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,37,{links:1}),Ls(603979776,38,{linksWithHrefs:1}),(t()(),Ds(174,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(175,0,null,null,0,"i",[["class","fal fa-comments"]],null,null,null,null,null)),(t()(),Ds(176,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Private Chat"])),(t()(),Ds(178,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,179).onClick()&&r),r}),null,null)),Bi(179,16384,[[39,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(180,1),Bi(181,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,39,{links:1}),Ls(603979776,40,{linksWithHrefs:1}),(t()(),Ds(184,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(185,0,null,null,0,"i",[["class","fal fa-blog"]],null,null,null,null,null)),(t()(),Ds(186,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Blogs"])),(t()(),Ps(16777216,null,null,1,null,PS)),Bi(189,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(190,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,191).onClick()&&r),r}),null,null)),Bi(191,16384,[[43,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(192,1),Bi(193,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,43,{links:1}),Ls(603979776,44,{linksWithHrefs:1}),(t()(),Ds(196,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(197,0,null,null,0,"i",[["class","fas fa-paint-brush"]],null,null,null,null,null)),(t()(),Ds(198,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Desgin"])),(t()(),Ds(200,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,201).onClick()&&r),r}),null,null)),Bi(201,16384,[[45,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(202,1),Bi(203,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,45,{links:1}),Ls(603979776,46,{linksWithHrefs:1}),(t()(),Ds(206,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(207,0,null,null,0,"i",[["class","far fa-globe"]],null,null,null,null,null)),(t()(),Ds(208,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Translation"])),(t()(),Ds(210,0,null,null,9,"li",[["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,211).onClick()&&r),r}),null,null)),Bi(211,16384,[[47,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(212,1),Bi(213,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,47,{links:1}),Ls(603979776,48,{linksWithHrefs:1}),(t()(),Ds(216,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ds(217,0,null,null,0,"i",[["class","fal fa-bell"]],null,null,null,null,null)),(t()(),Ds(218,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Notifications"]))],(function(t,e){var n=e.component,r=t(e,3,0,"dashboard");t(e,2,0,r),t(e,4,0,"active");var i=t(e,13,0,"settings");t(e,12,0,i),t(e,14,0,"active"),t(e,22,0,"Single"===n.eventType),t(e,24,0,"Multi"===n.eventType),t(e,26,0,"Single"===n.eventType);var o=t(e,30,0,"schedule");t(e,29,0,o),t(e,31,0,"active");var s=t(e,40,0,"attendees");t(e,39,0,s),t(e,41,0,"active");var l=t(e,50,0,"speakers");t(e,49,0,l),t(e,51,0,"active");var a=t(e,60,0,"exhibitors");t(e,59,0,a),t(e,61,0,"active");var u=t(e,70,0,"sponsors");t(e,69,0,u),t(e,71,0,"active");var c=t(e,80,0,"maps");t(e,79,0,c),t(e,81,0,"active");var h=t(e,90,0,"pages");t(e,89,0,h),t(e,91,0,"active");var d=t(e,100,0,"forms");t(e,99,0,d),t(e,101,0,"active");var p=t(e,110,0,"livepoll");t(e,109,0,p),t(e,111,0,"active");var f=t(e,120,0,"floorplan");t(e,119,0,f),t(e,121,0,"active");var g=t(e,130,0,"weather");t(e,129,0,g),t(e,131,0,"active");var m=t(e,140,0,"externallink");t(e,139,0,m),t(e,141,0,"active");var v=t(e,150,0,"activityfeed");t(e,149,0,v),t(e,151,0,"active");var y=t(e,160,0,"publicchat");t(e,159,0,y),t(e,161,0,"active");var b=t(e,170,0,"privatechat");t(e,169,0,b),t(e,171,0,"active");var _=t(e,180,0,"blogs");t(e,179,0,_),t(e,181,0,"active"),t(e,189,0,"Single"===n.eventType);var w=t(e,192,0,"design");t(e,191,0,w),t(e,193,0,"active");var C=t(e,202,0,"translations");t(e,201,0,C),t(e,203,0,"active");var E=t(e,212,0,"notifications");t(e,211,0,E),t(e,213,0,"active")}),null)}function OS(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,DS)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,!e.component.isStillLoading)}),null)}class NS{constructor(){}ngOnInit(){}}var RS=Dr({encapsulation:0,styles:[[".event_details_main_container[_ngcontent-%COMP%]{display:flex}.event_details_main_container[_ngcontent-%COMP%]   .event_details_side_menu[_ngcontent-%COMP%]{width:200px;background:#1d2531;color:#a1abb1;min-height:calc(100vh - 105px)}.event_details_main_container[_ngcontent-%COMP%]   .event_details_main_section[_ngcontent-%COMP%]{width:calc(100% - 200px);min-height:100%}"]],data:{}});function MS(t){return Xs(0,[(t()(),Ds(0,0,null,null,6,"div",[["class","event_details_main_container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"aside",[["class","event_details_side_menu"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"app-event-details-side-navigation",[],null,null,null,OS,TS)),Bi(3,114688,null,0,IS,[ug,Gh],null,null),(t()(),Ds(4,0,null,null,2,"section",[["class","event_details_main_section"]],null,null,null,null,null)),(t()(),Ds(5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Bi(6,212992,null,0,km,[Tm,dr,Ln,[8,null],Pe],null,null)],(function(t,e){t(e,3,0),t(e,6,0)}),null)}function LS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details",[],null,null,null,MS,RS)),Bi(1,114688,null,0,NS,[],null,null)],(function(t,e){t(e,1,0)}),null)}var FS=vi("app-event-details",NS,LS,{},{},[]);class VS{constructor(){}ngOnInit(){}}var US=Dr({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{text-align:center;top:50%;height:calc(100vh - 150px)}div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}div[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700}"]],data:{}});function qS(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Welcome"])),(t()(),Ds(3,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Please start editing your event "]))],null,null)}function BS(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-dashboard",[],null,null,null,qS,US)),Bi(1,114688,null,0,VS,[],null,null)],(function(t,e){t(e,1,0)}),null)}var jS=vi("app-event-details-dashboard",VS,BS,{},{},[]);function zS(){throw Error("Host already has a portal attached")}class HS{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&zS(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class WS extends HS{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class KS extends HS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class GS{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&zS(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof WS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof KS?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class QS extends GS{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new po}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class YS{}function XS(t,e,n,i){return r(n)&&(i=n,n=void 0),i?XS(t,e,n).pipe(F(t=>a(t)?i(...t):i(t))):new _(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,l=e.length;s<l;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function ZS(t){return!a(t)&&t-parseFloat(t)+1>=0}function $S(t=0,e,n){let r=-1;return ZS(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=kv),new _(e=>{const i=ZS(t)?t:+t-n.now();return n.schedule(JS,i,{index:0,period:r,subscriber:e})})}function JS(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class tI{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new eI(t,this.compare,this.keySelector))}}class eI extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function nI(t){return e=>e.lift(new rI(t))}class rI{constructor(t){this.notifier=t}call(t,e){const n=new iI(t),r=M(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class iI extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}const oI=new St("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});class sI{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}class lI{}const aI=jv(lI);class uI extends aI{constructor(t){super(),this._viewContainerRef=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new I,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new KS(this._explicitContent||this._implicitContent,this._viewContainerRef)}}class cI extends QS{constructor(t,e,n){super(t,e),this._host=n,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Pd(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}class hI{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new I,this._onCentering=new po,this._beforeCentering=new po,this._afterLeavingCenter=new po,this._onCentered=new po(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(function(t,e){return e=>e.lift(new tI(t,void 0))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin())}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(){const t=this._getLayoutDirection();return"ltr"==t&&this.origin<=0||"rtl"==t&&this.origin>0?"left-origin-center":"right-origin-center"}}class dI extends hI{constructor(t,e,n){super(t,e,n)}}let pI=0;class fI{}const gI=new St("MAT_TABS_CONFIG");class mI{constructor(t){this._elementRef=t}}const vI=zv(Hv(mI),"primary");class yI extends vI{constructor(t,e,n,r){super(t),this._changeDetectorRef=e,this._animationMode=r,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new po,this.focusChange=new po,this.animationDone=new po,this.selectedTabChange=new po(!0),this._groupId=pI++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms"}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Jm(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=tv(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new fI;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Q(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}class bI extends yI{constructor(t,e,n,r){super(t,e,n,r)}}class _I{}const wI=jv(_I);class CI extends wI{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}const EI=av({passive:!0}),SI=60,II=650,TI=100;class kI{constructor(t,e,n,r,i,o,s){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=i,this._platform=o,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new I,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new I,this._selectedIndex=0,this.selectFocusedIndex=new po,this.indexFocused=new po,i.runOutsideAngular(()=>{XS(t.nativeElement,"mouseleave").pipe(nI(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=tv(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItemIndex(t))}ngAfterViewInit(){XS(this._previousPaginator.nativeElement,"touchstart",EI).pipe(nI(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),XS(this._nextPaginator.nativeElement,"touchstart",EI).pipe(nI(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:ec(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Nv(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Q(t,e,this._items.changes).pipe(nI(this._destroyed)).subscribe(()=>{n(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(nI(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Cv(t))switch(t.keyCode){case pv:this._keyManager.setFirstItemActive(),t.preventDefault();break;case dv:this._keyManager.setLastItemActive(),t.preventDefault();break;case cv:case hv:this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t);break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?s=(o=r)+i:o=(s=this._tabList.nativeElement.offsetWidth-r)-i;const l=this.scrollDistance,a=this.scrollDistance+n;o<l?this.scrollDistance-=l-o+SI:s>a&&(this.scrollDistance+=s-a+SI)}_checkPaginationEnabled(){const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t){this._stopInterval(),$S(II,TI).pipe(nI(Q(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()})}_scrollTo(t){const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}class xI extends kI{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Jm(t)}_itemSelected(t){t.preventDefault()}}class AI extends xI{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,o,s)}}class PI{}let DI=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),OI=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=ev(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new I,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(DI))},token:t,providedIn:"root"}),t})();class NI{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new po,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Jm(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=tv(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(xv(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class RI{}class MI extends Sv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class LI extends Tv{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const FI=new LI(MI);class VI{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new UI(t,this.durationSelector))}}class UI extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=M(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}const qI=20;let BI=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Q(XS(window,"resize"),XS(window,"orientationchange")):ec(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=qI){return t>0?this._change.pipe(function(t,e=kv){return n=()=>$S(t,e),function(t){return t.lift(new VI(n))};var n}(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(sv),Ft(zo))},token:t,providedIn:"root"}),t})();var jI=Dr({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function zI(t){return Xs(0,[(t()(),Ps(0,null,null,0))],null,null)}function HI(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,zI)),Bi(1,212992,null,0,QS,[Ln,dr],{portal:[0,"portal"]},null),(t()(),Ps(0,null,null,0))],(function(t,e){t(e,1,0,e.parent.context.$implicit.templateLabel)}),null)}function WI(t){return Xs(0,[(t()(),Gs(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.parent.context.$implicit.textLabel)}))}function KI(t){return Xs(0,[(t()(),Ds(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._handleClick(t.context.$implicit,xi(t.parent,3),t.context.index)&&r),r}),null,null)),Bi(1,212992,null,0,Jv,[qn,zo,sv,[2,$v],[2,cw]],{disabled:[0,"disabled"]},null),Bi(2,147456,null,0,Fv,[qn,Lv],null,null),Bi(3,16384,[[3,4]],0,CI,[qn],{disabled:[0,"disabled"]},null),(t()(),Ds(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,HI)),Bi(6,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,WI)),Bi(8,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.context.$implicit.disabled||e.component.disableRipple),t(e,3,0,e.context.$implicit.disabled),t(e,6,0,e.context.$implicit.templateLabel),t(e,8,0,!e.context.$implicit.templateLabel)}),(function(t,e){var n=e.component;t(e,0,1,[n._getTabLabelId(e.context.index),n._getTabIndex(e.context.$implicit,e.context.index),e.context.index+1,n._tabs.length,n._getTabContentId(e.context.index),n.selectedIndex==e.context.index,e.context.$implicit.ariaLabel||null,!e.context.$implicit.ariaLabel&&e.context.$implicit.ariaLabelledby?e.context.$implicit.ariaLabelledby:null,n.selectedIndex==e.context.index,xi(e,1).unbounded,xi(e,3).disabled,!!xi(e,3).disabled])}))}function GI(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],(function(t,e,n){var r=!0,i=t.component;return"_onCentered"===e&&(r=!1!==i._removeTabBodyWrapperHeight()&&r),"_onCentering"===e&&(r=!1!==i._setTabBodyWrapperHeight(n)&&r),r}),ZI,YI)),Bi(1,245760,null,0,dI,[qn,[2,hy],Pe],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],(function(t,e){t(e,1,0,e.context.$implicit.content,e.context.$implicit.origin,e.component.animationDuration,e.context.$implicit.position)}),(function(t,e){var n=e.component;t(e,0,0,n._getTabContentId(e.context.index),n._getTabLabelId(e.context.index),n.selectedIndex==e.context.index)}))}function QI(t){return Xs(2,[Ls(671088640,1,{_tabBodyWrapper:0}),Ls(671088640,2,{_tabHeader:0}),(t()(),Ds(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],(function(t,e,n){var r=!0,i=t.component;return"indexFocused"===e&&(r=!1!==i._focusChanged(n)&&r),"selectFocusedIndex"===e&&(r=!1!==(i.selectedIndex=n)&&r),r}),JI,$I)),Bi(3,7520256,[[2,4],["tabHeader",4]],1,AI,[qn,Pe,BI,[2,hy],zo,sv,[2,cw]],{selectedIndex:[0,"selectedIndex"],disableRipple:[1,"disableRipple"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),Ls(603979776,3,{_items:1}),(t()(),Ps(16777216,null,0,1,null,KI)),Bi(6,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ds(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],[[2,"_mat-animation-noopable",null]],null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,GI)),Bi(9,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.selectedIndex,n.disableRipple),t(e,6,0,n._tabs),t(e,9,0,n._tabs)}),(function(t,e){var n=e.component;t(e,2,0,xi(e,3)._showPaginationControls,"rtl"==xi(e,3)._getLayoutDirection()),t(e,7,0,"NoopAnimations"===n._animationMode)}))}var YI=Dr({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function XI(t){return Xs(0,[(t()(),Ps(0,null,null,0))],null,null)}function ZI(t){return Xs(2,[Ls(671088640,1,{_portalHost:0}),(t()(),Ds(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],(function(t,e,n){var r=!0,i=t.component;return"@translateTab.start"===e&&(r=!1!==i._onTranslateTabStarted(n)&&r),"@translateTab.done"===e&&(r=!1!==i._translateTabComplete.next(n)&&r),r}),null,null)),Ws(2,{animationDuration:0}),Ws(3,{value:0,params:1}),(t()(),Ps(16777216,null,null,1,null,XI)),Bi(5,212992,null,0,cI,[Ln,dr,dI],null,null)],(function(t,e){t(e,5,0)}),(function(t,e){var n=e.component,r=t(e,3,0,n._position,t(e,2,0,n.animationDuration));t(e,1,0,r)}))}var $I=Dr({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}"],data:{}});function JI(t){return Xs(2,[Ls(402653184,1,{_inkBar:0}),Ls(402653184,2,{_tabListContainer:0}),Ls(402653184,3,{_tabList:0}),Ls(671088640,4,{_nextPaginator:0}),Ls(671088640,5,{_previousPaginator:0}),(t()(),Ds(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i._handlePaginatorClick("before")&&r),"mousedown"===e&&(r=!1!==i._handlePaginatorPress("before")&&r),"touchend"===e&&(r=!1!==i._stopInterval()&&r),r}),null,null)),Bi(6,212992,null,0,Jv,[qn,zo,sv,[2,$v],[2,cw]],{disabled:[0,"disabled"]},null),(t()(),Ds(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(t()(),Ds(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],(function(t,e,n){var r=!0;return"keydown"===e&&(r=!1!==t.component._handleKeydown(n)&&r),r}),null,null)),(t()(),Ds(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],[[2,"_mat-animation-noopable",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onContentChanges()&&r),r}),null,null)),Bi(10,1196032,null,0,NI,[OI,qn,zo],null,{event:"cdkObserveContent"}),(t()(),Ds(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),Bs(null,0),(t()(),Ds(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],[[2,"_mat-animation-noopable",null]],null,null,null,null)),Bi(14,16384,[[1,4]],0,sI,[qn,zo,oI,[2,cw]],null,null),(t()(),Ds(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==i._handlePaginatorPress("after")&&r),"click"===e&&(r=!1!==i._handlePaginatorClick("after")&&r),"touchend"===e&&(r=!1!==i._stopInterval()&&r),r}),null,null)),Bi(16,212992,null,0,Jv,[qn,zo,sv,[2,$v],[2,cw]],{disabled:[0,"disabled"]},null),(t()(),Ds(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,6,0,n._disableScrollBefore||n.disableRipple),t(e,16,0,n._disableScrollAfter||n.disableRipple)}),(function(t,e){var n=e.component;t(e,5,0,n._disableScrollBefore,xi(e,6).unbounded),t(e,9,0,"NoopAnimations"===n._animationMode),t(e,13,0,"NoopAnimations"===xi(e,14)._animationMode),t(e,15,0,n._disableScrollAfter,xi(e,16).unbounded)}))}var tT=Dr({encapsulation:2,styles:[],data:{}});function eT(t){return Xs(0,[Bs(null,0),(t()(),Ps(0,null,null,0))],null,null)}function nT(t){return Xs(2,[Ls(402653184,1,{_implicitContent:0}),(t()(),Ps(0,[[1,2]],null,0,null,eT))],null,null)}class rT{constructor(t,e){this.route=t,this.dataService=e,this.eventSettings={custom_css:"",custom_js:"",description:"",end_date:"",event_code:"",event_default_lang:"",event_lang:"",event_languages:[],event_type:"",is_published:!1,signIn:!1,signUp:!1,start_date:"",title:""},this.eventSettingsFieldsStatus={is_valid_custom_css:!0,is_valid_custom_js:!0,is_valid_description:!0,is_valid_end_date:!0,is_valid_event_code:!0,is_valid_event_default_lang:!0,is_valid_event_lang:!0,is_valid_event_languages:!0,is_valid_event_type:!0,is_valid_is_published:!0,is_valid_signIn:!0,is_valid_signUp:!0,is_valid_start_date:!0,is_valid_title:!0},this.eventValidLanguages=["ENGLISH","GERMAN","SPANISH","GREEK","BULGARIAN","ITALIAN"],this.stillLoadingContent=!0,this.isSavingEventSettingsData=!1,this.saveSettingsShowSuccessMsg=!1}resetEventFormFieldsStatus(){this.eventSettingsFieldsStatus={is_valid_custom_css:!0,is_valid_custom_js:!0,is_valid_description:!0,is_valid_end_date:!0,is_valid_event_code:!0,is_valid_event_default_lang:!0,is_valid_event_lang:!0,is_valid_event_languages:!0,is_valid_event_type:!0,is_valid_is_published:!0,is_valid_signIn:!0,is_valid_signUp:!0,is_valid_start_date:!0,is_valid_title:!0}}ngOnInit(){this.dataService.getEventData(this.route.snapshot.parent.params.id).then(t=>{this.eventSettings=t,this.stillLoadingContent=!1},t=>{console.log(t)})}chnageEventlanguagesValue(t){if(t.target.checked)this.eventSettings.event_languages.push(t.target.value),this.eventSettings.event_languages.length&&""===this.eventSettings.event_default_lang&&(this.eventSettings.event_default_lang=this.eventSettings.event_languages[0]);else{var e=this.eventSettings.event_languages.indexOf(t.target.value);e>-1&&this.eventSettings.event_languages.splice(e,1),this.eventSettings.event_languages.length||(this.eventSettings.event_default_lang="")}}saveEventSettings(){this.isSavingEventSettingsData=!0,this.resetEventFormFieldsStatus();let t=this.eventSettings,e=!0;""===t.title&&(e=!1,this.eventSettingsFieldsStatus.is_valid_title=!1),""===t.description&&(e=!1,this.eventSettingsFieldsStatus.is_valid_description=!1),""!==t.event_code&&6===t.event_code.length||(e=!1,this.eventSettingsFieldsStatus.is_valid_event_code=!1),(""===t.start_date||new Date(t.start_date).getTime()>new Date(t.end_date).getTime())&&(e=!1,this.eventSettingsFieldsStatus.is_valid_start_date=!1),(""===t.end_date||new Date(t.end_date).getTime()<new Date(t.start_date).getTime())&&(e=!1,this.eventSettingsFieldsStatus.is_valid_end_date=!1),(""===t.event_type||"Single"!==t.event_type&&"Multi"!==t.event_type)&&(e=!1,this.eventSettingsFieldsStatus.is_valid_event_type=!1),!1!==t.is_published&&!0!==t.is_published&&(e=!1,this.eventSettingsFieldsStatus.is_valid_is_published=!1),""===t.event_default_lang&&(e=!1,this.eventSettingsFieldsStatus.is_valid_event_default_lang=!1),t.event_languages.length||(e=!1,this.eventSettingsFieldsStatus.is_valid_event_languages=!1),!1!==t.signIn&&!0!==t.signIn&&(e=!1,this.eventSettingsFieldsStatus.is_valid_signIn=!1),!1!==t.signUp&&!0!==t.signUp&&(e=!1,this.eventSettingsFieldsStatus.is_valid_signUp=!1),e?this.dataService.saveEventData(t).then(t=>{this.isSavingEventSettingsData=!1,this.saveSettingsShowSuccessMsg=!0,setTimeout(()=>{this.saveSettingsShowSuccessMsg=!1},3e3)},t=>{console.log(t)}):this.isSavingEventSettingsData=!1}checkIfLanguageIsSelectedForEvent(t){return this.eventSettings.event_languages.indexOf(t)>-1}checkForDefaultEventLang(t){return this.eventSettings.event_default_lang===t||null}getEventTitleForCurrentLang(t){return void 0!==this.eventSettings.title_tra&&void 0!==this.eventSettings.title_tra[t]||(void 0===this.eventSettings.title_tra&&(this.eventSettings.title_tra={}),this.eventSettings.title_tra[t]=this.eventSettings.title),this.eventSettings.title_tra[t]}setEventTitleForCurrentLang(t,e){void 0===this.eventSettings.title_tra&&(this.eventSettings.title_tra={}),this.eventSettings.title_tra[t]=e}getEventDescriptionForCurrentLang(t){return void 0!==this.eventSettings.description_tra&&void 0!==this.eventSettings.description_tra[t]||(void 0===this.eventSettings.description_tra&&(this.eventSettings.description_tra={}),this.eventSettings.description_tra[t]=this.eventSettings.description),this.eventSettings.description_tra[t]}setEventDescriptionForCurrentLang(t,e){void 0===this.eventSettings.description_tra&&(this.eventSettings.description_tra={}),this.eventSettings.description_tra[t]=e}}var iT=Dr({encapsulation:0,styles:[[".event-settings-main-container[_ngcontent-%COMP%]{padding:10px}.event-settings-main-container[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:block;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;-webkit-padding-before:.35em;padding-block-start:.35em;-webkit-padding-start:.75em;padding-inline-start:.75em;-webkit-padding-end:.75em;padding-inline-end:.75em;-webkit-padding-after:.625em;padding-block-end:.625em;min-inline-size:-webkit-min-content;min-inline-size:-moz-min-content;min-inline-size:min-content;-o-border-image:initial;border-image:initial;border-radius:10px;margin:10px;border:1px solid #ced4da}.event-settings-main-container[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;padding:10px}.event-settings-main-container[_ngcontent-%COMP%]   .event-settings-err-msg[_ngcontent-%COMP%]{color:red;font-style:italic;font-size:.6rem;font-variant:small-caps;font-weight:500}.event-settings-main-container[_ngcontent-%COMP%]   .save-settings-container[_ngcontent-%COMP%]{padding:10px}.event-settings-main-container[_ngcontent-%COMP%]   .save-settings-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.event-settings-main-container[_ngcontent-%COMP%]   .save-settings-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-settings-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}.content-view-loading-inner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#0c3e5e}.curr-lang-label[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;text-transform:lowercase;font-weight:700}#event-langs-nav[_ngcontent-%COMP%]     .mat-ink-bar, .mat-ink-bar[_ngcontent-%COMP%]{background-color:#242424}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.form-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}"]],data:{}});function oT(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function sT(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-settings-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function lT(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Settings was successfully saved!"]))],null,null)}function aT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Title is required! "]))],null,null)}function uT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Description is required! "]))],null,null)}function cT(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,20,"mat-tab",[],null,null,null,nT,tT)),Bi(1,770048,[[1,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,2,{templateLabel:0}),Ls(335544320,3,{_explicitContent:0}),(t()(),Ds(4,0,null,0,7,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event title in "])),(t()(),Ds(6,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(7,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(9,0,null,null,0,"input",[["required",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setEventTitleForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,aT)),Bi(11,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(12,0,null,0,8,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event description in "])),(t()(),Ds(14,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(15,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(17,0,null,null,1,"textarea",[["cols","30"],["required",""],["rows","5"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setEventDescriptionForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Gs(-1,null,["                            "])),(t()(),Ps(16777216,null,null,1,null,uT)),Bi(20,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,ii(1,"",e.context.$implicit,"")),t(e,11,0,!n.eventSettingsFieldsStatus.is_valid_title),t(e,20,0,!n.eventSettingsFieldsStatus.is_valid_description)}),(function(t,e){var n=e.component;t(e,7,0,e.context.$implicit),t(e,9,0,n.getEventTitleForCurrentLang(e.context.$implicit)),t(e,15,0,e.context.$implicit),t(e,17,0,n.getEventDescriptionForCurrentLang(e.context.$implicit))}))}function hT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Code is required and must be 6 charachters! "]))],null,null)}function dT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Start Date must be before Event End Date! "]))],null,null)}function pT(t){return Xs(0,[(t()(),Ds(0,0,null,null,5,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Start Date: "])),(t()(),Ds(3,0,null,null,0,"input",[["required",""],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.eventSettings.start_date=n.target.value)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,dT)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,5,0,!e.component.eventSettingsFieldsStatus.is_valid_start_date)}),(function(t,e){t(e,3,0,e.component.eventSettings.start_date)}))}function fT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event End Date must be after Event Start Date! "]))],null,null)}function gT(t){return Xs(0,[(t()(),Ds(0,0,null,null,5,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["End Date: "])),(t()(),Ds(3,0,null,null,0,"input",[["required",""],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.eventSettings.end_date=n.target.value)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,fT)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,5,0,!e.component.eventSettingsFieldsStatus.is_valid_end_date)}),(function(t,e){t(e,3,0,e.component.eventSettings.end_date)}))}function mT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Type is required! "]))],null,null)}function vT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Publish Status is required! "]))],null,null)}function yT(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"option",[],[[1,"selected",0]],null,null,null,null)),Bi(1,147456,null,0,Bw,[qn,Wn,[8,null]],{value:[0,"value"]},null),Bi(2,147456,null,0,zw,[qn,Wn,[8,null]],{value:[0,"value"]},null),(t()(),Gs(3,null,["",""]))],(function(t,e){t(e,1,0,ii(1,"",e.context.$implicit,"")),t(e,2,0,ii(1,"",e.context.$implicit,""))}),(function(t,e){t(e,0,0,e.component.checkForDefaultEventLang(e.context.$implicit)),t(e,3,0,e.context.$implicit)}))}function bT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Default Language is required! "]))],null,null)}function _T(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"label",[["class","container-checkbox"]],null,null,null,null,null)),(t()(),Gs(1,null,[""," "])),(t()(),Ds(2,0,null,null,0,"input",[["type","checkbox"]],[[8,"value",0],[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.chnageEventlanguagesValue(n)&&r),r}),null,null)),(t()(),Ds(3,0,null,null,0,"span",[["class","checkbox-checkmark"]],null,null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,e.context.$implicit),t(e,2,0,ii(1,"",e.context.$implicit,""),n.checkIfLanguageIsSelectedForEvent(e.context.$implicit))}))}function wT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event Languages is required, you must select at least one language! "]))],null,null)}function CT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event signIn is required! "]))],null,null)}function ET(t){return Xs(0,[(t()(),Ds(0,0,null,null,8,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,7,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event SignIn Option:"])),(t()(),Ds(4,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(5,0,[["signInCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.signIn=xi(t,5).checked)&&r),r}),null,null)),(t()(),Ds(6,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,CT)),Bi(8,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,8,0,!e.component.eventSettingsFieldsStatus.is_valid_signIn)}),(function(t,e){t(e,5,0,e.component.eventSettings.signIn)}))}function ST(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[["class","event-settings-err-msg"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event signUp is required! "]))],null,null)}function IT(t){return Xs(0,[(t()(),Ds(0,0,null,null,8,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,7,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event SignUp Option: "])),(t()(),Ds(4,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(5,0,[["signUpCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.signUp=xi(t,5).checked)&&r),r}),null,null)),(t()(),Ds(6,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,ST)),Bi(8,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,8,0,!e.component.eventSettingsFieldsStatus.is_valid_signUp)}),(function(t,e){t(e,5,0,e.component.eventSettings.signUp)}))}function TT(t){return Xs(0,[(t()(),Ds(0,0,null,null,88,"div",[["class","event-settings-main-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,6,"div",[["class","event-settings-nav text-align-right"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEventSettings()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save Settings"])),(t()(),Ps(16777216,null,null,1,null,sT)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,lT)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(8,0,null,null,80,"div",[["class","form-container"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,42,"fieldset",[],null,null,null,null,null)),(t()(),Ds(10,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event information:"])),(t()(),Ds(12,0,null,null,5,"div",[["id","event-langs-nav"]],null,null,null,null,null)),(t()(),Ds(13,0,null,null,4,"mat-tab-group",[["animationDuration","0ms"],["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,QI,jI)),Bi(14,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},null),Ls(603979776,1,{_tabs:1}),(t()(),Ps(16777216,null,null,1,null,cT)),Bi(17,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ds(18,0,null,null,10,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(19,0,null,null,5,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(20,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event code:"])),(t()(),Ds(22,0,null,null,0,"input",[["disabled",""],["maxlength","6"],["minlength","6"],["required",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.eventSettings.event_code=n.target.value)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,hT)),Bi(24,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,pT)),Bi(26,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,gT)),Bi(28,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(29,0,null,null,13,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(30,0,null,null,12,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(31,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Type: "])),(t()(),Ds(33,0,null,null,3,"label",[["class","container-radio"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Singe Event "])),(t()(),Ds(35,0,null,null,0,"input",[["name","eventType"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.event_type="Single")&&r),r}),null,null)),(t()(),Ds(36,0,null,null,0,"span",[["class","radio-checkmark"]],null,null,null,null,null)),(t()(),Ds(37,0,null,null,3,"label",[["class","container-radio"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Multi Event "])),(t()(),Ds(39,0,null,null,0,"input",[["name","eventType"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.event_type="Multi")&&r),r}),null,null)),(t()(),Ds(40,0,null,null,0,"span",[["class","radio-checkmark"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,mT)),Bi(42,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(43,0,null,null,8,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(44,0,null,null,7,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(45,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Published Event: "])),(t()(),Ds(47,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(48,0,[["publishCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.is_published=xi(t,48).checked)&&r),r}),null,null)),(t()(),Ds(49,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,vT)),Bi(51,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(52,0,null,null,18,"fieldset",[],null,null,null,null,null)),(t()(),Ds(53,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Languages:"])),(t()(),Ds(55,0,null,null,15,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(56,0,null,null,7,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(57,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Default Language:"])),(t()(),Ds(59,0,null,null,2,"select",[],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.eventSettings.event_default_lang=n.target.value)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,yT)),Bi(61,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ps(16777216,null,null,1,null,bT)),Bi(63,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(64,0,null,null,6,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(65,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Languages:"])),(t()(),Ps(16777216,null,null,1,null,_T)),Bi(68,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ps(16777216,null,null,1,null,wT)),Bi(70,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(71,0,null,null,17,"fieldset",[],null,null,null,null,null)),(t()(),Ds(72,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event settings:"])),(t()(),Ds(74,0,null,null,10,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(75,0,null,null,4,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(76,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Custom JS: "])),(t()(),Ds(78,0,null,null,1,"textarea",[["cols","30"],["rows","10"]],[[8,"value",0],[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.eventSettings.custom_js=n.target.value)&&r),r}),null,null)),(t()(),Gs(-1,null,["                        "])),(t()(),Ds(80,0,null,null,4,"div",[["class","mb-col padding-10"]],null,null,null,null,null)),(t()(),Ds(81,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Custom CSS: "])),(t()(),Ds(83,0,null,null,1,"textarea",[["cols","30"],["rows","10"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.eventSettings.custom_css=n.target.value)&&r),r}),null,null)),(t()(),Gs(-1,null,["                        "])),(t()(),Ps(16777216,null,null,1,null,ET)),Bi(86,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,IT)),Bi(88,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.isSavingEventSettingsData),t(e,7,0,n.saveSettingsShowSuccessMsg),t(e,14,0,"0ms"),t(e,17,0,n.eventSettings.event_languages),t(e,24,0,!n.eventSettingsFieldsStatus.is_valid_event_code),t(e,26,0,"Single"===n.eventSettings.event_type),t(e,28,0,"Single"===n.eventSettings.event_type),t(e,42,0,!n.eventSettingsFieldsStatus.is_valid_event_type),t(e,51,0,!n.eventSettingsFieldsStatus.is_valid_is_published),t(e,61,0,n.eventSettings.event_languages),t(e,63,0,!n.eventSettingsFieldsStatus.is_valid_event_default_lang),t(e,68,0,n.eventValidLanguages),t(e,70,0,!n.eventSettingsFieldsStatus.is_valid_event_languages),t(e,86,0,"Single"===n.eventSettings.event_type),t(e,88,0,"Single"===n.eventSettings.event_type)}),(function(t,e){var n=e.component;t(e,13,0,xi(e,14).dynamicHeight,"below"===xi(e,14).headerPosition),t(e,22,0,n.eventSettings.event_code),t(e,35,0,"Single"===n.eventSettings.event_type),t(e,39,0,"Multi"===n.eventSettings.event_type),t(e,48,0,n.eventSettings.is_published),t(e,78,0,n.eventSettings.custom_js,n.eventSettings.custom_js),t(e,83,0,n.eventSettings.custom_css)}))}function kT(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,oT)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,TT)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.stillLoadingContent),t(e,3,0,!n.stillLoadingContent)}),null)}function xT(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-settings",[],null,null,null,kT,iT)),Bi(1,114688,null,0,rT,[ug,Gh],null,null)],(function(t,e){t(e,1,0)}),null)}var AT=vi("app-event-details-settings",rT,xT,{},{},[]);function PT(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function DT(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function OT(t,e){const n=e?"":"none";DT(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function NT(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function RT(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const MT=av({passive:!0}),LT=av({passive:!1}),FT=800;class VT{constructor(t,e,n,r,i,o){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new I,this._pointerMoveSubscription=h.EMPTY,this._pointerUpSubscription=h.EMPTY,this._scrollSubscription=h.EMPTY,this._resizeSubscription=h.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I,this.started=new I,this.released=new I,this.ended=new I,this.entered=new I,this.exited=new I,this.dropped=new I,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Jm(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>ev(t)),this._handles.forEach(t=>OT(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ev(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,LT),e.addEventListener("touchstart",this._pointerDown,MT),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?ev(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&jT(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&jT(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&jT(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),zT(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const n=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(r,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(n),this._dropContainer.start()}var e}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=zT(e),i=!r&&0!==e.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+FT>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Pd(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):ev(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i}),e.drop(this,n,this._initialContainer,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=UT(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let n;if(e){const r=t.viewContainer.createEmbeddedView(e,t.context);n=HT(r,this._document),this._previewRef=r,n.style.transform=UT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();(n=qT(t)).style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=UT(e.left,e.top)}return DT(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),OT(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=UT(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=RT(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),o=RT(e,"transition-duration"),s=RT(e,"transition-delay");return NT(o[i])+NT(s[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=HT(this._placeholderRef,this._document)):n=qT(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=zT(e)?e.targetTouches[0]:e;return{x:i.left-n.left+(o.pageX-i.left-this._scrollPosition.left),y:i.top-n.top+(o.pageY-i.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=zT(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,r=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===r?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==r||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,i=this._previewRect,o=r.top+e,s=r.bottom-(i.height-e);n.x=BT(n.x,r.left+t,r.right-(i.width-t)),n.y=BT(n.y,o,s)}return n}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,OT(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,LT),t.removeEventListener("touchstart",this._pointerDown,MT)}_applyRootElementTransform(t,e){const n=UT(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect(),i=n.left-r.left,o=r.right-n.right,s=n.top-r.top,l=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),o>0&&(t-=o)):t=0,n.height>r.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}}function UT(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function qT(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length){const t=e.querySelectorAll("canvas");for(let e=0;e<r.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(r[e],0,0)}}return e}function BT(t,e,n){return Math.max(e,Math.min(n,t))}function jT(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function zT(t){return"t"===t.type[0]}function HT(t,e){const n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){const t=e.createElement("div");return t.appendChild(n),t}return n}function WT(t,e,n){const r=GT(e,t.length-1),i=GT(n,t.length-1);if(r===i)return;const o=t[r],s=i<r?-1:1;for(let l=r;l!==i;l+=s)t[l]=t[l+s];t[i]=o}function KT(t,e,n,r){const i=GT(n,t.length-1),o=GT(r,e.length);t.length&&e.splice(o,0,t.splice(i,1)[0])}function GT(t,e){return Math.max(0,Math.min(e,t))}let QT=0;const YT=.05,XT=.05,ZT=2;class $T{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.id=`cdk-drop-list-ref-${QT++}`,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new I,this.entered=new I,this.exited=new I,this.dropped=new I,this.sorted=new I,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=h.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I,this._handleScroll=()=>{if(!this.isDragging())return;const t=ev(this.element);this._updateAfterScroll(this._scrollPosition,t.scrollTop,t.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=kv){return(!ZS(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=kv),new _(n=>(n.add(e.schedule(PT,t,{subscriber:n,counter:0,period:t})),n))}(0,FI).pipe(nI(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?rk(t,-ZT):2===this._verticalScrollDirection&&rk(t,ZT),1===this._horizontalScrollDirection?ik(t,-ZT):2===this._horizontalScrollDirection&&ik(t,ZT)})};const o=this.element=ev(t);this._shadowRoot=function(t){if(function(){if(null==ov){const t="undefined"!=typeof document?document.head:null;ov=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ov}()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(o)||n,e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=ev(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>t.addEventListener("scroll",this._handleScroll)):t.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(t,e,n){this.start();let r=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n));const i=this._activeDraggables,o=i.indexOf(t),s=t.getPlaceholderElement();let l=i[r];if(l===t&&(l=i[r+1]),o>-1&&i.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(s,e),i.splice(r,0,t)}else ev(this.element).appendChild(s),i.push(t);s.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i={x:0,y:0}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){return this._isDragging?tk("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._isPointerNearDropContainer(e,n))return;const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===o&&i.length>0)return;const s="horizontal"===this._orientation,l=tk(i,e=>e.drag===t),a=i[o],u=i[l].clientRect,c=a.clientRect,h=l>o?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=s?r.x:r.y;const d=this._getItemOffsetPx(u,c,h),p=this._getSiblingOffsetPx(l,i,h),f=i.slice();WT(i,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?d:p,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,JT(e.clientRect,0,i)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,JT(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._isPointerNearDropContainer(t,e)){const o=ev(this.element);[r,i]=function(t,e,n,r){const i=ok(e,r),o=sk(e,n);let s=0,l=0;if(i){const e=t.scrollTop;1===i?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(l=1):t.scrollWidth-e>t.clientWidth&&(l=2)}return[s,l]}(o,this._clientRect,t,e),(r||i)&&(n=o)}if(this._viewportRuler&&!r&&!i){const{width:o,height:s}=this._viewportRuler.getViewportSize(),l={width:o,height:s,top:0,right:o,bottom:s,left:0};r=ok(l,e),i=sk(l,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const t=ev(this.element);this._clientRect=nk(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement();return{drag:t,offset:0,clientRect:nk(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n];let s=i[r?"width":"height"]*n;if(o){const t=r?"left":"top",e=r?"right":"bottom";-1===n?s-=o.clientRect[t]-i[e]:s+=i[t]-o.clientRect[e]}return s}_isPointerNearDropContainer(t,e){const{top:n,right:r,bottom:i,left:o,width:s,height:l}=this._clientRect,a=s*YT,u=l*YT;return e>n-u&&e<i+u&&t>o-a&&t<r+a}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return tk(this._itemPositions,({drag:o,clientRect:s},l,a)=>{if(o===t)return a.length<2;if(r){const t=i?r.x:r.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(s.left)&&e<=Math.floor(s.right):n>=Math.floor(s.top)&&n<=Math.floor(s.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(t,e,n,r){const i=t.top-e,o=t.left-n;r&&JT(r,i,o),this._itemPositions.forEach(({clientRect:t})=>{JT(t,i,o)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),t.top=e,t.left=n}_removeListeners(){ev(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(t,e){return ek(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this.enterPredicate(t,this)||!ek(this._clientRect,e,n))return!1;const r=this._shadowRoot.elementFromPoint(e,n);if(!r)return!1;const i=ev(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const t=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,t.top,t.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function JT(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function tk(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function ek(t,e,n){const{top:r,bottom:i,left:o,right:s}=t;return n>=r&&n<=i&&e>=o&&e<=s}function nk(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function rk(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function ik(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function ok(t,e){const{top:n,bottom:r,height:i}=t,o=i*XT;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}function sk(t,e){const{left:n,right:r,width:i}=t,o=i*XT;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}const lk=av({passive:!1,capture:!0});let ak=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new I,this.pointerUp=new I,this.scroll=new I,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,lk)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,lk)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:lk}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:lk}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(zo),Ft(uh))},token:t,providedIn:"root"}),t})();const uk={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ck=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=uk){return new VT(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new $T(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(uh),Ft(zo),Ft(BI),Ft(ak))},token:t,providedIn:"root"}),t})();const hk=new St("CDK_DROP_LIST"),dk=new St("CDK_DRAG_PARENT"),pk=new St("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}});class fk{constructor(t,e,n,r,i,o,s,l,a){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=r,this._viewContainerRef=i,this._dir=s,this._changeDetectorRef=a,this._destroyed=new I,this.dragStartDelay=0,this._disabled=!1,this.started=new po,this.released=new po,this.ended=new po,this.entered=new po,this.exited=new po,this.dropped=new po,this.moved=new _(t=>{const e=this._dragRef.moved.pipe(F(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(t,o),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get boundaryElementSelector(){return"string"==typeof this.boundaryElement?this.boundaryElement:void 0}set boundaryElementSelector(t){this.boundaryElement=t}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Jm(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(_d(1),nI(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Pd(this._handles),Rd(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Td(t=>Q(...t.map(t=>t._stateChanges))),nI(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?gk(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return gk(this.element.nativeElement,t);const e=ev(t);if(ne()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay=tv(this.dragStartDelay),t.constrainPosition=this.constrainPosition,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(r),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}}function gk(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}class mk{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Jm(t)}ngOnDestroy(){this._items.clear()}}let vk=0,yk=(()=>{class t{constructor(e,n,r,i,o){this.element=e,this._changeDetectorRef=r,this._dir=i,this._group=o,this._destroyed=new I,this.connectedTo=[],this.orientation="vertical",this.id=`cdk-drop-list-${vk++}`,this._disabled=!1,this._sortingDisabled=!1,this.enterPredicate=()=>!0,this.autoScrollDisabled=!1,this.dropped=new po,this.entered=new po,this.exited=new po,this.sorted=new po,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._disabled=Jm(t)}get sortingDisabled(){return this._sortingDisabled}set sortingDisabled(t){this._sortingDisabled=Jm(t)}ngAfterContentInit(){this._draggables.changes.pipe(Pd(this._draggables),nI(this._destroyed)).subscribe(t=>{this._dropListRef.withItems(t.map(t=>t._dragRef))})}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,r){this._dropListRef.drop(t._dragRef,e,n._dropListRef,r)}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_sortItem(t,e,n,r){return this._dropListRef._sortItem(t._dragRef,e,n,r)}_getSiblingContainerFromPosition(t,e,n){const r=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,n);return r?r.data:null}_isOverContainer(t,e){return this._dropListRef._isOverContainer(t,e)}_syncInputs(e){this._dir&&this._dir.change.pipe(Pd(this._dir.value),nI(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=function(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}}return t._dropLists=[],t})();class bk{}class _k{constructor(t,e){this.route=t,this.dataService=e,this.singleFeatures=["speakers","sponsors","attendees","exhibitors","my_schedule","my_bookmarks","my_notes","global_search","livepoll","notifications","activity_feed","public_chat","private_chat"],this.multipleFeatures=["schedule","pages","external_link","menu_divider","map","weather","blog","form","floor_plan"],this.premiumFeatures=[{title:"Live poll",description:"Engage users and get instant event feedback with real-time polling",type:"livepoll",icon:"fal fa-chart-bar",is_active:!1},{title:"Blog",description:"List of blog posts.",type:"blog",icon:"fal fa-blog",is_active:!1},{title:"My Schedule",description:"User are able to bookmark sessions.",type:"my_schedule",icon:"fal fa-calendar-check",is_active:!1},{title:"My bookmarks",description:"Be able to bookmark account types.",type:"my_bookmarks",icon:"fal fa-star",is_active:!1},{title:"My Notes",description:"User are able to create and save notes.",type:"my_notes",icon:"fal fa-copy",is_active:!1},{title:"Global Search",description:"User are able to search information from all event data.",type:"global_search",icon:"fal fa-search",is_active:!1},{title:"Weather",description:"Weather forecast for specific town.",type:"weather",icon:"fas fa-thermometer-half",is_active:!1},{title:"Notifications",description:"Show list of all sent notifications.",type:"notifications",icon:"fal fa-bell",is_active:!1},{title:"External link",description:"Be able to load external url.",type:"external_link",icon:"fal fa-link",is_active:!1},{title:"Floor plan",description:"Floor plan for halls.",type:"floor_plan",icon:"fal fa-object-group",is_active:!1},{title:"Activity Feed",description:"List of all posts.",type:"activity_feed",icon:"fal fa-wifi",is_active:!1},{title:"Forms",description:"Submit a form.",type:"form",icon:"fal fa-edit",is_active:!1},{title:"Public Chat",description:"Public chat room.",type:"public_chat",icon:"fal fa-comment-alt-lines",is_active:!1},{title:"Private Chat",description:"Private chat rooms.",type:"private_chat",icon:"fal fa-comments",is_active:!1}],this.showEditEventFeatureModal=!1,this.showLoadingEditEventFeatureModal=!1,this.isSavingEventFeeatureData=!1,this.stillLoadingContent=!0,this.saveFeaturesShowSuccessMsg=!1,this.isSavingEventFeeaturesData=!1,this.currentEventSettings={},this.currentFeatureEditData={title_tra:{},selected_icon:"",is_hidden:!1,is_require_login:!1,show_on_home:!0,title:""},this.currentFeatureEditIndexInArray=null,this.availableFeatures=[{title:"Menu divider",type:"menu_divider",icon:"fal fa-minus"},{title:"Speakers",type:"speakers",icon:"fal fa-volume-up"},{title:"Sponsors",type:"sponsors",icon:"fal fa-handshake"},{title:"Attendees",type:"attendees",icon:"fal fa-users"},{title:"Exhibitors",type:"exhibitors",icon:"fal fa-address-card"},{title:"Schedule",type:"schedule",icon:"fal fa-calendar-alt"},{title:"Pages",type:"pages",icon:"fal fa-file-alt"},{title:"Google map",type:"map",icon:"fal fa-map-marker"}],this.eventFeaturesData={selected:[],premium:[]}}saveFeaturesShowSuccessfullyMessage(){this.saveFeaturesShowSuccessMsg=!0,setTimeout(()=>{this.saveFeaturesShowSuccessMsg=!1},3e3)}drop(t){if(t.previousContainer!==t.container){let e;"available-features-list"===t.container.id?this.multipleFeatures.indexOf((e=this.eventFeaturesData.selected[t.previousIndex]).type)>-1?this.eventFeaturesData.selected.splice(t.previousIndex,1):KT(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex):(e=this.availableFeatures[t.previousIndex],KT(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.multipleFeatures.indexOf(e.type)>-1&&this.availableFeatures.splice(t.previousIndex,0,e))}else"selected-features-list"===t.container.id&&WT(this.eventFeaturesData.selected,t.previousIndex,t.currentIndex)}saveEventFeatures(){const t=this.route.snapshot.parent.params.id;this.isSavingEventFeeaturesData=!0,this.dataService.saveEventFeatures(t,this.eventFeaturesData).then(t=>{this.isSavingEventFeeaturesData=!1,this.saveFeaturesShowSuccessfullyMessage()},t=>{console.log(t)})}removeSelectedFeature(t){let e=this.eventFeaturesData.selected[t];this.singleFeatures.indexOf(e.type)>-1&&this.availableFeatures.unshift(e),this.eventFeaturesData.selected.splice(t,1)}togglePremiumFeature(t,e){if(this.eventFeaturesData.premium[t].is_active=e,e)this.availableFeatures.push({title:this.eventFeaturesData.premium[t].title,type:this.eventFeaturesData.premium[t].type,icon:this.eventFeaturesData.premium[t].icon});else{let e,n,r=!1,i=this.eventFeaturesData.premium[t].type;for(let t=0;t<this.eventFeaturesData.selected.length;t++)this.eventFeaturesData.selected[t].type===i&&(e=t,r=!0);r&&this.eventFeaturesData.selected.splice(e,1);for(let t=0;t<this.availableFeatures.length;t++)this.availableFeatures[t].type===i&&(n=t);this.availableFeatures.splice(n,1)}}toggleEditFeatureModal(t){const e=this.route.snapshot.parent.params.id;this.currentFeatureEditData={title_tra:{},selected_icon:"",is_hidden:!1,is_require_login:!1,show_on_home:!0,title:""},this.currentFeatureEditIndexInArray=t,void 0===this.eventFeaturesData.selected[t].data&&(this.eventFeaturesData.selected[t].data=this.currentFeatureEditData),this.currentFeatureEditData=this.eventFeaturesData.selected[t],this.showEditEventFeatureModal=!this.showEditEventFeatureModal,this.showLoadingEditEventFeatureModal=!0,this.dataService.getEventData(e).then(t=>{this.showLoadingEditEventFeatureModal=!1,this.currentEventSettings=t},t=>{console.log(t)})}saveEventFeature(t){this.isSavingEventFeeatureData=!0,this.eventFeaturesData.selected[this.currentFeatureEditIndexInArray]=this.currentFeatureEditData,this.dataService.saveEventFeatures(this.route.snapshot.parent.params.id,this.eventFeaturesData).then(t=>{this.isSavingEventFeeatureData=!1,setTimeout(()=>{this.showEditEventFeatureModal=!this.showEditEventFeatureModal},500)},t=>{console.log(t)})}getFeatureTitleForCurrentLang(t){return void 0===this.currentFeatureEditData.data.title_tra[t]&&(this.currentFeatureEditData.data.title_tra[t]=this.currentFeatureEditData.title),this.currentFeatureEditData.data.title_tra[t]}setFeatureTitleForCurrentLang(t,e){this.currentFeatureEditData.data.title_tra[t]=e}ngOnInit(){let t=this;this.dataService.getEventFeatures(this.route.snapshot.parent.params.id).then(e=>{!1===e?this.eventFeaturesData.premium=this.premiumFeatures:(this.eventFeaturesData.premium=e.premium.length?e.premium:this.premiumFeatures,e.selected.length&&(this.eventFeaturesData.selected=e.selected),this.eventFeaturesData.premium.filter((function(e){let n=!1;e.is_active&&(t.eventFeaturesData.selected.filter((function(t){e.type==t.type&&(n=!0)})),n||t.availableFeatures.push(e))})),this.availableFeatures=this.availableFeatures.filter((function(e){let n=!1;return t.eventFeaturesData.selected.filter((function(r){e.type==r.type&&t.singleFeatures.indexOf(e.type)>-1&&(n=!0)})),!n}))),this.stillLoadingContent=!1},t=>{console.log(t)})}}var wk=Dr({encapsulation:0,styles:[[".mb-container[_ngcontent-%COMP%]{padding:10px}.mb-container[_ngcontent-%COMP%]   .mb-col[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{min-height:calc(100vh - 150px);display:block;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;-webkit-padding-before:.35em;padding-block-start:.35em;-webkit-padding-start:.75em;padding-inline-start:.75em;-webkit-padding-end:.75em;padding-inline-end:.75em;-webkit-padding-after:.625em;padding-block-end:.625em;min-inline-size:-webkit-min-content;min-inline-size:-moz-min-content;min-inline-size:min-content;-o-border-image:initial;border-image:initial;border-radius:10px;margin:10px;border:1px solid #ced4da}.mb-container[_ngcontent-%COMP%]   .mb-col[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;padding:10px}.mb-container[_ngcontent-%COMP%]   .premium-features[_ngcontent-%COMP%]   .vertical-a-m[_ngcontent-%COMP%]{border-bottom:1px solid #1d2531;padding:10px}.mb-container[_ngcontent-%COMP%]   .premium-features[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.mb-container[_ngcontent-%COMP%]   .premium-features[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}.mb-container[_ngcontent-%COMP%]   .save-features-container[_ngcontent-%COMP%]{padding:10px}.mb-container[_ngcontent-%COMP%]   .save-features-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.mb-container[_ngcontent-%COMP%]   .save-features-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-features-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}.content-view-loading-inner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#25303f}#available-features-list[_ngcontent-%COMP%], #selected-features-list[_ngcontent-%COMP%]{min-height:300px}.feature-list-item[_ngcontent-%COMP%]{border:1px solid #1d2531;background:#1d2531;color:#fff;padding:10px;border-radius:5px;margin:2px auto;cursor:-webkit-grab;cursor:grab}.feature-list-item[_ngcontent-%COMP%]:hover{background:#25303f;box-shadow:1px 1px 1px #25303f}.feature-list-item[_ngcontent-%COMP%]   .feature-list-item-title[_ngcontent-%COMP%]{display:inline-block;width:70%}.feature-list-item[_ngcontent-%COMP%]   .feature-list-item-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;vertical-align:middle;width:15%}.feature-list-item[_ngcontent-%COMP%]   .feature-list-item-options[_ngcontent-%COMP%]{display:inline-block;width:30%;text-align:right}.feature-list-item[_ngcontent-%COMP%]   .feature-list-item-options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;vertical-align:middle;padding:0 5px;transition:.3s;opacity:.7}.feature-list-item[_ngcontent-%COMP%]   .feature-list-item-options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-size:1.35rem;opacity:1;cursor:pointer}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform 250ms cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-feature-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}#event-langs-nav[_ngcontent-%COMP%]     .mat-ink-bar, .mat-ink-bar[_ngcontent-%COMP%]{background-color:#242424}.save-feature-container[_ngcontent-%COMP%]{padding:0 10px}.save-feature-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:inline-block;font-size:1rem;font-weight:700;padding-right:10px}.save-feature-container[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}#edit_event_feature_modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}#edit_event_feature_modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], #edit_event_feature_modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], #edit_event_feature_modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], #edit_event_feature_modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}#edit_event_feature_modal[_ngcontent-%COMP%]   .curr-lang-label[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;text-transform:lowercase;font-weight:700}"]],data:{}});function Ck(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function Ek(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-features-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function Sk(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Features was successfully saved!"]))],null,null)}function Ik(t){return Xs(0,[(t()(),Ds(0,0,null,null,9,"div",[["class","vertical-a-m"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"div",[["class","pading-right-10 width-80"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"h6",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(3,null,["",""])),(t()(),Ds(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(5,null,["",""])),(t()(),Ds(6,0,null,null,3,"div",[["class","width-20"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(8,0,[["publishCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.togglePremiumFeature(t.context.index,xi(t,8).checked)&&r),r}),null,null)),(t()(),Ds(9,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null))],null,(function(t,e){t(e,3,0,e.context.$implicit.title),t(e,5,0,e.context.$implicit.title),t(e,8,0,e.context.$implicit.is_active)}))}function Tk(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,9,"div",[["cdkDrag",""],["class","feature-list-item cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),zi(6144,null,dk,null,[fk]),Bi(2,4866048,[[1,4]],3,fk,[qn,[3,hk],uh,zo,dr,pk,[2,hy],ck,Pe],null,null),Ls(603979776,2,{_handles:1}),Ls(603979776,3,{_previewTemplate:0}),Ls(603979776,4,{_placeholderTemplate:0}),(t()(),Ds(6,0,null,null,2,"div",[["class","feature-list-item-title"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(t()(),Gs(8,null,[" ",""])),(t()(),Ds(9,0,null,null,0,"div",[["class","feature-list-item-options"]],null,null,null,null,null)),(t()(),Ps(0,null,null,0))],null,(function(t,e){t(e,0,0,xi(e,2).disabled,xi(e,2)._dragRef.isDragging()),t(e,7,0,ii(1,"",e.context.$implicit.icon,"")),t(e,8,0,e.context.$implicit.title)}))}function kk(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,11,"div",[["cdkDrag",""],["class","feature-list-item cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),zi(6144,null,dk,null,[fk]),Bi(2,4866048,[[5,4]],3,fk,[qn,[3,hk],uh,zo,dr,pk,[2,hy],ck,Pe],null,null),Ls(603979776,6,{_handles:1}),Ls(603979776,7,{_previewTemplate:0}),Ls(603979776,8,{_placeholderTemplate:0}),(t()(),Ds(6,0,null,null,2,"div",[["class","feature-list-item-title"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(t()(),Gs(8,null,[" ",""])),(t()(),Ds(9,0,null,null,2,"div",[["class","feature-list-item-options"]],null,null,null,null,null)),(t()(),Ds(10,0,null,null,0,"i",[["class","fas fa-pencil-alt"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleEditFeatureModal(t.context.index)&&r),r}),null,null)),(t()(),Ds(11,0,null,null,0,"i",[["class","fas fa-times"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeSelectedFeature(t.context.index)&&r),r}),null,null)),(t()(),Ps(0,null,null,0))],null,(function(t,e){t(e,0,0,xi(e,2).disabled,xi(e,2)._dragRef.isDragging()),t(e,7,0,ii(1,"",e.context.$implicit.icon,"")),t(e,8,0,e.context.$implicit.title)}))}function xk(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function Ak(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,9,"mat-tab",[],null,null,null,nT,tT)),Bi(1,770048,[[9,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,10,{templateLabel:0}),Ls(335544320,11,{_explicitContent:0}),(t()(),Ds(4,0,null,0,5,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Feature title in "])),(t()(),Ds(6,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(7,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(9,0,null,null,0,"input",[["required",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setFeatureTitleForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Ps(0,null,null,0))],(function(t,e){t(e,1,0,ii(1,"",e.context.$implicit,""))}),(function(t,e){var n=e.component;t(e,7,0,e.context.$implicit),t(e,9,0,n.getFeatureTitleForCurrentLang(e.context.$implicit))}))}function Pk(t){return Xs(0,[(t()(),Ds(0,0,null,null,18,"div",[["class","other-feature-options"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Feature icon class: "])),(t()(),Ds(3,0,null,null,0,"input",[["required",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.currentFeatureEditData.data.selected_icon=n.target.value)&&r),r}),null,null)),(t()(),Ds(4,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Require Login: "])),(t()(),Ds(6,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(7,0,[["requireLogin",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.currentFeatureEditData.data.is_require_login=xi(t,7).checked)&&r),r}),null,null)),(t()(),Ds(8,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Hidden: "])),(t()(),Ds(11,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(12,0,[["hiddenFeature",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.currentFeatureEditData.data.is_hidden=xi(t,12).checked)&&r),r}),null,null)),(t()(),Ds(13,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(14,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Show on home page: "])),(t()(),Ds(16,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(17,0,[["hideFeatureFromHome",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.currentFeatureEditData.data.show_on_home=xi(t,17).checked)&&r),r}),null,null)),(t()(),Ds(18,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null))],null,(function(t,e){var n=e.component;t(e,3,0,n.currentFeatureEditData.data.selected_icon),t(e,7,0,n.currentFeatureEditData.data.is_require_login),t(e,12,0,n.currentFeatureEditData.data.is_hidden),t(e,17,0,n.currentFeatureEditData.data.show_on_home)}))}function Dk(t){return Xs(0,[(t()(),Ds(0,0,null,null,8,"div",[["class","form-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,5,"div",[["id","event-langs-nav"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,4,"mat-tab-group",[["animationDuration","0ms"],["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,QI,jI)),Bi(3,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},null),Ls(603979776,9,{_tabs:1}),(t()(),Ps(16777216,null,null,1,null,Ak)),Bi(6,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ps(16777216,null,null,1,null,Pk)),Bi(8,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,"0ms"),t(e,6,0,n.currentEventSettings.event_languages),t(e,8,0,"menu_divider"!==n.currentFeatureEditData.type)}),(function(t,e){t(e,2,0,xi(e,3).dynamicHeight,"below"===xi(e,3).headerPosition)}))}function Ok(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-feature-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function Nk(t){return Xs(0,[(t()(),Ds(0,0,null,null,18,"div",[["class","modal"],["id","edit_event_feature_modal"]],[[2,"is-active",null]],null,null,null,null)),(t()(),Ds(1,0,null,null,0,"div",[["class","modal-background"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,16,"div",[["class","modal-card"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,3,"header",[["class","modal-card-head"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,1,"p",[["class","modal-card-title"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Edit Feature"])),(t()(),Ds(6,0,null,null,0,"button",[["aria-label","close"],["class","delete"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showEditEventFeatureModal=!i.showEditEventFeatureModal)&&r),r}),null,null)),(t()(),Ds(7,0,null,null,4,"section",[["class","modal-card-body"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,xk)),Bi(9,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,Dk)),Bi(11,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(12,0,null,null,6,"footer",[["class","modal-card-foot"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,Ok)),Bi(14,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(15,0,null,null,1,"button",[["class","button is-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEventFeature()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save"])),(t()(),Ds(17,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showEditEventFeatureModal=!i.showEditEventFeatureModal)&&r),r}),null,null)),(t()(),Gs(-1,null,["Cancel"]))],(function(t,e){var n=e.component;t(e,9,0,n.showLoadingEditEventFeatureModal),t(e,11,0,!n.showLoadingEditEventFeatureModal),t(e,14,0,n.isSavingEventFeeatureData)}),(function(t,e){t(e,0,0,e.component.showEditEventFeatureModal)}))}function Rk(t){return Xs(0,[(t()(),Ds(0,0,null,null,38,"div",[["class","mb-container content-view"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,6,"div",[["class","text-align-right"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEventFeatures()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save Features"])),(t()(),Ps(16777216,null,null,1,null,Ek)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,Sk)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(8,0,null,null,28,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(10,0,null,null,4,"fieldset",[["class","premium-features"]],null,null,null,null,null)),(t()(),Ds(11,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Premium Features"])),(t()(),Ps(16777216,null,null,1,null,Ik)),Bi(14,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ds(15,0,null,null,10,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(16,0,null,null,9,"fieldset",[],null,null,null,null,null)),(t()(),Ds(17,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Available Features"])),(t()(),Ds(19,0,null,null,6,"div",[["cdkDropList",""],["class","cdk-drop-list"],["id","available-features-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(t,e,n){var r=!0;return"cdkDropListDropped"===e&&(r=!1!==t.component.drop(n)&&r),r}),null,null)),zi(6144,null,hk,null,[yk]),Bi(21,1196032,[["availableFeaturesList",4]],1,yk,[qn,ck,Pe,[2,hy],[3,mk]],{connectedTo:[0,"connectedTo"],data:[1,"data"],id:[2,"id"]},{dropped:"cdkDropListDropped"}),Ls(603979776,1,{_draggables:1}),zi(256,null,mk,void 0,[]),(t()(),Ps(16777216,null,null,1,null,Tk)),Bi(25,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ds(26,0,null,null,10,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(27,0,null,null,9,"fieldset",[],null,null,null,null,null)),(t()(),Ds(28,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Selected Features"])),(t()(),Ds(30,0,null,null,6,"div",[["cdkDropList",""],["class","cdk-drop-list"],["id","selected-features-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(t,e,n){var r=!0;return"cdkDropListDropped"===e&&(r=!1!==t.component.drop(n)&&r),r}),null,null)),zi(6144,null,hk,null,[yk]),Bi(32,1196032,[["selectedFeaturesList",4]],1,yk,[qn,ck,Pe,[2,hy],[3,mk]],{connectedTo:[0,"connectedTo"],data:[1,"data"],id:[2,"id"]},{dropped:"cdkDropListDropped"}),Ls(603979776,5,{_draggables:1}),zi(256,null,mk,void 0,[]),(t()(),Ps(16777216,null,null,1,null,kk)),Bi(36,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ps(16777216,null,null,1,null,Nk)),Bi(38,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.isSavingEventFeeaturesData),t(e,7,0,n.saveFeaturesShowSuccessMsg),t(e,14,0,n.eventFeaturesData.premium),t(e,21,0,xi(e,32),n.availableFeatures,"available-features-list"),t(e,25,0,n.availableFeatures),t(e,32,0,xi(e,21),n.eventFeaturesData.selected,"selected-features-list"),t(e,36,0,n.eventFeaturesData.selected),t(e,38,0,n.showEditEventFeatureModal)}),(function(t,e){t(e,19,0,xi(e,21).id,xi(e,21).disabled,xi(e,21)._dropListRef.isDragging(),xi(e,21)._dropListRef.isReceiving()),t(e,30,0,xi(e,32).id,xi(e,32).disabled,xi(e,32)._dropListRef.isDragging(),xi(e,32)._dropListRef.isReceiving())}))}function Mk(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,Ck)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,Rk)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.stillLoadingContent),t(e,3,0,!n.stillLoadingContent)}),null)}function Lk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-features",[],null,null,null,Mk,wk)),Bi(1,114688,null,0,_k,[ug,Gh],null,null)],(function(t,e){t(e,1,0)}),null)}var Fk=vi("app-event-details-features",_k,Lk,{},{},[]);class Vk{constructor(){}ngOnInit(){}}var Uk=Dr({encapsulation:0,styles:[[""]],data:{}});function qk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-content works!\n"]))],null,null)}function Bk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-content",[],null,null,null,qk,Uk)),Bi(1,114688,null,0,Vk,[],null,null)],(function(t,e){t(e,1,0)}),null)}var jk=vi("app-event-details-content",Vk,Bk,{},{},[]);class zk{constructor(){}ngOnInit(){}}var Hk=Dr({encapsulation:0,styles:[[""]],data:{}});function Wk(t){return Xs(0,[],null,null)}function Kk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-users",[],null,null,null,Wk,Hk)),Bi(1,114688,null,0,zk,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Gk=vi("app-event-details-users",zk,Kk,{},{},[]);class Qk{constructor(){}ngOnInit(){}}var Yk=Dr({encapsulation:0,styles:[[""]],data:{}});function Xk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-schedule works!\n"]))],null,null)}function Zk(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-schedule",[],null,null,null,Xk,Yk)),Bi(1,114688,null,0,Qk,[],null,null)],(function(t,e){t(e,1,0)}),null)}var $k=vi("app-event-details-schedule",Qk,Zk,{},{},[]);class Jk{constructor(){}ngOnInit(){}}var tx=Dr({encapsulation:0,styles:[[""]],data:{}});function ex(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-attendees works!\n"]))],null,null)}function nx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-attendees",[],null,null,null,ex,tx)),Bi(1,114688,null,0,Jk,[],null,null)],(function(t,e){t(e,1,0)}),null)}var rx=vi("app-event-details-attendees",Jk,nx,{},{},[]);class ix{constructor(){}ngOnInit(){}}var ox=Dr({encapsulation:0,styles:[[""]],data:{}});function sx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-speakers works!\n"]))],null,null)}function lx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-speakers",[],null,null,null,sx,ox)),Bi(1,114688,null,0,ix,[],null,null)],(function(t,e){t(e,1,0)}),null)}var ax=vi("app-event-details-speakers",ix,lx,{},{},[]);class ux{constructor(){}ngOnInit(){}}var cx=Dr({encapsulation:0,styles:[[""]],data:{}});function hx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-sponsors works!\n"]))],null,null)}function dx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-sponsors",[],null,null,null,hx,cx)),Bi(1,114688,null,0,ux,[],null,null)],(function(t,e){t(e,1,0)}),null)}var px=vi("app-event-details-sponsors",ux,dx,{},{},[]);class fx{constructor(){}ngOnInit(){}}var gx=Dr({encapsulation:0,styles:[[""]],data:{}});function mx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-exhibitors works!\n"]))],null,null)}function vx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-exhibitors",[],null,null,null,mx,gx)),Bi(1,114688,null,0,fx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var yx=vi("app-event-details-exhibitors",fx,vx,{},{},[]);class bx{constructor(){}ngOnInit(){}}var _x=Dr({encapsulation:0,styles:[[""]],data:{}});function wx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-maps works!\n"]))],null,null)}function Cx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-maps",[],null,null,null,wx,_x)),Bi(1,114688,null,0,bx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Ex=vi("app-event-details-maps",bx,Cx,{},{},[]);class Sx{constructor(){}ngOnInit(){}}var Ix=Dr({encapsulation:0,styles:[[""]],data:{}});function Tx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-pages works!\n"]))],null,null)}function kx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-pages",[],null,null,null,Tx,Ix)),Bi(1,114688,null,0,Sx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var xx=vi("app-event-details-pages",Sx,kx,{},{},[]);class Ax{constructor(){}ngOnInit(){}}var Px=Dr({encapsulation:0,styles:[[""]],data:{}});function Dx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-forms works!\n"]))],null,null)}function Ox(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-forms",[],null,null,null,Dx,Px)),Bi(1,114688,null,0,Ax,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Nx=vi("app-event-details-forms",Ax,Ox,{},{},[]);class Rx{constructor(){}ngOnInit(){}}var Mx=Dr({encapsulation:0,styles:[[""]],data:{}});function Lx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-livepoll works!\n"]))],null,null)}function Fx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-livepoll",[],null,null,null,Lx,Mx)),Bi(1,114688,null,0,Rx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Vx=vi("app-event-details-livepoll",Rx,Fx,{},{},[]);class Ux{constructor(){}ngOnInit(){}}var qx=Dr({encapsulation:0,styles:[[""]],data:{}});function Bx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-floorplan works!\n"]))],null,null)}function jx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-floorplan",[],null,null,null,Bx,qx)),Bi(1,114688,null,0,Ux,[],null,null)],(function(t,e){t(e,1,0)}),null)}var zx=vi("app-event-details-floorplan",Ux,jx,{},{},[]);class Hx{constructor(){}ngOnInit(){}}var Wx=Dr({encapsulation:0,styles:[[""]],data:{}});function Kx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-weather works!\n"]))],null,null)}function Gx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-weather",[],null,null,null,Kx,Wx)),Bi(1,114688,null,0,Hx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Qx=vi("app-event-details-weather",Hx,Gx,{},{},[]);class Yx{constructor(){}ngOnInit(){}}var Xx=Dr({encapsulation:0,styles:[[""]],data:{}});function Zx(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-externallinks works!\n"]))],null,null)}function $x(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-externallinks",[],null,null,null,Zx,Xx)),Bi(1,114688,null,0,Yx,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Jx=vi("app-event-details-externallinks",Yx,$x,{},{},[]);class tA{constructor(){}ngOnInit(){}}var eA=Dr({encapsulation:0,styles:[[""]],data:{}});function nA(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-activityfeed works!\n"]))],null,null)}function rA(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-activityfeed",[],null,null,null,nA,eA)),Bi(1,114688,null,0,tA,[],null,null)],(function(t,e){t(e,1,0)}),null)}var iA=vi("app-event-details-activityfeed",tA,rA,{},{},[]);class oA{constructor(){}ngOnInit(){}}var sA=Dr({encapsulation:0,styles:[[""]],data:{}});function lA(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,[" event-details-publicchat works!\n"]))],null,null)}function aA(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-publicchat",[],null,null,null,lA,sA)),Bi(1,114688,null,0,oA,[],null,null)],(function(t,e){t(e,1,0)}),null)}var uA=vi("app-event-details-publicchat",oA,aA,{},{},[]),cA=function(){var t={HEX:0,RGBA:1,HSLA:2,CMYK:3};return t[t.HEX]="HEX",t[t.RGBA]="RGBA",t[t.HSLA]="HSLA",t[t.CMYK]="CMYK",t}(),hA=function(){return function(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}}(),dA=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),pA=function(){return function(t,e,n,r){this.h=t,this.s=e,this.l=n,this.a=r}}(),fA=function(){return function(t,e,n,r,i){void 0===i&&(i=1),this.c=t,this.m=e,this.y=n,this.k=r,this.a=i}}(),gA=function(){function t(){this.newValue=new po}return t.prototype.inputChange=function(t){var e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{var n=parseFloat(e);this.newValue.emit({v:n,rg:this.rg})}},t}(),mA=function(){function t(t){var e=this;this.elRef=t,this.dragEnd=new po,this.dragStart=new po,this.newValue=new po,this.listenerMove=function(t){return e.move(t)},this.listenerStop=function(){return e.stop()}}return t.prototype.mouseDown=function(t){this.start(t)},t.prototype.touchStart=function(t){this.start(t)},t.prototype.move=function(t){t.preventDefault(),this.setCursor(t)},t.prototype.start=function(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},t.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},t.prototype.getX=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset},t.prototype.getY=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset},t.prototype.setCursor=function(t){var e=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(t),e)),i=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:r/e,v:1-i/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:i/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:r/e,rgX:this.rgX})},t}(),vA=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),yA=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),bA=function(){function t(){this.active=null}return t.prototype.setActive=function(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t},t.prototype.hsva2hsla=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;if(0===r)return new pA(e,0,0,i);if(0===n&&1===r)return new pA(e,1,1,i);var o=r*(2-n)/2;return new pA(e,r*n/(1-Math.abs(2*o-1)),o,i)},t.prototype.hsla2hsva=function(t){var e=Math.min(t.h,1),n=Math.min(t.s,1),r=Math.min(t.l,1),i=Math.min(t.a,1);if(0===r)return new dA(e,0,0,i);var o=r+n*(1-Math.abs(2*r-1))/2;return new dA(e,2*(o-r)/o,o,i)},t.prototype.hsvaToRgba=function(t){var e,n,r,i=t.h,o=t.s,s=t.v,l=t.a,a=Math.floor(6*i),u=6*i-a,c=s*(1-o),h=s*(1-u*o),d=s*(1-(1-u)*o);switch(a%6){case 0:e=s,n=d,r=c;break;case 1:e=h,n=s,r=c;break;case 2:e=c,n=s,r=d;break;case 3:e=c,n=h,r=s;break;case 4:e=d,n=c,r=s;break;case 5:e=s,n=c,r=h;break;default:e=0,n=0,r=0}return new hA(e,n,r,l)},t.prototype.cmykToRgb=function(t){return new hA((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)},t.prototype.rgbaToCmyk=function(t){var e=1-Math.max(t.r,t.g,t.b);return 1===e?new fA(0,0,0,1,t.a):new fA((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e,t.a)},t.prototype.rgbaToHsva=function(t){var e,n,r=Math.min(t.r,1),i=Math.min(t.g,1),o=Math.min(t.b,1),s=Math.min(t.a,1),l=Math.max(r,i,o),a=Math.min(r,i,o),u=l,c=l-a;if(n=0===l?0:c/l,l===a)e=0;else{switch(l){case r:e=(i-o)/c+(i<o?6:0);break;case i:e=(o-r)/c+2;break;case o:e=(r-i)/c+4;break;default:e=0}e/=6}return new dA(e,n,u,s)},t.prototype.rgbaToHex=function(t,e){var n="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n},t.prototype.normalizeCMYK=function(t){return new fA(t.c/100,t.m/100,t.y/100,t.k/100,t.a)},t.prototype.denormalizeCMYK=function(t){return new fA(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)},t.prototype.denormalizeRGBA=function(t){return new hA(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)},t.prototype.stringToHsva=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var n=null;t=(t||"").toLowerCase();var r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new hA(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new pA(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];for(var i in r.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new hA(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new hA(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new hA(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}}),r)if(r.hasOwnProperty(i)){var o=r[i],s=o.re.exec(t),l=s&&o.parse(s);if(l)return l instanceof hA?n=this.rgbaToHsva(l):l instanceof pA&&(n=this.hsla2hsva(l)),n}return n},t.prototype.outputFormat=function(t,e,n){switch("auto"===e&&(e=t.a<1?"rgba":"hex"),e){case"hsla":var r=this.hsva2hsla(t),i=new pA(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100);return t.a<1||"always"===n?"hsla("+i.h+","+i.s+"%,"+i.l+"%,"+i.a+")":"hsl("+i.h+","+i.s+"%,"+i.l+"%)";case"rgba":var o=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+o.r+","+o.g+","+o.b+","+Math.round(100*o.a)/100+")":"rgb("+o.r+","+o.g+","+o.b+")";default:var s="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),s)}},t}(),_A=function(){function t(t,e,n){this.elRef=t,this.cdRef=e,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[cA.HEX,cA.RGBA,cA.HSLA,cA.CMYK],this.useRootViewContainer=!1}return t.prototype.handleEsc=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)},t.prototype.handleEnter=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)},t.prototype.ngOnInit=function(){var t=this;this.slider=new vA(0,0,0,0),this.sliderDimMax=new yA(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?cA.CMYK:"rgba"===this.cpOutputFormat?cA.RGBA:"hsla"===this.cpOutputFormat?cA.HSLA:cA.HEX,this.listenerMouseDown=function(e){t.onMouseDown(e)},this.listenerResize=function(){t.onResize()},this.openDialog(this.initialColor,!1)},t.prototype.ngOnDestroy=function(){this.closeDialog()},t.prototype.ngAfterViewInit=function(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new yA(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())},t.prototype.openDialog=function(t,e){void 0===e&&(e=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()},t.prototype.closeDialog=function(){this.closeColorPicker()},t.prototype.setupDialog=function(t,e,n,r,i,o,s,l,a,u,c,h,d,p,f,g,m,v,y,b,_,w,C,E,S,I,T,k,x,A,P,D,O,N,R){this.setInitialColor(n),this.setColorMode(l),this.isIE10=10===function(){var t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());var e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=h,this.cpCmykEnabled=a,this.cpAlphaChannel=u,this.cpOutputFormat=c,this.cpDialogDisplay=o,this.cpIgnoredElements=d,this.cpSaveClickOutside=p,this.cpCloseClickOutside=f,this.useRootViewContainer=g,this.width=this.cpWidth=parseInt(r,10),this.height=this.cpHeight=parseInt(i,10),this.cpPosition=m,this.cpPositionOffset=parseInt(v,10),this.cpOKButton=I,this.cpOKButtonText=k,this.cpOKButtonClass=T,this.cpCancelButton=x,this.cpCancelButtonText=P,this.cpCancelButtonClass=A,this.fallbackColor=s||"#fff",this.setPresetConfig(b,_),this.cpPresetColorsClass=w,this.cpMaxPresetColorsLength=C,this.cpPresetEmptyMessage=E,this.cpPresetEmptyMessageClass=S,this.cpAddColorButton=D,this.cpAddColorButtonText=N,this.cpAddColorButtonClass=O,this.cpRemoveColorButtonClass=R,y||(this.dialogArrowOffset=0),"inline"===o&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===c&&"always"!==u&&"forced"!==u&&(this.cpAlphaChannel="disabled")},t.prototype.setColorMode=function(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}},t.prototype.setInitialColor=function(t){this.initialColor=t},t.prototype.setPresetConfig=function(t,e){this.cpPresetLabel=t,this.cpPresetColors=e},t.prototype.setColorFromString=function(t,e,n){var r;void 0===e&&(e=!0),void 0===n&&(n=!0),("always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel)&&((r=this.service.stringToHsva(t,!0))||this.hsva)||(r=this.service.stringToHsva(t,!1)),r||this.hsva||(r=this.service.stringToHsva(this.fallbackColor,!1)),r&&(this.hsva=r,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(e,n))},t.prototype.onResize=function(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onDragEnd=function(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})},t.prototype.onDragStart=function(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})},t.prototype.onMouseDown=function(t){!this.show||this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter((function(e){return e===t.target})).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor)),this.cpCloseClickOutside&&this.closeColorPicker())},t.prototype.onAcceptColor=function(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onCancelColor=function(t){t.stopPropagation(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},t.prototype.onFormatToggle=function(t){var e=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),n=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[n]},t.prototype.onColorChange=function(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},t.prototype.onHueChange=function(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},t.prototype.onValueChange=function(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaChange=function(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},t.prototype.onHexInput=function(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);var e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);var n=e.test(t);n&&(t.length<5&&(t="#"+t.substring(1).split("").map((function(t){return t+t})).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:t,color:this.outputColor})}},t.prototype.onRedInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:e.r,color:this.outputColor})},t.prototype.onBlueInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:e.b,color:this.outputColor})},t.prototype.onGreenInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:e.g,color:this.outputColor})},t.prototype.onHueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:e,value:this.hsva.h,color:this.outputColor})},t.prototype.onValueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:e,value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:e,value:this.hsva.a,color:this.outputColor})},t.prototype.onLightnessInput=function(t){var e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:e.l,color:this.outputColor})},t.prototype.onSaturationInput=function(t){var e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:e.s,color:this.outputColor})},t.prototype.onCyanInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})},t.prototype.onMagentaInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})},t.prototype.onYellowInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})},t.prototype.onBlackInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})},t.prototype.onAddPresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors.filter((function(t){return t===e})).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},t.prototype.onRemovePresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter((function(t){return t!==e})),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},t.prototype.openColorPicker=function(){var t=this;this.show||(this.show=!0,this.hidden=!0,setTimeout((function(){t.hidden=!1,t.setDialogPosition(),t.cdRef.detectChanges()}),0),this.directiveInstance.stateChanged(!0),this.isIE10||(document.addEventListener("mousedown",this.listenerMouseDown),document.addEventListener("touchstart",this.listenerMouseDown)),window.addEventListener("resize",this.listenerResize))},t.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(document.removeEventListener("mousedown",this.listenerMouseDown),document.removeEventListener("touchstart",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},t.prototype.updateColorPicker=function(t,e,n){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!1),this.sliderDimMax){2===this.cpColorMode&&(this.hsva.s=0);var r,i,o=void 0,s=this.outputColor;if(i=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(n?(o=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(o)):(o=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(o))),o=this.service.denormalizeRGBA(o),this.sliderH=this.hsva.h):o=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),r=this.service.denormalizeRGBA(this.service.hsvaToRgba(new dA(this.sliderH||this.hsva.h,1,1,1))),e&&(this.hslaText=new pA(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100),this.rgbaText=new hA(o.r,o.g,o.b,Math.round(100*o.a)/100),this.cpCmykEnabled&&(this.cmykText=new fA(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(o,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==cA.RGBA&&this.format!==cA.CMYK&&this.hsva.a<1&&(this.format=this.hsva.a<1?cA.RGBA:cA.HEX),this.hueSliderColor="rgb("+r.r+","+r.g+","+r.b+")",this.alphaSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==cA.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){var l=Math.round(100*this.cmyk.a)/100;this.cmykColor="cmyka("+this.cmyk.c+","+this.cmyk.m+","+this.cmyk.y+","+this.cmyk.k+","+l+")"}else this.cmykColor="cmyk("+this.cmyk.c+","+this.cmyk.m+","+this.cmyk.y+","+this.cmyk.k+")";this.slider=new vA((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&s!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}},t.prototype.setDialogPosition=function(){if("inline"===this.cpDialogDisplay)this.position="relative";else{for(var t="static",e="",n=void 0,r=null,i=null,o=this.directiveElementRef.nativeElement.parentNode,s=this.dialogElement.nativeElement.offsetHeight;null!==o&&"HTML"!==o.tagName;){if("static"!==(t=(n=window.getComputedStyle(o)).getPropertyValue("position"))&&null===r&&(r=o),(e=n.getPropertyValue("transform"))&&"none"!==e&&null===i&&(i=o),"fixed"===t){r=i;break}o=o.parentNode}var l=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!r||r instanceof HTMLUnknownElement))this.top=l.top,this.left=l.left;else{null===r&&(r=o);var a=this.createDialogBox(r,"fixed"!==t);this.top=l.top-a.top,this.left=l.left-a.left}"fixed"===t&&(this.position="fixed");var u=this.cpPosition;if("auto"===this.cpPosition){var c="right",h="bottom",d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0);this.left+this.cpWidth>d&&(c="left"),this.top+s>p&&(h="top"),u=c+"-"+h}this.cpUsePosition=u,"top"===u?(this.arrowTop=s-1,this.top-=s+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*l.width-this.dialogArrowOffset):"bottom"===u?(this.top+=l.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*l.width-this.dialogArrowOffset):"top-left"===u||"left-top"===u?(this.top-=s-l.height+l.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===u||"right-top"===u?(this.top-=s-l.height+l.height*this.cpPositionOffset/100,this.left+=l.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===u||"bottom-left"===u||"left-bottom"===u?(this.top+=l.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=l.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=l.width+this.dialogArrowSize-2)}},t.prototype.isDescendant=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},t.prototype.createDialogBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},t}(),wA=function(){function t(t,e,n,r,i,o){this.injector=t,this.cfr=e,this.appRef=n,this.vcRef=r,this.elRef=i,this._service=o,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new po(!0),this.cpToggleChange=new po(!0),this.cpSliderChange=new po(!0),this.cpSliderDragEnd=new po(!0),this.cpSliderDragStart=new po(!0),this.colorPickerOpen=new po(!0),this.colorPickerClose=new po(!0),this.colorPickerCancel=new po(!0),this.colorPickerSelect=new po(!0),this.colorPickerChange=new po(!1),this.cpCmykColorChange=new po(!0),this.cpPresetColorsChange=new po(!0)}return t.prototype.handleClick=function(){this.inputFocus()},t.prototype.handleFocus=function(){this.inputFocus()},t.prototype.handleInput=function(t){this.inputChange(t)},t.prototype.ngOnDestroy=function(){void 0!==this.cmpRef&&this.cmpRef.destroy()},t.prototype.ngOnChanges=function(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},t.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var t=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){var e=this.injector.get(this.appRef.componentTypes[0]);(t=e.vcRef||e.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var n=this.cfr.resolveComponentFactory(_A),r=yn.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(n,0,r,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}},t.prototype.closeDialog=function(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()},t.prototype.cmykChanged=function(t){this.cpCmykColorChange.emit(t)},t.prototype.stateChanged=function(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},t.prototype.colorChanged=function(t,e){void 0===e&&(e=!0),this.ignoreChanges=e,this.colorPickerChange.emit(t)},t.prototype.colorSelected=function(t){this.colorPickerSelect.emit(t)},t.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},t.prototype.inputFocus=function(){var t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter((function(e){return e===t}));this.cpDisabled||e.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())},t.prototype.inputChange=function(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))},t.prototype.inputChanged=function(t){this.cpInputChange.emit(t)},t.prototype.sliderChanged=function(t){this.cpSliderChange.emit(t)},t.prototype.sliderDragEnd=function(t){this.cpSliderDragEnd.emit(t)},t.prototype.sliderDragStart=function(t){this.cpSliderDragStart.emit(t)},t.prototype.presetColorsChanged=function(t){this.cpPresetColorsChange.emit(t)},t}(),CA=function(){return function(){}}();class EA{constructor(t,e){this.route=t,this.dataService=e,this.design={primaryTextColor:"#ffffff",primaryBackgroundColor:"#0c3e5e",pageTextColor:"#ffffff",pageBackgroundColor:"#0c3e5e",iconImg:"../../../../assets/img/no_img.png",coverImg:"../../../../assets/img/no_img.png"},this.stillLoadingContent=!0,this.isSavingEventDesign=!1,this.saveDesignShowSuccessMsg=!1,this.imgObject={newIcon:null,oldIconUrl:null,newCover:null,oldCoverUrl:null},this.uploadingNewIconImage=!1,this.uploadingNewCoverImage=!1,this.stillLoadingHomePageContent=!0,this.isSavingEventHomePage=!1,this.saveHomePageShowSuccessMsg=!1,this.homePageData={title_tra:{},description_tra:{},customHtml_tra:{},cover_img:"../../../../assets/img/no_img.png",hideTitle:!1,hideDescription:!1,hideCoverImage:!1,hideGridIcon:!1,useCustomHtml:!1},this.uploadingNewHomePageCoverImage=!1,this.homePageCoverImageObject={newCover:null,oldCover:null}}clearEventImagesStatus(){this.imgObject={newIcon:null,oldIconUrl:null,newCover:null,oldCoverUrl:null}}ngOnInit(){this.currentEventCode=this.route.snapshot.parent.params.id,this.dataService.getEventDesign(this.currentEventCode).then(t=>{this.stillLoadingContent=!1,t&&(this.design=t)},t=>{console.log(t)})}onIconImageSelected(t){if(this.uploadingNewIconImage=!0,t.target.files.length){this.imgObject.newIcon=t.target.files[0],this.imgObject.oldIconUrl=this.design.iconImg;let e=this,n=new FileReader;/^image\//i.test(t.target.files[0].type)&&(n.onloadend=function(t){e.design.iconImg=n.result,e.uploadingNewIconImage=!1},n.onerror=function(t){console.log(t),e.uploadingNewIconImage=!1},n.readAsDataURL(t.target.files[0]))}}onCoverImageSelected(t){if(this.uploadingNewCoverImage=!0,t.target.files.length){this.imgObject.newCover=t.target.files[0],this.imgObject.oldCoverUrl=this.design.coverImg;let e=this,n=new FileReader;/^image\//i.test(t.target.files[0].type)&&(n.onloadend=function(t){e.design.coverImg=n.result,e.uploadingNewCoverImage=!1},n.onerror=function(t){console.log(t),e.uploadingNewCoverImage=!1},n.readAsDataURL(t.target.files[0]))}}saveEventDesign(){this.isSavingEventDesign=!0;let t=this;this.dataService.saveEventDesign(this.currentEventCode,this.design,this.imgObject.newIcon,this.imgObject.newCover).then(e=>{this.isSavingEventDesign=!1,this.saveDesignShowSuccessMsg=!0,setTimeout(()=>{this.saveDesignShowSuccessMsg=!1},1e3);let n=[];this.imgObject.oldIconUrl&&"../../../../assets/img/no_img.png"!==this.imgObject.oldIconUrl&&n.push(this.imgObject.oldIconUrl.split("?alt")[0].split("o/")[1].replace(/%2F/g,"/")),this.imgObject.oldCoverUrl&&"../../../../assets/img/no_img.png"!==this.imgObject.oldCoverUrl&&n.push(this.imgObject.oldCoverUrl.split("?alt")[0].split("o/")[1].replace(/%2F/g,"/")),t.dataService.deleteOldEventIconAndCoverImages(this.currentEventCode,n).then(t=>{},t=>{console.log(t)}),this.clearEventImagesStatus()},t=>{console.log(t),this.isSavingEventDesign=!1,this.saveDesignShowSuccessMsg=!0,setTimeout(()=>{this.saveDesignShowSuccessMsg=!1},1e3)})}tabChanged(t){1===t.index&&this.dataService.getEventData(this.currentEventCode).then(t=>{this.eventSettings=t,this.dataService.getEventHomePageDesign(this.currentEventCode).then(t=>{t&&(this.homePageData=t),this.stillLoadingHomePageContent=!1},t=>{console.log(t)})},t=>{console.log(t)})}saveHomePageData(){this.isSavingEventHomePage=!0;let t=this;this.dataService.saveEventHomePageDesign(this.currentEventCode,this.homePageData,this.homePageCoverImageObject.newCover).then(e=>{if(this.isSavingEventHomePage=!1,this.saveHomePageShowSuccessMsg=!0,setTimeout(()=>{this.saveHomePageShowSuccessMsg=!1},1e3),this.homePageCoverImageObject.oldCover&&"../../../../assets/img/no_img.png"!==this.homePageCoverImageObject.oldCover){let e=this.homePageCoverImageObject.oldCover.split("?alt")[0].split("o/")[1].replace(/%2F/g,"/");t.dataService.deleteImage(e).then(t=>{},t=>{console.log(t)})}this.homePageCoverImageObject={newCover:null,oldCover:null}},t=>{console.log(t),this.isSavingEventHomePage=!1,this.saveHomePageShowSuccessMsg=!0,setTimeout(()=>{this.saveHomePageShowSuccessMsg=!1},1e3)})}getHomePageTitleForCurrentLang(t){return void 0===this.homePageData.title_tra[t]&&(this.homePageData.title_tra[t]=""),this.homePageData.title_tra[t]}setHomePageTitleForCurrentLang(t,e){this.homePageData.title_tra[t]=e}getHomePageDescriptionForCurrentLang(t){return void 0===this.homePageData.description_tra[t]&&(this.homePageData.description_tra[t]=""),this.homePageData.description_tra[t]}setHomePageDescriptionForCurrentLang(t,e){this.homePageData.description_tra[t]=e}getHomePageCustomHTMLForCurrentLang(t){return void 0===this.homePageData.customHtml_tra[t]&&(this.homePageData.customHtml_tra[t]=""),this.homePageData.customHtml_tra[t]}setHomePageCustomHTMLForCurrentLang(t,e){this.homePageData.customHtml_tra[t]=e}onHomePageCoverImageSelected(t){if(this.uploadingNewHomePageCoverImage=!0,t.target.files.length){this.homePageCoverImageObject.newCover=t.target.files[0],this.homePageCoverImageObject.oldCover=this.homePageData.cover_img;let e=this,n=new FileReader;/^image\//i.test(t.target.files[0].type)&&(n.onloadend=function(t){e.homePageData.cover_img=n.result,e.uploadingNewHomePageCoverImage=!1},n.onerror=function(t){console.log(t),e.uploadingNewHomePageCoverImage=!1},n.readAsDataURL(t.target.files[0]))}}}var SA=Dr({encapsulation:0,styles:[[".event-design-container[_ngcontent-%COMP%]     .mat-ink-bar, .mat-ink-bar[_ngcontent-%COMP%]{background-color:#1d2531}.content-view-loading-inner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#1d2531}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-design-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-home-page-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .upload-new-img-spinner[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#1d2531}.upload-new-img-spinner[_ngcontent-%COMP%], .upload-new-img-spinner-label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.event-design-container[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .save-design-container[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .save-home-page-container[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]{padding:10px}.event-design-container[_ngcontent-%COMP%]   .save-design-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .save-home-page-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.event-design-container[_ngcontent-%COMP%]   .save-design-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .save-home-page-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]{padding:10px}.event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.event-design-container[_ngcontent-%COMP%]   .upload-new-img-spinner[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.event-design-container[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:block;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;-webkit-padding-before:.35em;padding-block-start:.35em;-webkit-padding-start:.75em;padding-inline-start:.75em;-webkit-padding-end:.75em;padding-inline-end:.75em;-webkit-padding-after:.625em;padding-block-end:.625em;min-inline-size:-webkit-min-content;min-inline-size:-moz-min-content;min-inline-size:min-content;-o-border-image:initial;border-image:initial;border-radius:10px;margin:10px;border:1px solid #ced4da}.event-design-container[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;padding:10px}.event-design-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.event-design-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .event-design-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.event-design-container[_ngcontent-%COMP%]   input[type=custom_color][_ngcontent-%COMP%]{display:block;width:auto;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.event-design-container[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]{border-radius:10px}.event-design-container[_ngcontent-%COMP%]   .input-file-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.event-design-container[_ngcontent-%COMP%]   .input-file-upload[_ngcontent-%COMP%]{display:none}.event-design-container[_ngcontent-%COMP%]   .input-file-upload[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:#fff;background-color:#1d2531;max-width:80%;font-size:1rem;font-weight:700;text-overflow:ellipsis;display:inline-block;overflow:hidden;padding:.625rem 1.25rem}.event-design-container[_ngcontent-%COMP%]   .input-file-upload[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1em;height:1em;vertical-align:middle;fill:currentColor;margin-top:-.25em;margin-right:.25em}.event-design-container[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]{width:100%;padding:10px}.event-design-container[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%}.event-design-container[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   .homepage-cover[_ngcontent-%COMP%]{max-width:25%}"]],data:{}});function IA(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function TA(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-design-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function kA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Design was successfully saved!"]))],null,null)}function xA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","upload-new-img-spinner"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function AA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","upload-new-img-spinner"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function PA(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function DA(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-home-page-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function OA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Home Page was successfully saved!"]))],null,null)}function NA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","upload-new-img-spinner"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(2,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,2,0,30)}),(function(t,e){t(e,1,0,xi(e,2)._noopAnimations,xi(e,2).diameter,xi(e,2).diameter)}))}function RA(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,62,"mat-tab",[],null,null,null,nT,tT)),Bi(1,770048,[[6,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,7,{templateLabel:0}),Ls(335544320,8,{_explicitContent:0}),(t()(),Ds(4,0,null,0,5,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Title in "])),(t()(),Ds(6,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(7,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(9,0,null,null,0,"input",[["required",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setHomePageTitleForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Ds(10,0,null,0,6,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Description in "])),(t()(),Ds(12,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(13,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(15,0,null,null,1,"textarea",[["cols","30"],["required",""],["rows","5"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setHomePageDescriptionForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Gs(-1,null,["                        "])),(t()(),Ds(17,0,null,0,13,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(18,0,null,null,12,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(19,0,null,null,1,"div",[["class","input-file-label"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Icon image:"])),(t()(),Ds(21,0,null,null,1,"div",[["class","image-preview-container"]],null,null,null,null,null)),(t()(),Ds(22,0,null,null,0,"img",[["alt","Icon image"],["class","homepage-cover"]],[[8,"src",4]],null,null,null,null)),(t()(),Ds(23,0,null,null,0,"input",[["class","input-file-upload"],["id","event-homepage-cover-image"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onHomePageCoverImageSelected(n)&&r),r}),null,null)),(t()(),Ds(24,0,null,null,4,"label",[["class","upload-new-img-spinner-label"],["for","event-homepage-cover-image"]],null,null,null,null,null)),(t()(),Ds(25,0,null,null,1,":svg:svg",[["height","17"],["viewBox","0 0 20 17"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Ds(26,0,null,null,0,":svg:path",[["d","M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"]],null,null,null,null,null)),(t()(),Ds(27,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Choose a file"])),(t()(),Ps(16777216,null,null,1,null,NA)),Bi(30,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(31,0,null,0,24,"div",[["class","mb-row pading-top-10"]],null,null,null,null,null)),(t()(),Ds(32,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(33,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Hide Title: "])),(t()(),Ds(35,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(36,0,[["hideTitleCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.homePageData.hideTitle=xi(t,36).checked)&&r),r}),null,null)),(t()(),Ds(37,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(38,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(39,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Hide Description: "])),(t()(),Ds(41,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(42,0,[["hideDescriptionCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.homePageData.hideDescription=xi(t,42).checked)&&r),r}),null,null)),(t()(),Ds(43,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(44,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(45,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Hide Cover Image: "])),(t()(),Ds(47,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(48,0,[["hideCoverImageCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.homePageData.hideCoverImage=xi(t,48).checked)&&r),r}),null,null)),(t()(),Ds(49,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(50,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(51,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Hide GRID Icons: "])),(t()(),Ds(53,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(54,0,[["hideGridIconCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.homePageData.hideGridIcon=xi(t,54).checked)&&r),r}),null,null)),(t()(),Ds(55,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ds(56,0,null,0,6,"div",[["class","mb-row pading-top-10"]],null,null,null,null,null)),(t()(),Ds(57,0,null,null,5,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(58,0,null,null,1,"label",[["class","display-block"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Use Custom HTML: "])),(t()(),Ds(60,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(t()(),Ds(61,0,[["useCustomHtmlCheckbox",1]],null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==(t.component.homePageData.useCustomHtml=xi(t,61).checked)&&r),r}),null,null)),(t()(),Ds(62,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Ps(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,ii(1,"",e.context.$implicit,"")),t(e,30,0,n.uploadingNewHomePageCoverImage)}),(function(t,e){var n=e.component;t(e,7,0,e.context.$implicit),t(e,9,0,n.getHomePageTitleForCurrentLang(e.context.$implicit)),t(e,13,0,e.context.$implicit),t(e,15,0,n.getHomePageDescriptionForCurrentLang(e.context.$implicit)),t(e,22,0,ii(1,"",n.homePageData.cover_img,"")),t(e,36,0,n.homePageData.hideTitle),t(e,42,0,n.homePageData.hideDescription),t(e,48,0,n.homePageData.hideCoverImage),t(e,54,0,n.homePageData.hideGridIcon),t(e,61,0,n.homePageData.useCustomHtml)}))}function MA(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,10,"mat-tab",[],null,null,null,nT,tT)),Bi(1,770048,[[9,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,10,{templateLabel:0}),Ls(335544320,11,{_explicitContent:0}),(t()(),Ds(4,0,null,0,6,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["CUSTOM HTML in "])),(t()(),Ds(6,0,null,null,1,"span",[["class","curr-lang-label"]],null,null,null,null,null)),(t()(),Gs(7,null,["",""])),(t()(),Gs(-1,null,[": "])),(t()(),Ds(9,0,null,null,1,"textarea",[["cols","30"],["required",""],["rows","10"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.setHomePageCustomHTMLForCurrentLang(t.context.$implicit,n.target.value)&&r),r}),null,null)),(t()(),Gs(-1,null,["                        "])),(t()(),Ps(0,null,null,0))],(function(t,e){t(e,1,0,ii(1,"",e.context.$implicit,""))}),(function(t,e){var n=e.component;t(e,7,0,e.context.$implicit),t(e,9,0,n.getHomePageCustomHTMLForCurrentLang(e.context.$implicit))}))}function LA(t){return Xs(0,[(t()(),Ds(0,0,null,null,25,"div",[["class","home-page-edit padding-10"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,6,"div",[["class","event-home-page-nav text-align-right"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveHomePageData()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save Home Page"])),(t()(),Ps(16777216,null,null,1,null,DA)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,OA)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(8,0,null,null,8,"fieldset",[],null,null,null,null,null)),(t()(),Ds(9,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Home page Settings:"])),(t()(),Ds(11,0,null,null,5,"div",[["id","event-langs-nav"]],null,null,null,null,null)),(t()(),Ds(12,0,null,null,4,"mat-tab-group",[["animationDuration","0ms"],["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,QI,jI)),Bi(13,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},null),Ls(603979776,6,{_tabs:1}),(t()(),Ps(16777216,null,null,1,null,RA)),Bi(16,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),(t()(),Ds(17,0,null,null,8,"fieldset",[],null,null,null,null,null)),(t()(),Ds(18,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Home page Custom HTML:"])),(t()(),Ds(20,0,null,null,5,"div",[["id","event-langs-nav"]],null,null,null,null,null)),(t()(),Ds(21,0,null,null,4,"mat-tab-group",[["animationDuration","0ms"],["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,QI,jI)),Bi(22,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},null),Ls(603979776,9,{_tabs:1}),(t()(),Ps(16777216,null,null,1,null,MA)),Bi(25,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.isSavingEventHomePage),t(e,7,0,n.saveHomePageShowSuccessMsg),t(e,13,0,"0ms"),t(e,16,0,n.eventSettings.event_languages),t(e,22,0,"0ms"),t(e,25,0,n.eventSettings.event_languages)}),(function(t,e){t(e,12,0,xi(e,13).dynamicHeight,"below"===xi(e,13).headerPosition),t(e,21,0,xi(e,22).dynamicHeight,"below"===xi(e,22).headerPosition)}))}function FA(t){return Xs(0,[(t()(),Ds(0,0,null,null,75,"div",[["class","event-design-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,74,"mat-tab-group",[["animationDuration","0ms"],["class","mat-tab-group"],["mat-align-tabs","left"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],(function(t,e,n){var r=!0;return"selectedTabChange"===e&&(r=!1!==t.component.tabChanged(n)&&r),r}),QI,jI)),Bi(2,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},{selectedTabChange:"selectedTabChange"}),Ls(603979776,1,{_tabs:1}),(t()(),Ds(4,16777216,null,null,63,"mat-tab",[["class","main-design-box"],["label","Design"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,nT,tT)),Bi(5,770048,[[1,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,2,{templateLabel:0}),Ls(335544320,3,{_explicitContent:0}),(t()(),Ds(8,0,null,0,59,"div",[["class","colors-form padding-10"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,6,"div",[["class","event-design-nav text-align-right"]],null,null,null,null,null)),(t()(),Ds(10,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEventDesign()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save Design"])),(t()(),Ps(16777216,null,null,1,null,TA)),Bi(13,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,kA)),Bi(15,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(16,0,null,null,21,"fieldset",[],null,null,null,null,null)),(t()(),Ds(17,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Colors:"])),(t()(),Ds(19,0,null,null,18,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(20,0,null,null,8,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(21,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Primary Text Color: "])),(t()(),Ds(23,16777216,null,null,1,"input",[["type","custom_color"]],[[8,"value",0],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==xi(t,24).handleClick()&&r),"focus"===e&&(r=!1!==xi(t,24).handleFocus()&&r),"input"===e&&(r=!1!==xi(t,24).handleInput(n)&&r),"colorPickerChange"===e&&(r=!1!==(i.design.primaryTextColor=n)&&r),r}),null,null)),Bi(24,671744,null,0,wA,[ze,Ln,us,dr,qn,bA],{colorPicker:[0,"colorPicker"],cpCancelButton:[1,"cpCancelButton"]},{colorPickerChange:"colorPickerChange"}),(t()(),Ds(25,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Primary Background Color: "])),(t()(),Ds(27,16777216,null,null,1,"input",[["type","custom_color"]],[[8,"value",0],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==xi(t,28).handleClick()&&r),"focus"===e&&(r=!1!==xi(t,28).handleFocus()&&r),"input"===e&&(r=!1!==xi(t,28).handleInput(n)&&r),"colorPickerChange"===e&&(r=!1!==(i.design.primaryBackgroundColor=n)&&r),r}),null,null)),Bi(28,671744,null,0,wA,[ze,Ln,us,dr,qn,bA],{colorPicker:[0,"colorPicker"],cpCancelButton:[1,"cpCancelButton"]},{colorPickerChange:"colorPickerChange"}),(t()(),Ds(29,0,null,null,8,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(30,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Page Text Color: "])),(t()(),Ds(32,16777216,null,null,1,"input",[["type","custom_color"]],[[8,"value",0],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==xi(t,33).handleClick()&&r),"focus"===e&&(r=!1!==xi(t,33).handleFocus()&&r),"input"===e&&(r=!1!==xi(t,33).handleInput(n)&&r),"colorPickerChange"===e&&(r=!1!==(i.design.pageTextColor=n)&&r),r}),null,null)),Bi(33,671744,null,0,wA,[ze,Ln,us,dr,qn,bA],{colorPicker:[0,"colorPicker"],cpCancelButton:[1,"cpCancelButton"]},{colorPickerChange:"colorPickerChange"}),(t()(),Ds(34,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Page Background Color: "])),(t()(),Ds(36,16777216,null,null,1,"input",[["type","custom_color"]],[[8,"value",0],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==xi(t,37).handleClick()&&r),"focus"===e&&(r=!1!==xi(t,37).handleFocus()&&r),"input"===e&&(r=!1!==xi(t,37).handleInput(n)&&r),"colorPickerChange"===e&&(r=!1!==(i.design.pageBackgroundColor=n)&&r),r}),null,null)),Bi(37,671744,null,0,wA,[ze,Ln,us,dr,qn,bA],{colorPicker:[0,"colorPicker"],cpCancelButton:[1,"cpCancelButton"]},{colorPickerChange:"colorPickerChange"}),(t()(),Ds(38,0,null,null,29,"fieldset",[],null,null,null,null,null)),(t()(),Ds(39,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Images:"])),(t()(),Ds(41,0,null,null,26,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(42,0,null,null,12,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(43,0,null,null,1,"div",[["class","input-file-label"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Icon image:"])),(t()(),Ds(45,0,null,null,1,"div",[["class","image-preview-container"]],null,null,null,null,null)),(t()(),Ds(46,0,null,null,0,"img",[["alt","Icon image"]],[[8,"src",4]],null,null,null,null)),(t()(),Ds(47,0,null,null,0,"input",[["class","input-file-upload"],["id","event-design-icon-image"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onIconImageSelected(n)&&r),r}),null,null)),(t()(),Ds(48,0,null,null,4,"label",[["class","upload-new-img-spinner-label"],["for","event-design-icon-image"]],null,null,null,null,null)),(t()(),Ds(49,0,null,null,1,":svg:svg",[["height","17"],["viewBox","0 0 20 17"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Ds(50,0,null,null,0,":svg:path",[["d","M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"]],null,null,null,null,null)),(t()(),Ds(51,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Choose a file"])),(t()(),Ps(16777216,null,null,1,null,xA)),Bi(54,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(55,0,null,null,12,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(56,0,null,null,1,"div",[["class","input-file-label"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Cover image:"])),(t()(),Ds(58,0,null,null,1,"div",[["class","image-preview-container"]],null,null,null,null,null)),(t()(),Ds(59,0,null,null,0,"img",[["alt","Icon image"]],[[8,"src",4]],null,null,null,null)),(t()(),Ds(60,0,null,null,0,"input",[["class","input-file-upload"],["id","event-design-cover-image"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onCoverImageSelected(n)&&r),r}),null,null)),(t()(),Ds(61,0,null,null,4,"label",[["class","upload-new-img-spinner-label"],["for","event-design-cover-image"]],null,null,null,null,null)),(t()(),Ds(62,0,null,null,1,":svg:svg",[["height","17"],["viewBox","0 0 20 17"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Ds(63,0,null,null,0,":svg:path",[["d","M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"]],null,null,null,null,null)),(t()(),Ds(64,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Choose a file"])),(t()(),Ps(16777216,null,null,1,null,AA)),Bi(67,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(68,16777216,null,null,7,"mat-tab",[["class","home-screen-box"],["label","Home Screen"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,nT,tT)),Bi(69,770048,[[1,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,4,{templateLabel:0}),Ls(335544320,5,{_explicitContent:0}),(t()(),Ps(16777216,null,0,1,null,PA)),Bi(73,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,0,1,null,LA)),Bi(75,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"0ms"),t(e,5,0,"Design"),t(e,13,0,n.isSavingEventDesign),t(e,15,0,n.saveDesignShowSuccessMsg),t(e,24,0,n.design.primaryTextColor,!0),t(e,28,0,n.design.primaryBackgroundColor,!0),t(e,33,0,n.design.pageTextColor,!0),t(e,37,0,n.design.pageBackgroundColor,!0),t(e,54,0,n.uploadingNewIconImage),t(e,67,0,n.uploadingNewCoverImage),t(e,69,0,"Home Screen"),t(e,73,0,n.stillLoadingHomePageContent),t(e,75,0,!n.stillLoadingHomePageContent)}),(function(t,e){var n=e.component;t(e,1,0,xi(e,2).dynamicHeight,"below"===xi(e,2).headerPosition),t(e,23,0,n.design.primaryTextColor,n.design.primaryTextColor),t(e,27,0,n.design.primaryBackgroundColor,n.design.primaryBackgroundColor),t(e,32,0,n.design.pageTextColor,n.design.pageTextColor),t(e,36,0,n.design.pageBackgroundColor,n.design.pageBackgroundColor),t(e,46,0,ii(1,"",n.design.iconImg,"")),t(e,59,0,ii(1,"",n.design.coverImg,""))}))}function VA(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,IA)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,FA)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.stillLoadingContent),t(e,3,0,!n.stillLoadingContent)}),null)}function UA(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-design",[],null,null,null,VA,SA)),Bi(1,114688,null,0,EA,[ug,Gh],null,null)],(function(t,e){t(e,1,0)}),null)}var qA=vi("app-event-details-design",EA,UA,{},{},[]);class BA{transform(t,...e){let n=e[0];return n.length?t.filter(t=>-1!==t.default_tra.indexOf(n)||-1!==t.key.indexOf(n)||-1!==t.value.indexOf(n)):t}}let jA=(()=>{class t{constructor(){this.eventTranslations_default=[{key:"mobile_yes",value:"Yes",default_tra:"Yes"},{key:"mobile_no",value:"No",default_tra:"No"},{key:"mobile_event_code",value:"Event Code",default_tra:"Event Code"},{key:"mobile_submit_event_code",value:"Enter Event Code",default_tra:"Enter Event Code"},{key:"mobile_wrong_event_code",value:"Wrong Event Code!",default_tra:"Wrong Event Code!"}],this.eventTranslations_english=[{key:"mobile_yes",value:"Yes",default_tra:"Yes"},{key:"mobile_no",value:"No",default_tra:"No"},{key:"mobile_event_code",value:"Event Code",default_tra:"Event Code"},{key:"mobile_submit_event_code",value:"Enter Event Code",default_tra:"Enter Event Code"},{key:"mobile_wrong_event_code",value:"Wrong Event Code!",default_tra:"Wrong Event Code!"}]}getSystemTranslationsInSpecificLanguage(t){return void 0!==this["eventTranslations_"+t.toLowerCase()]?this["eventTranslations_"+t.toLowerCase()]:JSON.parse(JSON.stringify(this.eventTranslations_default))}mergeTranslations(t,e,n,r){return t.filter((function(t){return!e.find((function(e){if(t.key===e.key){for(const t in n)if(n.hasOwnProperty(t)&&n[t]&&t===e.key){for(let n=0;n<r.length;n++){const i=r[n];if(i.key===t){e.value=i.value;break}}break}return!0}return!1}))})).concat(e)}}return t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class zA{constructor(t,e,n){this.route=t,this.dataService=e,this.translationsService=n,this.stillLoadingContent=!0,this.stillLoadingTranslationsList=!1,this.eventTranslations={},this.selectedLanguageTabIndex=0,this.inputsStatus={},this.unsavedTranslationsShowWarningMsg={},this.isSavingEventTranslations=!1,this.saveTranslationsShowSuccessMsg=!1,this.searchWord="",this.currentEventCode=this.route.snapshot.parent.params.id}sortTranslationsByKey(t,e){let n=t.key.toLowerCase(),r=e.key.toLowerCase();return n.localeCompare(r)}getEventTranslationInSpecificLanguage(t,e=!1){this.eventTranslations[t].length?(e&&(this.stillLoadingContent=!1),this.stillLoadingTranslationsList=!1):this.dataService.getEventTranslations(this.currentEventCode,t).then(n=>{this.eventTranslations[t]=n.length?n.sort(this.sortTranslationsByKey):this.translationsService.getSystemTranslationsInSpecificLanguage(t).sort(this.sortTranslationsByKey),e&&(this.stillLoadingContent=!1),this.stillLoadingTranslationsList=!1},t=>{console.log(t)})}ngOnInit(){this.dataService.getEventData(this.currentEventCode).then(t=>{this.eventSettings=t;for(let e=0;e<t.event_languages.length;e++)this.eventTranslations[t.event_languages[e]]=[],this.inputsStatus[t.event_languages[e]]={},this.unsavedTranslationsShowWarningMsg[t.event_languages[e]]=!1;this.getEventTranslationInSpecificLanguage(this.eventSettings.event_languages[0],!0)},t=>{console.log(t)})}translationDetectChange(t,e){let n=!1,r=this.eventSettings.event_languages[this.selectedLanguageTabIndex];for(var i in this.inputsStatus[r][t]=!0,this.inputsStatus[r])this.inputsStatus[r].hasOwnProperty(i)&&(n=!0);n&&(this.unsavedTranslationsShowWarningMsg[r]=!0)}languageTabChanged(t){this.stillLoadingTranslationsList=!0,this.selectedLanguageTabIndex=t.index,this.getEventTranslationInSpecificLanguage(this.eventSettings.event_languages[t.index])}saveEventTranslations(){this.isSavingEventTranslations=!0,this.dataService.saveEventTranslations(this.currentEventCode,this.eventTranslations,this.eventSettings.event_languages.length).then(t=>{this.isSavingEventTranslations=!1,this.saveTranslationsShowSuccessMsg=!0;for(let e=0;e<this.eventSettings.event_languages.length;e++)this.inputsStatus[this.eventSettings.event_languages[e]]={},this.unsavedTranslationsShowWarningMsg[this.eventSettings.event_languages[e]]=!1;setTimeout(()=>{this.saveTranslationsShowSuccessMsg=!1},3e3)},t=>{console.log(t)})}}var HA=Dr({encapsulation:0,styles:[[".content-view-loading-inner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#0c3e5e}.mat-ink-bar[_ngcontent-%COMP%], .translations-list[_ngcontent-%COMP%]     .mat-ink-bar{background-color:#0c3e5e}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .save-translations-container[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#e9760a}.event-translations-main-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .event-translations-main-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .event-translations-main-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .event-translations-main-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.event-translations-main-container[_ngcontent-%COMP%]   .save-translations-container[_ngcontent-%COMP%], .event-translations-main-container[_ngcontent-%COMP%]   .translations-nav-container[_ngcontent-%COMP%]{padding:10px}.event-translations-main-container[_ngcontent-%COMP%]   .save-translations-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;padding-right:10px}.event-translations-main-container[_ngcontent-%COMP%]   .save-translations-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;text-align:center;display:flex;flex-direction:row;padding-left:0;margin-bottom:0;width:100%;color:#424951;font-size:.8rem;transition:.3s all ease}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]:hover{background-color:#d1d8e0}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]   .translation-col-box[_ngcontent-%COMP%]{border:1px solid #e6eeee;padding:10px}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]   .tra-key[_ngcontent-%COMP%]{font-weight:700}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]   .tra-default[_ngcontent-%COMP%]{font-style:italic}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.8rem;font-weight:400;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.event-translations-main-container[_ngcontent-%COMP%]   .translation-list-item[_ngcontent-%COMP%]   .translation-input-dirty[_ngcontent-%COMP%]{color:#e9760a;font-weight:700}"]],data:{}});function WA(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function KA(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","save-translations-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Saving... "])),(t()(),Ds(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(4,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,4,0,30)}),(function(t,e){t(e,3,0,xi(e,4)._noopAnimations,xi(e,4).diameter,xi(e,4).diameter)}))}function GA(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"span",[["class","alert_message_success"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Event Translations were successfully saved!"]))],null,null)}function QA(t){return Xs(0,[(t()(),Ds(0,0,null,null,3,"div",[["class","mb-container content-view-loading-outer"],["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","content-view-loading-inner"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,gw,dw)),Bi(3,114688,null,0,ay,[qn,sv,[2,uh],[2,cw],oy],{diameter:[0,"diameter"]},null)],(function(t,e){t(e,3,0,30)}),(function(t,e){t(e,2,0,xi(e,3)._noopAnimations,xi(e,3).diameter,xi(e,3).diameter)}))}function YA(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","number-of-unsaved-translations"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,3,"span",[["class","alert_message_warning"]],null,null,null,null,null)),(t()(),Gs(-1,null,["There are unsaved translations in "])),(t()(),Ds(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(4,null,["",""]))],null,(function(t,e){t(e,4,0,e.parent.parent.context.$implicit)}))}function XA(t){return Xs(0,[(t()(),Ds(0,0,null,null,10,"div",[["class","translation-list-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,9,"div",[["class","mb-row translation-list-item"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"div",[["class","mb-col-sm-3 translation-col-box tra-key"]],null,null,null,null,null)),(t()(),Gs(3,null,["",""])),(t()(),Ds(4,0,null,null,1,"div",[["class","mb-col-sm-3 translation-col-box tra-default"]],null,null,null,null,null)),(t()(),Gs(5,null,["",""])),(t()(),Ds(6,0,null,null,4,"div",[["class","mb-col-sm-6 translation-col-box"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,3,"input",[["type","text"]],[[8,"value",0]],[[null,"input"],[null,"change"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==(t.context.$implicit.value=n.target.value)&&r),"change"===e&&(r=!1!==i.translationDetectChange(t.context.$implicit.key,n.target.value)&&r),r}),null,null)),zi(512,null,Qc,Yc,[or,sr,qn,Wn]),Bi(9,278528,null,0,Zc,[Qc],{ngClass:[0,"ngClass"]},null),Ws(10,{"translation-input-dirty":0})],(function(t,e){var n=t(e,10,0,e.component.inputsStatus[e.parent.parent.context.$implicit][e.context.$implicit.key]);t(e,9,0,n)}),(function(t,e){t(e,3,0,e.context.$implicit.key),t(e,5,0,e.context.$implicit.default_tra),t(e,7,0,e.context.$implicit.value)}))}function ZA(t){return Xs(0,[(t()(),Ds(0,0,null,null,13,"div",[["style","min-height: calc(100vh - 100px) !important;"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,2,"div",[["class","translations-nav-container"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,YA)),Bi(3,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(4,0,null,null,6,"div",[["class","mb-row translation-list-item"]],null,null,null,null,null)),(t()(),Ds(5,0,null,null,1,"div",[["class","mb-col-sm-3 translation-col-box tra-key"]],null,null,null,null,null)),(t()(),Gs(-1,null,["KEY"])),(t()(),Ds(7,0,null,null,1,"div",[["class","mb-col-sm-3 translation-col-box tra-default"]],null,null,null,null,null)),(t()(),Gs(-1,null,["DEFAULT"])),(t()(),Ds(9,0,null,null,1,"div",[["class","mb-col-sm-6 translation-col-box"]],null,null,null,null,null)),(t()(),Gs(-1,null,["VALUE"])),(t()(),Ps(16777216,null,null,2,null,XA)),Bi(12,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null),zs(13,2)],(function(t,e){var n=e.component;t(e,3,0,n.unsavedTranslationsShowWarningMsg[e.parent.context.$implicit]);var r=xr(e,12,0,t(e,13,0,xi(e.parent.parent.parent,0),n.eventTranslations[e.parent.context.$implicit],n.searchWord));t(e,12,0,r)}),null)}function $A(t){return Xs(0,[(t()(),Ds(0,16777216,null,null,7,"mat-tab",[],[[8,"lang-val",0]],null,null,nT,tT)),Bi(1,770048,[[1,4]],2,uI,[dr],{textLabel:[0,"textLabel"]},null),Ls(603979776,2,{templateLabel:0}),Ls(335544320,3,{_explicitContent:0}),(t()(),Ps(16777216,null,0,1,null,QA)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,0,1,null,ZA)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,ii(1,"",e.context.$implicit,"")),t(e,5,0,n.stillLoadingTranslationsList),t(e,7,0,!n.stillLoadingTranslationsList)}),(function(t,e){t(e,0,0,ii(1,"",e.context.$implicit,""))}))}function JA(t){return Xs(0,[(t()(),Ds(0,0,null,null,20,"div",[["class","event-translations-main-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,12,"div",[["class","mb-row"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,2,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,1,"div",[["class","search-container padding-10 text-align-left"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,0,"input",[["type","text"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==(t.component.searchWord=n.target.value)&&r),r}),null,null)),(t()(),Ds(5,0,null,null,8,"div",[["class","mb-col"]],null,null,null,null,null)),(t()(),Ds(6,0,null,null,7,"div",[["class","event-translations-nav"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,6,"div",[["class","padding-10 text-align-right"]],null,null,null,null,null)),(t()(),Ds(8,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEventTranslations()&&r),r}),null,null)),(t()(),Gs(-1,null,["Save Translations"])),(t()(),Ps(16777216,null,null,1,null,KA)),Bi(11,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,GA)),Bi(13,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(14,0,null,null,6,"div",[["class","translations-list"]],null,null,null,null,null)),(t()(),Ds(15,0,null,null,5,"div",[["class","event-langs-nav"]],null,null,null,null,null)),(t()(),Ds(16,0,null,null,4,"mat-tab-group",[["animationDuration","150ms"],["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],(function(t,e,n){var r=!0;return"selectedTabChange"===e&&(r=!1!==t.component.languageTabChanged(n)&&r),r}),QI,jI)),Bi(17,3325952,null,1,bI,[qn,Pe,[2,gI],[2,cw]],{animationDuration:[0,"animationDuration"]},{selectedTabChange:"selectedTabChange"}),Ls(603979776,1,{_tabs:1}),(t()(),Ps(16777216,null,null,1,null,$A)),Bi(20,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,11,0,n.isSavingEventTranslations),t(e,13,0,n.saveTranslationsShowSuccessMsg),t(e,17,0,"150ms"),t(e,20,0,n.eventSettings.event_languages)}),(function(t,e){t(e,4,0,e.component.searchWord),t(e,16,0,xi(e,17).dynamicHeight,"below"===xi(e,17).headerPosition)}))}function tP(t){return Xs(0,[ji(0,BA,[]),(t()(),Ps(16777216,null,null,1,null,WA)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,JA)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.stillLoadingContent),t(e,4,0,!n.stillLoadingContent)}),null)}function eP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-translations",[],null,null,null,tP,HA)),Bi(1,114688,null,0,zA,[ug,Gh,jA],null,null)],(function(t,e){t(e,1,0)}),null)}var nP=vi("app-event-details-translations",zA,eP,{},{},[]);class rP{constructor(){}ngOnInit(){}}var iP=Dr({encapsulation:0,styles:[[""]],data:{}});function oP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["event-details-attached-apps works!"]))],null,null)}function sP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-attached-apps",[],null,null,null,oP,iP)),Bi(1,114688,null,0,rP,[],null,null)],(function(t,e){t(e,1,0)}),null)}var lP=vi("app-event-details-attached-apps",rP,sP,{},{},[]);class aP{constructor(){}ngOnInit(){}}var uP=Dr({encapsulation:0,styles:[[""]],data:{}});function cP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["event-details-blogs works!"]))],null,null)}function hP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-blogs",[],null,null,null,cP,uP)),Bi(1,114688,null,0,aP,[],null,null)],(function(t,e){t(e,1,0)}),null)}var dP=vi("app-event-details-blogs",aP,hP,{},{},[]);class pP{constructor(){}ngOnInit(){}}var fP=Dr({encapsulation:0,styles:[[""]],data:{}});function gP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["event-details-notifications works!"]))],null,null)}function mP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-notifications",[],null,null,null,gP,fP)),Bi(1,114688,null,0,pP,[],null,null)],(function(t,e){t(e,1,0)}),null)}var vP=vi("app-event-details-notifications",pP,mP,{},{},[]);class yP{constructor(){}ngOnInit(){}}var bP=Dr({encapsulation:0,styles:[[""]],data:{}});function _P(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Gs(-1,null,["event-details-privatechat works!"]))],null,null)}function wP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-event-details-privatechat",[],null,null,null,_P,bP)),Bi(1,114688,null,0,yP,[],null,null)],(function(t,e){t(e,1,0)}),null)}var CP=vi("app-event-details-privatechat",yP,wP,{},{},[]),EP=Dr({encapsulation:2,styles:[".color-picker {\n  position: absolute;\n  z-index: 100000;\n\n  width: 230px;\n  height: auto;\n  border: #777 solid 1px;\n\n  cursor: default;\n\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n\n  user-select: none;\n  background-color: #fff;\n}\n\n.color-picker * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n\n  box-sizing: border-box;\n  margin: 0;\n\n  font-size: 11px;\n}\n\n.color-picker input {\n  width: 0;\n  height: 26px;\n  min-width: 0;\n\n  font-size: 13px;\n  text-align: center;\n  color: #000;\n}\n\n.color-picker input:invalid,\n.color-picker input:-moz-ui-invalid,\n.color-picker input:-moz-submit-invalid {\n  box-shadow: none;\n}\n\n.color-picker input::-webkit-inner-spin-button,\n.color-picker input::-webkit-outer-spin-button {\n  margin: 0;\n\n  -webkit-appearance: none;\n}\n\n.color-picker .arrow {\n  position: absolute;\n  z-index: 999999;\n\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.color-picker .arrow.arrow-top {\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-bottom {\n  top: -20px;\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-top-left,\n.color-picker .arrow.arrow-left-top {\n  right: -21px;\n  bottom: 8px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;\n}\n\n.color-picker .arrow.arrow-top-right,\n.color-picker .arrow.arrow-right-top {\n  bottom: 8px;\n  left: -20px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-left,\n.color-picker .arrow.arrow-left-bottom,\n.color-picker .arrow.arrow-bottom-left {\n  top: 8px;\n  right: -21px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;\n}\n\n.color-picker .arrow.arrow-right,\n.color-picker .arrow.arrow-right-bottom,\n.color-picker .arrow.arrow-bottom-right {\n  top: 8px;\n  left: -20px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .cursor {\n  position: relative;\n\n  width: 16px;\n  height: 16px;\n  border: #222 solid 2px;\n  border-radius: 50%;\n\n  cursor: default;\n}\n\n.color-picker .box {\n  display: flex;\n  padding: 4px 8px;\n}\n\n.color-picker .left {\n  position: relative;\n\n  padding: 16px 8px;\n}\n\n.color-picker .right {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  padding: 12px 8px;\n}\n\n.color-picker .button-area {\n  padding: 0 16px 16px;\n\n  text-align: right;\n}\n\n.color-picker .preset-area {\n  padding: 4px 15px;\n}\n\n.color-picker .preset-area .preset-label {\n  overflow: hidden;\n  width: 100%;\n  padding: 4px;\n\n  font-size: 11px;\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  color: #555;\n}\n\n.color-picker .preset-area .preset-color {\n  position: relative;\n\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  margin: 4px 6px 8px;\n  border: #a9a9a9 solid 1px;\n  border-radius: 25%;\n\n  cursor: pointer;\n}\n\n.color-picker .preset-area .preset-empty-message {\n  min-height: 18px;\n  margin-top: 4px;\n  margin-bottom: 8px;\n\n  font-style: italic;\n  text-align: center;\n}\n\n.color-picker .hex-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .hex-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .hex-text .box div {\n  float: left;\n\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  text-align: center;\n  color: #555;\n  clear: left;\n}\n\n.color-picker .hex-text .box input {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  padding: 1px;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .hex-alpha .box div:first-child,\n.color-picker .hex-alpha .box input:first-child {\n  flex-grow: 3;\n  margin-right: 8px;\n}\n\n.color-picker .cmyk-text,\n.color-picker .hsla-text,\n.color-picker .rgba-text,\n.color-picker .value-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .cmyk-text .box,\n.color-picker .hsla-text .box,\n.color-picker .rgba-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .value-text .box {\n  padding: 0 8px 8px;\n}\n\n.color-picker .cmyk-text .box div,\n.color-picker .hsla-text .box div,\n.color-picker .rgba-text .box div,\n.color-picker .value-text .box div {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  margin-right: 8px;\n\n  text-align: center;\n  color: #555;\n}\n\n.color-picker .cmyk-text .box div:last-child,\n.color-picker .hsla-text .box div:last-child,\n.color-picker .rgba-text .box div:last-child,\n.color-picker .value-text .box div:last-child {\n  margin-right: 0;\n}\n\n.color-picker .cmyk-text .box input,\n.color-picker .hsla-text .box input,\n.color-picker .rgba-text .box input,\n.color-picker .value-text .box input {\n  float: left;\n\n  -webkit-flex: 1;\n  -ms-flex: 1;\n\n  flex: 1;\n  padding: 1px;\n  margin: 0 8px 0 0;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .cmyk-text .box input:last-child,\n.color-picker .hsla-text .box input:last-child,\n.color-picker .rgba-text .box input:last-child,\n.color-picker .value-text .box input:last-child {\n  margin-right: 0;\n}\n\n.color-picker .hue-alpha {\n  align-items: center;\n  margin-bottom: 3px;\n}\n\n.color-picker .hue {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC');\n}\n\n.color-picker .value {\n  direction: rtl;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=');\n}\n\n.color-picker .alpha {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==');\n}\n\n.color-picker .type-policy {\n  position: absolute;\n  top: 218px;\n  right: 12px;\n\n  width: 16px;\n  height: 24px;\n\n  background-size: 8px 16px;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==');\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.color-picker .type-policy .type-policy-arrow {\n  display: block;\n\n  width: 100%;\n  height: 50%;\n}\n\n.color-picker .selected-color {\n  position: absolute;\n  top: 16px;\n  left: 8px;\n\n  width: 40px;\n  height: 40px;\n  border: 1px solid #a9a9a9;\n  border-radius: 50%;\n}\n\n.color-picker .selected-color-background {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC');\n}\n\n.color-picker .saturation-lightness {\n  direction: ltr;\n\n  width: 100%;\n  height: 130px;\n  border: none;\n\n  cursor: pointer;\n  touch-action: manipulation;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==');\n}\n\n.color-picker .cp-add-color-button-class {\n  position: absolute;\n\n  display: inline;\n  padding: 0;\n  margin: 3px -3px;\n  border: 0;\n\n  cursor: pointer;\n  background: transparent;\n}\n\n.color-picker .cp-add-color-button-class:hover {\n  text-decoration: underline;\n}\n\n.color-picker .cp-add-color-button-class:disabled {\n  cursor: not-allowed;\n  color: #999;\n}\n\n.color-picker .cp-add-color-button-class:disabled:hover {\n  text-decoration: none;\n}\n\n.color-picker .cp-remove-color-button-class {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  text-align: center;\n  background: #fff;\n\n  box-shadow: 1px 1px 5px #333;\n}\n\n.color-picker .cp-remove-color-button-class::before {\n  content: 'x';\n\n  position: relative;\n  bottom: 3.5px;\n\n  display: inline-block;\n\n  font-size: 10px;\n}\n"],data:{}});function SP(t){return Xs(0,[(t()(),Ds(0,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,ii(1,"arrow arrow-",n.cpUsePosition,""),n.arrowTop)}))}function IP(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","saturation-lightness"]],[[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==xi(t,1).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==xi(t,1).touchStart(n)&&r),"newValue"===e&&(r=!1!==i.onColorChange(n)&&r),"dragStart"===e&&(r=!1!==i.onDragStart("saturation-lightness")&&r),"dragEnd"===e&&(r=!1!==i.onDragEnd("saturation-lightness")&&r),r}),null,null)),Bi(1,16384,null,0,mA,[qn],{rgX:[0,"rgX"],rgY:[1,"rgY"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),Ds(2,0,null,null,0,"div",[["class","cursor"]],[[4,"top","px"],[4,"left","px"]],null,null,null,null))],(function(t,e){t(e,1,0,1,1)}),(function(t,e){var n=e.component;t(e,0,0,n.hueSliderColor),t(e,2,0,null==n.slider?null:n.slider.v,null==n.slider?null:n.slider.s)}))}function TP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onAddPresetColor(n,i.selectedColor)&&r),r}),null,null)),(t()(),Gs(1,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,ii(1,"",n.cpAddColorButtonClass,""),n.cpPresetColors&&n.cpPresetColors.length>=n.cpMaxPresetColorsLength),t(e,1,0,n.cpAddColorButtonText)}))}function kP(t){return Xs(0,[(t()(),Ds(0,0,null,null,0,"div",[["style","height: 16px;"]],null,null,null,null,null))],null,null)}function xP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,1).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaInput(n)&&r),r}),null,null)),Bi(1,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var n=e.component;t(e,0,0,null==n.cmykText?null:n.cmykText.a)}))}function AP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["A"]))],null,null)}function PP(t){return Xs(0,[(t()(),Ds(0,0,null,null,22,"div",[["class","cmyk-text"]],[[4,"display",null]],null,null,null,null)),(t()(),Ds(1,0,null,null,10,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,3).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onCyanInput(n)&&r),r}),null,null)),Bi(3,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,5).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onMagentaInput(n)&&r),r}),null,null)),Bi(5,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,7).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onYellowInput(n)&&r),r}),null,null)),Bi(7,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(8,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,9).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onBlackInput(n)&&r),r}),null,null)),Bi(9,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ps(16777216,null,null,1,null,xP)),Bi(11,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(12,0,null,null,10,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["C"])),(t()(),Ds(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["M"])),(t()(),Ds(17,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Y"])),(t()(),Ds(19,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["K"])),(t()(),Ps(16777216,null,null,1,null,AP)),Bi(22,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,100),t(e,5,0,100),t(e,7,0,100),t(e,9,0,100),t(e,11,0,"disabled"!==n.cpAlphaChannel),t(e,22,0,"disabled"!==n.cpAlphaChannel)}),(function(t,e){var n=e.component;t(e,0,0,3!==n.format?"none":"block"),t(e,2,0,null==n.cmykText?null:n.cmykText.c),t(e,4,0,null==n.cmykText?null:n.cmykText.m),t(e,6,0,null==n.cmykText?null:n.cmykText.y),t(e,8,0,null==n.cmykText?null:n.cmykText.k)}))}function DP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,1).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaInput(n)&&r),r}),null,null)),Bi(1,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var n=e.component;t(e,0,0,null==n.hslaText?null:n.hslaText.a)}))}function OP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["A"]))],null,null)}function NP(t){return Xs(0,[(t()(),Ds(0,0,null,null,18,"div",[["class","hsla-text"]],[[4,"display",null]],null,null,null,null)),(t()(),Ds(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"input",[["max","360"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,3).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onHueInput(n)&&r),r}),null,null)),Bi(3,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,5).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onSaturationInput(n)&&r),r}),null,null)),Bi(5,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,7).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onLightnessInput(n)&&r),r}),null,null)),Bi(7,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ps(16777216,null,null,1,null,DP)),Bi(9,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["H"])),(t()(),Ds(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["S"])),(t()(),Ds(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["L"])),(t()(),Ps(16777216,null,null,1,null,OP)),Bi(18,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,360),t(e,5,0,100),t(e,7,0,100),t(e,9,0,"disabled"!==n.cpAlphaChannel),t(e,18,0,"disabled"!==n.cpAlphaChannel)}),(function(t,e){var n=e.component;t(e,0,0,2!==n.format?"none":"block"),t(e,2,0,null==n.hslaText?null:n.hslaText.h),t(e,4,0,null==n.hslaText?null:n.hslaText.s),t(e,6,0,null==n.hslaText?null:n.hslaText.l)}))}function RP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,1).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaInput(n)&&r),r}),null,null)),Bi(1,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var n=e.component;t(e,0,0,null==n.rgbaText?null:n.rgbaText.a)}))}function MP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["A"]))],null,null)}function LP(t){return Xs(0,[(t()(),Ds(0,0,null,null,18,"div",[["class","rgba-text"]],[[4,"display",null]],null,null,null,null)),(t()(),Ds(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,3).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onRedInput(n)&&r),r}),null,null)),Bi(3,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(4,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,5).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onGreenInput(n)&&r),r}),null,null)),Bi(5,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ds(6,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,7).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onBlueInput(n)&&r),r}),null,null)),Bi(7,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ps(16777216,null,null,1,null,RP)),Bi(9,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["R"])),(t()(),Ds(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["G"])),(t()(),Ds(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["B"])),(t()(),Ps(16777216,null,null,1,null,MP)),Bi(18,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,255),t(e,5,0,255),t(e,7,0,255),t(e,9,0,"disabled"!==n.cpAlphaChannel),t(e,18,0,"disabled"!==n.cpAlphaChannel)}),(function(t,e){var n=e.component;t(e,0,0,1!==n.format?"none":"block"),t(e,2,0,null==n.rgbaText?null:n.rgbaText.r),t(e,4,0,null==n.rgbaText?null:n.rgbaText.g),t(e,6,0,null==n.rgbaText?null:n.rgbaText.b)}))}function FP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,1).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaInput(n)&&r),r}),null,null)),Bi(1,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){t(e,0,0,e.component.hexAlpha)}))}function VP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["A"]))],null,null)}function UP(t){return Xs(0,[(t()(),Ds(0,0,null,null,10,"div",[["class","hex-text"]],[[2,"hex-alpha",null],[4,"display",null]],null,null,null,null)),(t()(),Ds(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"input",[],[[8,"value",0]],[[null,"blur"],[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,3).inputChange(n)&&r),"blur"===e&&(r=!1!==i.onHexInput(null)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onHexInput(n)&&r),r}),null,null)),Bi(3,16384,null,0,gA,[],null,{newValue:"newValue"}),(t()(),Ps(16777216,null,null,1,null,FP)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Hex"])),(t()(),Ps(16777216,null,null,1,null,VP)),Bi(10,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,"forced"===n.cpAlphaChannel),t(e,10,0,"forced"===n.cpAlphaChannel)}),(function(t,e){var n=e.component;t(e,0,0,"forced"===n.cpAlphaChannel,0!==n.format?"none":"block"),t(e,2,0,n.hexText)}))}function qP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,1).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaInput(n)&&r),r}),null,null)),Bi(1,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var n=e.component;t(e,0,0,null==n.hslaText?null:n.hslaText.a)}))}function BP(t){return Xs(0,[(t()(),Ds(0,0,null,null,10,"div",[["class","value-text"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==xi(t,3).inputChange(n)&&r),"keyup.enter"===e&&(r=!1!==i.onAcceptColor(n)&&r),"newValue"===e&&(r=!1!==i.onValueInput(n)&&r),r}),null,null)),Bi(3,16384,null,0,gA,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Ps(16777216,null,null,1,null,qP)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),Ds(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["V"])),(t()(),Ds(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Gs(-1,null,["A"]))],(function(t,e){var n=e.component;t(e,3,0,100),t(e,5,0,"disabled"!==n.cpAlphaChannel)}),(function(t,e){var n=e.component;t(e,2,0,null==n.hslaText?null:n.hslaText.l)}))}function jP(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","type-policy"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onFormatToggle(-1)&&r),r}),null,null)),(t()(),Ds(2,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onFormatToggle(1)&&r),r}),null,null))],null,null)}function zP(t){return Xs(0,[(t()(),Ds(0,0,null,null,0,"span",[],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRemovePresetColor(n,t.parent.context.$implicit)&&r),r}),null,null))],null,(function(t,e){t(e,0,0,ii(1,"",e.component.cpRemoveColorButtonClass,""))}))}function HP(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[["class","preset-color"]],[[4,"backgroundColor",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setColorFromString(t.context.$implicit)&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,zP)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.cpAddColorButton)}),(function(t,e){t(e,0,0,e.context.$implicit)}))}function WP(t){return Xs(0,[(t()(),Ds(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,HP)),Bi(2,278528,null,0,Jc,[dr,cr,or],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.cpPresetColors)}),(function(t,e){t(e,0,0,ii(1,"",e.component.cpPresetColorsClass,""))}))}function KP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Gs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,ii(1,"",n.cpPresetEmptyMessageClass,"")),t(e,1,0,n.cpPresetEmptyMessage)}))}function GP(t){return Xs(0,[(t()(),Ds(0,0,null,null,7,"div",[["class","preset-area"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Ds(2,0,null,null,1,"div",[["class","preset-label"]],null,null,null,null,null)),(t()(),Gs(3,null,["",""])),(t()(),Ps(16777216,null,null,1,null,WP)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,KP)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,null==n.cpPresetColors?null:n.cpPresetColors.length),t(e,7,0,!(null!=n.cpPresetColors&&n.cpPresetColors.length)&&n.cpAddColorButton)}),(function(t,e){t(e,3,0,e.component.cpPresetLabel)}))}function QP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onCancelColor(n)&&r),r}),null,null)),(t()(),Gs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,ii(1,"",n.cpCancelButtonClass,"")),t(e,1,0,n.cpCancelButtonText)}))}function YP(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onAcceptColor(n)&&r),r}),null,null)),(t()(),Gs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,ii(1,"",n.cpOKButtonClass,"")),t(e,1,0,n.cpOKButtonText)}))}function XP(t){return Xs(0,[(t()(),Ds(0,0,null,null,4,"div",[["class","button-area"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,QP)),Bi(2,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,YP)),Bi(4,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.cpCancelButton),t(e,4,0,n.cpOKButton)}),null)}function ZP(t){return Xs(0,[Ls(402653184,1,{dialogElement:0}),Ls(402653184,2,{hueSlider:0}),Ls(402653184,3,{alphaSlider:0}),(t()(),Ds(3,0,[[1,0],["dialogPopup",1]],null,38,"div",[["class","color-picker"]],[[2,"open",null],[4,"display",null],[4,"visibility",null],[4,"top","px"],[4,"left","px"],[4,"position",null],[4,"height","px"],[4,"width","px"]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==n.stopPropagation()&&r),r}),null,null)),(t()(),Ps(16777216,null,null,1,null,SP)),Bi(5,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,IP)),Bi(7,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(8,0,null,null,17,"div",[["class","hue-alpha box"]],null,null,null,null,null)),(t()(),Ds(9,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(t()(),Ds(10,0,null,null,0,"div",[["class","selected-color-background"]],null,null,null,null,null)),(t()(),Ds(11,0,null,null,0,"div",[["class","selected-color"]],[[4,"background-color",null]],null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,TP)),Bi(13,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(14,0,null,null,11,"div",[["class","right"]],null,null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,kP)),Bi(16,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(17,0,[[2,0],["hueSlider",1]],null,2,"div",[["class","hue"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==xi(t,18).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==xi(t,18).touchStart(n)&&r),"newValue"===e&&(r=!1!==i.onHueChange(n)&&r),"dragStart"===e&&(r=!1!==i.onDragStart("hue")&&r),"dragEnd"===e&&(r=!1!==i.onDragEnd("hue")&&r),r}),null,null)),Bi(18,16384,null,0,mA,[qn],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),Ds(19,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),Ds(20,0,[["valueSlider",1]],null,2,"div",[["class","value"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==xi(t,21).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==xi(t,21).touchStart(n)&&r),"newValue"===e&&(r=!1!==i.onValueChange(n)&&r),"dragStart"===e&&(r=!1!==i.onDragStart("value")&&r),"dragEnd"===e&&(r=!1!==i.onDragEnd("value")&&r),r}),null,null)),Bi(21,16384,null,0,mA,[qn],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),Ds(22,0,null,null,0,"div",[["class","cursor"]],[[4,"right","px"]],null,null,null,null)),(t()(),Ds(23,0,[[3,0],["alphaSlider",1]],null,2,"div",[["class","alpha"]],[[4,"display",null],[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==xi(t,24).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==xi(t,24).touchStart(n)&&r),"newValue"===e&&(r=!1!==i.onAlphaChange(n)&&r),"dragStart"===e&&(r=!1!==i.onDragStart("alpha")&&r),"dragEnd"===e&&(r=!1!==i.onDragEnd("alpha")&&r),r}),null,null)),Bi(24,16384,null,0,mA,[qn],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),Ds(25,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),Ps(16777216,null,null,1,null,PP)),Bi(27,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,NP)),Bi(29,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,LP)),Bi(31,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,UP)),Bi(33,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,BP)),Bi(35,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,jP)),Bi(37,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,GP)),Bi(39,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ps(16777216,null,null,1,null,XP)),Bi(41,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,"popup"==n.cpDialogDisplay),t(e,7,0,1===(n.cpColorMode||1)),t(e,13,0,n.cpAddColorButton),t(e,16,0,"disabled"===n.cpAlphaChannel),t(e,18,0,1),t(e,21,0,1),t(e,24,0,1),t(e,27,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,29,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,31,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,33,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,35,0,!n.cpDisableInput&&2===(n.cpColorMode||1)),t(e,37,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,39,0,(null==n.cpPresetColors?null:n.cpPresetColors.length)||n.cpAddColorButton),t(e,41,0,n.cpOKButton||n.cpCancelButton)}),(function(t,e){var n=e.component;t(e,3,0,n.show,n.show?"block":"none",n.hidden?"hidden":"visible",n.top,n.left,n.position,n.cpHeight,n.cpWidth),t(e,11,0,n.selectedColor),t(e,17,0,1===(n.cpColorMode||1)?"block":"none"),t(e,19,0,null==n.slider?null:n.slider.h),t(e,20,0,2===(n.cpColorMode||1)?"block":"none"),t(e,22,0,null==n.slider?null:n.slider.v),t(e,23,0,"disabled"===n.cpAlphaChannel?"none":"block",n.alphaSliderColor),t(e,25,0,null==n.slider?null:n.slider.a)}))}function $P(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"color-picker",[],null,[["document","keyup.esc"],["document","keyup.enter"]],(function(t,e,n){var r=!0;return"document:keyup.esc"===e&&(r=!1!==xi(t,1).handleEsc(n)&&r),"document:keyup.enter"===e&&(r=!1!==xi(t,1).handleEnter(n)&&r),r}),ZP,EP)),Bi(1,4440064,null,0,_A,[qn,Pe,bA],null,null)],(function(t,e){t(e,1,0)}),null)}var JP=vi("color-picker",_A,$P,{},{},[]);class tD{constructor(t,e){this.authService=t,this.router=e,this.currentLoggedUser={}}ngOnInit(){this.authService.getUserFields(this.authService.currentLoggedUserData.uid).then(t=>{this.currentLoggedUser=t},t=>{console.log(t)})}logOutUser(){this.authService.signOutUser().then(t=>{this.router.navigate(["/signin"])},t=>{})}}var eD=Dr({encapsulation:0,styles:[[".main-navigation-container[_ngcontent-%COMP%]{background-color:#1d2531;color:#a1abb1;width:100%;display:flex;align-items:center}.main-navigation-container[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{width:20%;text-align:center}.main-navigation-container[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;max-height:60px}.main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]{width:60%;height:60px;display:flex;align-items:center}.main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;height:100%;padding:0}.main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer;height:100%;display:flex;align-items:center}.main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#fff;font-weight:500}.main-navigation-container[_ngcontent-%COMP%]   .menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:0}.main-navigation-container[_ngcontent-%COMP%]   .user-settings-box[_ngcontent-%COMP%]{width:20%;text-align:right;padding:0 10px}.main-navigation-container[_ngcontent-%COMP%]   .user-settings-box[_ngcontent-%COMP%]   .user-name-box[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-right:10px;color:#fff;cursor:pointer}.main-navigation-container[_ngcontent-%COMP%]   .user-settings-box[_ngcontent-%COMP%]   .user-name-box[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.main-navigation-container[_ngcontent-%COMP%]   .user-settings-box[_ngcontent-%COMP%]   .user-name-box[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-size:.6rem;font-weight:500}.main-navigation-container[_ngcontent-%COMP%]   .user-settings-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;vertical-align:middle;cursor:pointer}.main-navigation-container[_ngcontent-%COMP%]   .user-menu-box[_ngcontent-%COMP%]{display:none;right:0;left:auto;position:absolute;z-index:1000;min-width:10rem;padding:10px;text-align:left;list-style:none;border:1px solid rgba(0,0,0,.15);margin-top:2px;background-color:#1d2531;color:#a1abb1;font-size:.9rem;font-weight:500}.main-navigation-container[_ngcontent-%COMP%]   .user-menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.main-navigation-container[_ngcontent-%COMP%]   .user-menu-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#fff}.main-navigation-container[_ngcontent-%COMP%]   .user-menu-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}.main-navigation-container[_ngcontent-%COMP%]   .user-menu-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5rem;display:inline-block;vertical-align:middle}.user-settings-box[_ngcontent-%COMP%]:hover   .user-menu-box[_ngcontent-%COMP%]{display:block}"]],data:{}});function nD(t){return Xs(0,[(t()(),Ds(0,0,null,null,47,"div",[["class","main-navigation-container"]],null,null,null,null,null)),(t()(),Ds(1,0,null,null,1,"div",[["class","logo-box"]],null,null,null,null,null)),(t()(),Ds(2,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","../../../../assets/img/logo_transparent.png"]],null,null,null,null,null)),(t()(),Ds(3,0,null,null,22,"div",[["class","menu-box"]],null,null,null,null,null)),(t()(),Ds(4,0,null,null,21,"ul",[["class","menu-list"]],null,null,null,null,null)),(t()(),Ds(5,0,null,null,6,"li",[["class","menu-list-item"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,6).onClick()&&r),r}),null,null)),Bi(6,16384,[[1,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(7,1),Bi(8,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,1,{links:1}),Ls(603979776,2,{linksWithHrefs:1}),(t()(),Gs(-1,null,["Dashboard"])),(t()(),Ds(12,0,null,null,6,"li",[["class","menu-list-item"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,13).onClick()&&r),r}),null,null)),Bi(13,16384,[[3,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(14,1),Bi(15,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,3,{links:1}),Ls(603979776,4,{linksWithHrefs:1}),(t()(),Gs(-1,null,["Events"])),(t()(),Ds(19,0,null,null,6,"li",[["class","menu-list-item"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,20).onClick()&&r),r}),null,null)),Bi(20,16384,[[5,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(21,1),Bi(22,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,5,{links:1}),Ls(603979776,6,{linksWithHrefs:1}),(t()(),Gs(-1,null,["Users"])),(t()(),Ds(26,0,null,null,21,"div",[["class","user-settings-box"]],null,null,null,null,null)),(t()(),Ds(27,0,null,null,4,"div",[["class","user-name-box"]],null,null,null,null,null)),(t()(),Ds(28,0,null,null,1,"div",[["class","greeting"]],null,null,null,null,null)),(t()(),Gs(-1,null,["Welcome, "])),(t()(),Ds(30,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(t()(),Gs(31,null,[""," ",""])),(t()(),Ds(32,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),Ds(33,0,null,null,14,"div",[["class","user-menu-box animated fadeInDown"]],null,null,null,null,null)),(t()(),Ds(34,0,null,null,13,"ul",[["class","user-menu-list"]],null,null,null,null,null)),(t()(),Ds(35,0,null,null,8,"li",[["class","menu-list-item"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==xi(t,36).onClick()&&r),r}),null,null)),Bi(36,16384,[[7,4]],0,wm,[_m,ug,[8,null],Wn,qn],{routerLink:[0,"routerLink"]},null),Hs(37,1),Bi(38,1720320,null,2,Sm,[_m,qn,Wn,[2,wm],[2,Cm]],{routerLinkActive:[0,"routerLinkActive"]},null),Ls(603979776,7,{links:1}),Ls(603979776,8,{linksWithHrefs:1}),(t()(),Ds(41,0,null,null,0,"i",[["class","far fa-user-cog"]],null,null,null,null,null)),(t()(),Ds(42,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["My Profile"])),(t()(),Ds(44,0,null,null,3,"li",[["class","menu-list-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logOutUser()&&r),r}),null,null)),(t()(),Ds(45,0,null,null,0,"i",[["class","far fa-sign-out"]],null,null,null,null,null)),(t()(),Ds(46,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Gs(-1,null,["Logout"]))],(function(t,e){var n=t(e,7,0,"dashboard");t(e,6,0,n),t(e,8,0,"active");var r=t(e,14,0,"events");t(e,13,0,r),t(e,15,0,"active");var i=t(e,21,0,"users");t(e,20,0,i),t(e,22,0,"active");var o=t(e,37,0,"myprofile");t(e,36,0,o),t(e,38,0,"active")}),(function(t,e){var n=e.component;t(e,31,0,n.currentLoggedUser.first_name,n.currentLoggedUser.last_name),t(e,32,0,ii(1,"",n.currentLoggedUser.user_image,""))}))}class rD{constructor(){}ngOnInit(){}}var iD=Dr({encapsulation:0,styles:[[".app_main_footer_container[_ngcontent-%COMP%]{padding:10px;background-color:#1d2531;color:#a1abb1;text-align:center;width:100%}"]],data:{}});function oD(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"div",[["class","app_main_footer_container"]],null,null,null,null,null)),(t()(),Gs(-1,null,[" Event System by Mihail Dimitrov "]))],null,null)}var sD=Dr({encapsulation:0,styles:[["#main[_ngcontent-%COMP%]{min-height:calc(100vh - 105px)}"]],data:{}});function lD(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-main-navigation",[],null,null,null,nD,eD)),Bi(1,114688,null,0,tD,[Yh,_m],null,null)],(function(t,e){t(e,1,0)}),null)}function aD(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-main-footer",[],null,null,null,oD,iD)),Bi(1,114688,null,0,rD,[],null,null)],(function(t,e){t(e,1,0)}),null)}function uD(t){return Xs(0,[(t()(),Ps(16777216,null,null,1,null,lD)),Bi(1,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null),(t()(),Ds(2,0,null,null,2,"main",[["class",""],["id","main"]],null,null,null,null,null)),(t()(),Ds(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Bi(4,212992,null,0,km,[Tm,dr,Ln,[8,null],Pe],null,null),(t()(),Ps(16777216,null,null,1,null,aD)),Bi(6,16384,null,0,eh,[dr,cr],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.isUserLogged),t(e,4,0),t(e,6,0,n.isUserLogged)}),null)}function cD(t){return Xs(0,[(t()(),Ds(0,0,null,null,1,"app-root",[],null,null,null,uD,sD)),Bi(1,49152,null,0,Xh,[Yh],null,null)],null,null)}var hD=vi("app-root",Xh,cD,{},{},[]);let dD=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivate(t,e){const n=this.authService.currentUserValue,r=this.authService.getFBTokenCookie();return!("true"!=n&&1!=n||!r||3!==r.split(".").length)||(this.router.navigate(["/signin"]),!1)}}return t.ngInjectableDef=dt({factory:function(){return new t(Ft(_m),Ft(Yh))},token:t,providedIn:"root"}),t})();class pD{}class fD{}class gD{}class mD{}var vD=ea(ra,[Xh],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Be&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[kr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([ci(512,Ln,Fn,[[8,[$m,MC,$C,uE,fE,bE,tS,bS,SS,FS,jS,AT,Fk,jk,Gk,$k,rx,ax,px,yx,Ex,xx,Nx,Vx,zx,Qx,Jx,iA,uA,qA,nP,lP,dP,vP,CP,JP,hD]],[3,Ln],Bt]),ci(5120,Io,ks,[[3,Io]]),ci(4608,Wc,Kc,[Io,[2,Hc]]),ci(5120,io,xs,[zo]),ci(5120,yo,bo,[]),ci(5120,or,Is,[]),ci(5120,sr,Ts,[]),ci(4608,zp,Hp,[uh]),ci(6144,Ie,null,[zp]),ci(4608,Lp,Vp,[]),ci(5120,ip,(function(t,e,n,r,i,o,s,l){return[new Rp(t,e,n),new jp(r),new Up(i,o,s,l)]}),[uh,zo,Co,uh,uh,Lp,So,[2,Fp]]),ci(4608,op,op,[ip,zo]),ci(135680,ap,ap,[uh]),ci(4608,gp,gp,[op,ap,yo]),ci(5120,jy,lw,[]),ci(5120,zb,aw,[]),ci(4608,I_,sw,[uh,jy,zb]),ci(5120,zn,uw,[gp,I_,zo]),ci(6144,lp,null,[ap]),ci(4608,Xo,Xo,[zo]),ci(5120,ug,Hm,[_m]),ci(4608,Dm,Dm,[]),ci(6144,Am,null,[Dm]),ci(135680,Om,Om,[_m,hs,Oo,ze,Am]),ci(4608,Pm,Pm,[]),ci(5120,Nm,Um,[_m,dh,Rm]),ci(5120,Qm,Gm,[Wm]),ci(5120,Eo,(function(t){return[t]}),[Qm]),ci(4608,CC,CC,[]),ci(4608,Lw,Lw,[]),ci(4608,ck,ck,[uh,zo,BI,ak]),ci(4608,DI,DI,[]),ci(4608,bA,bA,[]),ci(4608,py,Z_,[zn,uh]),ci(4608,qh,Bh,[uh,Co,Vh]),ci(4608,jh,jh,[qh,Uh]),ci(5120,Oh,(function(t){return[t]}),[jh]),ci(4608,Lh,Lh,[]),ci(6144,Mh,null,[Lh]),ci(4608,Fh,Fh,[Mh]),ci(6144,gh,null,[Fh]),ci(4608,fh,zh,[gh,ze]),ci(4608,Ph,Ph,[fh]),ci(1073742336,ah,ah,[]),ci(1024,Jt,$p,[]),ci(1024,is,(function(){return[Fm()]}),[]),ci(512,Wm,Wm,[ze]),ci(1024,mo,(function(t,e){return[(n=t,ep("probe",rp),ep("coreTokens",Object.assign({},np,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>rp),Km(e)];var n}),[[2,is],Wm]),ci(512,vo,vo,[[2,mo]]),ci(131584,us,us,[zo,So,ze,Jt,Ln,vo]),ci(1073742336,As,As,[us]),ci(1073742336,Jp,Jp,[[3,Jp]]),ci(1024,Mm,Bm,[[3,_m]]),ci(512,Bf,jf,[]),ci(512,Tm,Tm,[]),ci(256,Rm,{},[]),ci(1024,ac,qm,[sc,[2,uc],Rm]),ci(512,cc,cc,[ac,sc]),ci(512,Oo,Oo,[]),ci(512,hs,ms,[Oo,[2,fs]]),ci(1024,pm,(function(){return[[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"signin",component:SC},{path:"signup",component:LC},{path:"resetPassword",component:JC},{path:"myprofile",component:cE},{path:"dashboard",component:gE,canActivate:[dD]},{path:"events",component:XE,canActivate:[dD]},{path:"users",component:aS,canActivate:[dD]},{path:"user/:id",component:_S,canActivate:[dD]},{path:"event/:id",component:NS,canActivate:[dD],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:VS},{path:"settings",component:rT},{path:"features",component:_k},{path:"content",component:Vk},{path:"users",component:zk},{path:"schedule",component:Qk},{path:"attendees",component:Jk},{path:"speakers",component:ix},{path:"sponsors",component:ux},{path:"exhibitors",component:fx},{path:"maps",component:bx},{path:"pages",component:Sx},{path:"forms",component:Ax},{path:"livepoll",component:Rx},{path:"floorplan",component:Ux},{path:"weather",component:Hx},{path:"externallinks",component:Yx},{path:"activityfeed",component:tA},{path:"publicchat",component:oA},{path:"design",component:EA},{path:"translations",component:zA},{path:"attachedapps",component:rP},{path:"blogs",component:aP},{path:"notifications",component:pP},{path:"privatechat",component:yP}]},{path:"**",redirectTo:"dashboard"}]]}),[]),ci(1024,_m,zm,[us,Bf,Tm,cc,ze,hs,Oo,pm,Rm,[2,gm],[2,hm]]),ci(1073742336,Vm,Vm,[[2,Mm],[2,_m]]),ci(1073742336,pD,pD,[]),ci(1073742336,wC,wC,[]),ci(1073742336,EC,EC,[]),ci(1073742336,fD,fD,[]),ci(1073742336,gD,gD,[]),ci(1073742336,bk,bk,[]),ci(1073742336,dy,dy,[]),ci(1073742336,Bv,Bv,[[2,qv],[2,Fp]]),ci(1073742336,uy,uy,[]),ci(1073742336,YS,YS,[]),ci(1073742336,lv,lv,[]),ci(1073742336,ty,ty,[]),ci(1073742336,RI,RI,[]),ci(1073742336,Vv,Vv,[]),ci(1073742336,PI,PI,[]),ci(1073742336,CA,CA,[]),ci(1073742336,mD,mD,[]),ci(1073742336,hw,hw,[]),ci(1073742336,Hh,Hh,[]),ci(1073742336,Wh,Wh,[]),ci(1073742336,ra,ra,[]),ci(256,Be,!0,[]),ci(256,cw,"BrowserAnimations",[]),ci(256,Vh,"XSRF-TOKEN",[]),ci(256,Uh,"X-XSRF-TOKEN",[])])}));(function(){if(ee)throw new Error("Cannot enable prod mode after platform setup.");te=!1})(),Zp().bootstrapModuleFactory(vD).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=(15&l)<<2|u>>6,h=63&u;a||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,l=++i<t.length?n[t.charAt(i)]:64,a=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==l||null==a)throw Error();r.push(o<<2|s>>4),64!==l&&(r.push(s<<4&240|l>>2),64!==a&&r.push(l<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",l=this.serviceName+": "+s+" ("+i+").",a=new f(i,l),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in a&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),a[h]=r[h])}return a},t}();function m(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},w=function(t,e){return _(e,(function(e,n){t[e]=n})),t},C=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],l=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^l&(a^u),o=1518500249):(i=l^a^u,o=1859775393):r<60?(i=l&a|u&(l|a),o=2400959708):(i=l^a^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=a,a=4294967295&(l<<30|l>>>2),l=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=f,e.Sha1=E,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=a,e.base64Decode=u,e.base64Encode=function(t){var e=l(t);return a.encodeByteArray(e,!0)},e.clone=function(t){return w({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new S(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=T,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=w,e.findKey=C,e.findValue=function(t,e,n){var r=C(t,e,n);return r&&t[r]},e.forEach=_,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=d,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.querystring=function(t){var e=[];return _(t,(function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")}}},[[0,0]]]);